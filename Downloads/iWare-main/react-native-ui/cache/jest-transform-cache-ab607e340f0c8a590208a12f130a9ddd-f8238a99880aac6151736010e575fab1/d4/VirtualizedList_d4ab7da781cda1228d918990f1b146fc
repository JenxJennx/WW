375f5f38127f7e24ccfd306418da5baa
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _VirtualizeUtils = require("./VirtualizeUtils");

var React = _interopRequireWildcard(require("react"));

var _VirtualizedListContext = require("./VirtualizedListContext.js");

var _jsxRuntime = require("react/jsx-runtime");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var Batchinator = require("../Interaction/Batchinator");

var FillRateHelper = require("./FillRateHelper");

var ReactNative = require("../Renderer/shims/ReactNative");

var RefreshControl = require("../Components/RefreshControl/RefreshControl");

var ScrollView = require("../Components/ScrollView/ScrollView");

var StyleSheet = require("../StyleSheet/StyleSheet");

var View = require("../Components/View/View");

var ViewabilityHelper = require("./ViewabilityHelper");

var flattenStyle = require("../StyleSheet/flattenStyle");

var infoLog = require("../Utilities/infoLog");

var invariant = require('invariant');

var _usedIndexForKey = false;
var _keylessItemComponentName = '';

function horizontalOrDefault(horizontal) {
  return horizontal != null ? horizontal : false;
}

function initialNumToRenderOrDefault(initialNumToRender) {
  return initialNumToRender != null ? initialNumToRender : 10;
}

function maxToRenderPerBatchOrDefault(maxToRenderPerBatch) {
  return maxToRenderPerBatch != null ? maxToRenderPerBatch : 10;
}

function onEndReachedThresholdOrDefault(onEndReachedThreshold) {
  return onEndReachedThreshold != null ? onEndReachedThreshold : 2;
}

function scrollEventThrottleOrDefault(scrollEventThrottle) {
  return scrollEventThrottle != null ? scrollEventThrottle : 50;
}

function windowSizeOrDefault(windowSize) {
  return windowSize != null ? windowSize : 21;
}

var VirtualizedList = function (_React$PureComponent) {
  (0, _inherits2.default)(VirtualizedList, _React$PureComponent);

  var _super = _createSuper(VirtualizedList);

  function VirtualizedList(_props) {
    var _this$props$updateCel;

    var _this;

    (0, _classCallCheck2.default)(this, VirtualizedList);
    _this = _super.call(this, _props);

    _this._getScrollMetrics = function () {
      return _this._scrollMetrics;
    };

    _this._getOutermostParentListRef = function () {
      if (_this._isNestedWithSameOrientation()) {
        return _this.context.getOutermostParentListRef();
      } else {
        return (0, _assertThisInitialized2.default)(_this);
      }
    };

    _this._getNestedChildState = function (key) {
      var existingChildData = _this._nestedChildLists.get(key);

      return existingChildData && existingChildData.state;
    };

    _this._registerAsNestedChild = function (childList) {
      var childListsInCell = _this._cellKeysToChildListKeys.get(childList.cellKey) || new Set();
      childListsInCell.add(childList.key);

      _this._cellKeysToChildListKeys.set(childList.cellKey, childListsInCell);

      var existingChildData = _this._nestedChildLists.get(childList.key);

      if (existingChildData && existingChildData.ref !== null) {
        console.error('A VirtualizedList contains a cell which itself contains ' + 'more than one VirtualizedList of the same orientation as the parent ' + 'list. You must pass a unique listKey prop to each sibling list.\n\n' + describeNestedLists(_objectSpread(_objectSpread({}, childList), {}, {
          horizontal: !!childList.ref.props.horizontal
        })));
      }

      _this._nestedChildLists.set(childList.key, {
        ref: childList.ref,
        state: null
      });

      if (_this._hasInteracted) {
        childList.ref.recordInteraction();
      }
    };

    _this._unregisterAsNestedChild = function (childList) {
      _this._nestedChildLists.set(childList.key, {
        ref: null,
        state: childList.state
      });
    };

    _this._onUpdateSeparators = function (keys, newProps) {
      keys.forEach(function (key) {
        var ref = key != null && _this._cellRefs[key];
        ref && ref.updateSeparatorProps(newProps);
      });
    };

    _this._getSpacerKey = function (isVertical) {
      return isVertical ? 'height' : 'width';
    };

    _this._averageCellLength = 0;
    _this._cellKeysToChildListKeys = new Map();
    _this._cellRefs = {};
    _this._frames = {};
    _this._footerLength = 0;
    _this._hasDoneInitialScroll = false;
    _this._hasInteracted = false;
    _this._hasMore = false;
    _this._hasWarned = {};
    _this._headerLength = 0;
    _this._hiPriInProgress = false;
    _this._highestMeasuredFrameIndex = 0;
    _this._indicesToKeys = new Map();
    _this._nestedChildLists = new Map();
    _this._offsetFromParentVirtualizedList = 0;
    _this._prevParentOffset = 0;
    _this._scrollMetrics = {
      contentLength: 0,
      dOffset: 0,
      dt: 10,
      offset: 0,
      timestamp: 0,
      velocity: 0,
      visibleLength: 0
    };
    _this._scrollRef = null;
    _this._sentEndForContentLength = 0;
    _this._totalCellLength = 0;
    _this._totalCellsMeasured = 0;
    _this._viewabilityTuples = [];

    _this._captureScrollRef = function (ref) {
      _this._scrollRef = ref;
    };

    _this._defaultRenderScrollComponent = function (props) {
      var onRefresh = props.onRefresh;

      if (_this._isNestedWithSameOrientation()) {
        return (0, _jsxRuntime.jsx)(View, _objectSpread({}, props));
      } else if (onRefresh) {
        var _props$refreshing;

        invariant(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify((_props$refreshing = props.refreshing) != null ? _props$refreshing : 'undefined') + '`');
        return (0, _jsxRuntime.jsx)(ScrollView, _objectSpread(_objectSpread({}, props), {}, {
          refreshControl: props.refreshControl == null ? (0, _jsxRuntime.jsx)(RefreshControl, {
            refreshing: props.refreshing,
            onRefresh: onRefresh,
            progressViewOffset: props.progressViewOffset
          }) : props.refreshControl
        }));
      } else {
        return (0, _jsxRuntime.jsx)(ScrollView, _objectSpread({}, props));
      }
    };

    _this._onCellUnmount = function (cellKey) {
      var curr = _this._frames[cellKey];

      if (curr) {
        _this._frames[cellKey] = _objectSpread(_objectSpread({}, curr), {}, {
          inLayout: false
        });
      }
    };

    _this._onLayout = function (e) {
      if (_this._isNestedWithSameOrientation()) {
        _this.measureLayoutRelativeToContainingList();
      } else {
        _this._scrollMetrics.visibleLength = _this._selectLength(e.nativeEvent.layout);
      }

      _this.props.onLayout && _this.props.onLayout(e);

      _this._scheduleCellsToRenderUpdate();

      _this._maybeCallOnEndReached();
    };

    _this._onLayoutEmpty = function (e) {
      _this.props.onLayout && _this.props.onLayout(e);
    };

    _this._onLayoutFooter = function (e) {
      _this._triggerRemeasureForChildListsInCell(_this._getFooterCellKey());

      _this._footerLength = _this._selectLength(e.nativeEvent.layout);
    };

    _this._onLayoutHeader = function (e) {
      _this._headerLength = _this._selectLength(e.nativeEvent.layout);
    };

    _this._onContentSizeChange = function (width, height) {
      if (width > 0 && height > 0 && _this.props.initialScrollIndex != null && _this.props.initialScrollIndex > 0 && !_this._hasDoneInitialScroll) {
        if (_this.props.contentOffset == null) {
          _this.scrollToIndex({
            animated: false,
            index: _this.props.initialScrollIndex
          });
        }

        _this._hasDoneInitialScroll = true;
      }

      if (_this.props.onContentSizeChange) {
        _this.props.onContentSizeChange(width, height);
      }

      _this._scrollMetrics.contentLength = _this._selectLength({
        height: height,
        width: width
      });

      _this._scheduleCellsToRenderUpdate();

      _this._maybeCallOnEndReached();
    };

    _this._convertParentScrollMetrics = function (metrics) {
      var offset = metrics.offset - _this._offsetFromParentVirtualizedList;
      var visibleLength = metrics.visibleLength;
      var dOffset = offset - _this._scrollMetrics.offset;
      var contentLength = _this._scrollMetrics.contentLength;
      return {
        visibleLength: visibleLength,
        contentLength: contentLength,
        offset: offset,
        dOffset: dOffset
      };
    };

    _this._onScroll = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onScroll(e);
      });

      if (_this.props.onScroll) {
        _this.props.onScroll(e);
      }

      var timestamp = e.timeStamp;

      var visibleLength = _this._selectLength(e.nativeEvent.layoutMeasurement);

      var contentLength = _this._selectLength(e.nativeEvent.contentSize);

      var offset = _this._selectOffset(e.nativeEvent.contentOffset);

      var dOffset = offset - _this._scrollMetrics.offset;

      if (_this._isNestedWithSameOrientation()) {
        if (_this._scrollMetrics.contentLength === 0) {
          return;
        }

        var _this$_convertParentS = _this._convertParentScrollMetrics({
          visibleLength: visibleLength,
          offset: offset
        });

        visibleLength = _this$_convertParentS.visibleLength;
        contentLength = _this$_convertParentS.contentLength;
        offset = _this$_convertParentS.offset;
        dOffset = _this$_convertParentS.dOffset;
      }

      var dt = _this._scrollMetrics.timestamp ? Math.max(1, timestamp - _this._scrollMetrics.timestamp) : 1;
      var velocity = dOffset / dt;

      if (dt > 500 && _this._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !_this._hasWarned.perf) {
        infoLog('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', {
          dt: dt,
          prevDt: _this._scrollMetrics.dt,
          contentLength: contentLength
        });
        _this._hasWarned.perf = true;
      }

      _this._scrollMetrics = {
        contentLength: contentLength,
        dt: dt,
        dOffset: dOffset,
        offset: offset,
        timestamp: timestamp,
        velocity: velocity,
        visibleLength: visibleLength
      };

      _this._updateViewableItems(_this.props.data);

      if (!_this.props) {
        return;
      }

      _this._maybeCallOnEndReached();

      if (velocity !== 0) {
        _this._fillRateHelper.activate();
      }

      _this._computeBlankness();

      _this._scheduleCellsToRenderUpdate();
    };

    _this._onScrollBeginDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onScrollBeginDrag(e);
      });

      _this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.recordInteraction();
      });

      _this._hasInteracted = true;
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };

    _this._onScrollEndDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onScrollEndDrag(e);
      });

      var velocity = e.nativeEvent.velocity;

      if (velocity) {
        _this._scrollMetrics.velocity = _this._selectOffset(velocity);
      }

      _this._computeBlankness();

      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };

    _this._onMomentumScrollBegin = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onMomentumScrollBegin(e);
      });

      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };

    _this._onMomentumScrollEnd = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onMomentumScrollEnd(e);
      });

      _this._scrollMetrics.velocity = 0;

      _this._computeBlankness();

      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };

    _this._updateCellsToRender = function () {
      var _this$props = _this.props,
          data = _this$props.data,
          getItemCount = _this$props.getItemCount,
          _onEndReachedThreshold = _this$props.onEndReachedThreshold;
      var onEndReachedThreshold = onEndReachedThresholdOrDefault(_onEndReachedThreshold);

      var isVirtualizationDisabled = _this._isVirtualizationDisabled();

      _this._updateViewableItems(data);

      if (!data) {
        return;
      }

      _this.setState(function (state) {
        var newState;
        var _this$_scrollMetrics = _this._scrollMetrics,
            contentLength = _this$_scrollMetrics.contentLength,
            offset = _this$_scrollMetrics.offset,
            visibleLength = _this$_scrollMetrics.visibleLength;

        if (!isVirtualizationDisabled) {
          if (visibleLength > 0 && contentLength > 0) {
            if (!_this.props.initialScrollIndex || _this._scrollMetrics.offset) {
              newState = (0, _VirtualizeUtils.computeWindowedRenderLimits)(_this.props.data, _this.props.getItemCount, maxToRenderPerBatchOrDefault(_this.props.maxToRenderPerBatch), windowSizeOrDefault(_this.props.windowSize), state, _this._getFrameMetricsApprox, _this._scrollMetrics);
            }
          }
        } else {
          var distanceFromEnd = contentLength - visibleLength - offset;
          var renderAhead = distanceFromEnd < onEndReachedThreshold * visibleLength ? maxToRenderPerBatchOrDefault(_this.props.maxToRenderPerBatch) : 0;
          newState = {
            first: 0,
            last: Math.min(state.last + renderAhead, getItemCount(data) - 1)
          };
        }

        if (newState && _this._nestedChildLists.size > 0) {
          var newFirst = newState.first;
          var newLast = newState.last;

          for (var ii = newFirst; ii <= newLast; ii++) {
            var cellKeyForIndex = _this._indicesToKeys.get(ii);

            var childListKeys = cellKeyForIndex && _this._cellKeysToChildListKeys.get(cellKeyForIndex);

            if (!childListKeys) {
              continue;
            }

            var someChildHasMore = false;

            for (var _iterator = _createForOfIteratorHelperLoose(childListKeys), _step; !(_step = _iterator()).done;) {
              var childKey = _step.value;

              var childList = _this._nestedChildLists.get(childKey);

              if (childList && childList.ref && childList.ref.hasMore()) {
                someChildHasMore = true;
                break;
              }
            }

            if (someChildHasMore) {
              newState.last = ii;
              break;
            }
          }
        }

        if (newState != null && newState.first === state.first && newState.last === state.last) {
          newState = null;
        }

        return newState;
      });
    };

    _this._createViewToken = function (index, isViewable) {
      var _this$props2 = _this.props,
          data = _this$props2.data,
          getItem = _this$props2.getItem;
      var item = getItem(data, index);
      return {
        index: index,
        item: item,
        key: _this._keyExtractor(item, index),
        isViewable: isViewable
      };
    };

    _this._getFrameMetricsApprox = function (index) {
      var frame = _this._getFrameMetrics(index);

      if (frame && frame.index === index) {
        return frame;
      } else {
        var getItemLayout = _this.props.getItemLayout;
        invariant(!getItemLayout, 'Should not have to estimate frames when a measurement metrics function is provided');
        return {
          length: _this._averageCellLength,
          offset: _this._averageCellLength * index
        };
      }
    };

    _this._getFrameMetrics = function (index) {
      var _this$props3 = _this.props,
          data = _this$props3.data,
          getItem = _this$props3.getItem,
          getItemCount = _this$props3.getItemCount,
          getItemLayout = _this$props3.getItemLayout;
      invariant(getItemCount(data) > index, 'Tried to get frame for out of range index ' + index);
      var item = getItem(data, index);

      var frame = item && _this._frames[_this._keyExtractor(item, index)];

      if (!frame || frame.index !== index) {
        if (getItemLayout) {
          frame = getItemLayout(data, index);
        }
      }

      return frame;
    };

    invariant(!_props.onScroll || !_props.onScroll.__isNative, 'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' + 'to support native onScroll events with useNativeDriver');
    invariant(windowSizeOrDefault(_props.windowSize) > 0, 'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');
    _this._fillRateHelper = new FillRateHelper(_this._getFrameMetrics);
    _this._updateCellsToRenderBatcher = new Batchinator(_this._updateCellsToRender, (_this$props$updateCel = _this.props.updateCellsBatchingPeriod) != null ? _this$props$updateCel : 50);

    if (_this.props.viewabilityConfigCallbackPairs) {
      _this._viewabilityTuples = _this.props.viewabilityConfigCallbackPairs.map(function (pair) {
        return {
          viewabilityHelper: new ViewabilityHelper(pair.viewabilityConfig),
          onViewableItemsChanged: pair.onViewableItemsChanged
        };
      });
    } else {
      var _this$props4 = _this.props,
          onViewableItemsChanged = _this$props4.onViewableItemsChanged,
          viewabilityConfig = _this$props4.viewabilityConfig;

      if (onViewableItemsChanged) {
        _this._viewabilityTuples.push({
          viewabilityHelper: new ViewabilityHelper(viewabilityConfig),
          onViewableItemsChanged: onViewableItemsChanged
        });
      }
    }

    var initialState = {
      first: _this.props.initialScrollIndex || 0,
      last: Math.min(_this.props.getItemCount(_this.props.data), (_this.props.initialScrollIndex || 0) + initialNumToRenderOrDefault(_this.props.initialNumToRender)) - 1
    };

    if (_this._isNestedWithSameOrientation()) {
      var storedState = _this.context.getNestedChildState(_this._getListKey());

      if (storedState) {
        initialState = storedState;
        _this.state = storedState;
        _this._frames = storedState.frames;
      }
    }

    _this.state = initialState;
    return _this;
  }

  (0, _createClass2.default)(VirtualizedList, [{
    key: "scrollToEnd",
    value: function scrollToEnd(params) {
      var animated = params ? params.animated : true;
      var veryLast = this.props.getItemCount(this.props.data) - 1;

      var frame = this._getFrameMetricsApprox(veryLast);

      var offset = Math.max(0, frame.offset + frame.length + this._footerLength - this._scrollMetrics.visibleLength);

      if (this._scrollRef == null) {
        return;
      }

      if (this._scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }

      this._scrollRef.scrollTo(horizontalOrDefault(this.props.horizontal) ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToIndex",
    value: function scrollToIndex(params) {
      var _this$props5 = this.props,
          data = _this$props5.data,
          horizontal = _this$props5.horizontal,
          getItemCount = _this$props5.getItemCount,
          getItemLayout = _this$props5.getItemLayout,
          onScrollToIndexFailed = _this$props5.onScrollToIndexFailed;
      var animated = params.animated,
          index = params.index,
          viewOffset = params.viewOffset,
          viewPosition = params.viewPosition;
      invariant(index >= 0, "scrollToIndex out of range: requested index " + index + " but minimum is 0");
      invariant(getItemCount(data) >= 1, "scrollToIndex out of range: item length " + getItemCount(data) + " but minimum is 1");
      invariant(index < getItemCount(data), "scrollToIndex out of range: requested index " + index + " is out of 0 to " + (getItemCount(data) - 1));

      if (!getItemLayout && index > this._highestMeasuredFrameIndex) {
        invariant(!!onScrollToIndexFailed, 'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' + 'otherwise there is no way to know the location of offscreen indices or handle failures.');
        onScrollToIndexFailed({
          averageItemLength: this._averageCellLength,
          highestMeasuredFrameIndex: this._highestMeasuredFrameIndex,
          index: index
        });
        return;
      }

      var frame = this._getFrameMetricsApprox(index);

      var offset = Math.max(0, frame.offset - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length)) - (viewOffset || 0);

      if (this._scrollRef == null) {
        return;
      }

      if (this._scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }

      this._scrollRef.scrollTo(horizontal ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToItem",
    value: function scrollToItem(params) {
      var item = params.item;
      var _this$props6 = this.props,
          data = _this$props6.data,
          getItem = _this$props6.getItem,
          getItemCount = _this$props6.getItemCount;
      var itemCount = getItemCount(data);

      for (var _index = 0; _index < itemCount; _index++) {
        if (getItem(data, _index) === item) {
          this.scrollToIndex(_objectSpread(_objectSpread({}, params), {}, {
            index: _index
          }));
          break;
        }
      }
    }
  }, {
    key: "scrollToOffset",
    value: function scrollToOffset(params) {
      var animated = params.animated,
          offset = params.offset;

      if (this._scrollRef == null) {
        return;
      }

      if (this._scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }

      this._scrollRef.scrollTo(horizontalOrDefault(this.props.horizontal) ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "recordInteraction",
    value: function recordInteraction() {
      this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref.recordInteraction();
      });

      this._viewabilityTuples.forEach(function (t) {
        t.viewabilityHelper.recordInteraction();
      });

      this._updateViewableItems(this.props.data);
    }
  }, {
    key: "flashScrollIndicators",
    value: function flashScrollIndicators() {
      if (this._scrollRef == null) {
        return;
      }

      this._scrollRef.flashScrollIndicators();
    }
  }, {
    key: "getScrollResponder",
    value: function getScrollResponder() {
      if (this._scrollRef && this._scrollRef.getScrollResponder) {
        return this._scrollRef.getScrollResponder();
      }
    }
  }, {
    key: "getScrollableNode",
    value: function getScrollableNode() {
      if (this._scrollRef && this._scrollRef.getScrollableNode) {
        return this._scrollRef.getScrollableNode();
      } else {
        return ReactNative.findNodeHandle(this._scrollRef);
      }
    }
  }, {
    key: "getScrollRef",
    value: function getScrollRef() {
      if (this._scrollRef && this._scrollRef.getScrollRef) {
        return this._scrollRef.getScrollRef();
      } else {
        return this._scrollRef;
      }
    }
  }, {
    key: "setNativeProps",
    value: function setNativeProps(props) {
      if (this._scrollRef) {
        this._scrollRef.setNativeProps(props);
      }
    }
  }, {
    key: "_getCellKey",
    value: function _getCellKey() {
      var _this$context;

      return ((_this$context = this.context) == null ? void 0 : _this$context.cellKey) || 'rootList';
    }
  }, {
    key: "_getListKey",
    value: function _getListKey() {
      return this.props.listKey || this._getCellKey();
    }
  }, {
    key: "_getDebugInfo",
    value: function _getDebugInfo() {
      var _this$context2;

      return {
        listKey: this._getListKey(),
        cellKey: this._getCellKey(),
        horizontal: horizontalOrDefault(this.props.horizontal),
        parent: (_this$context2 = this.context) == null ? void 0 : _this$context2.debugInfo
      };
    }
  }, {
    key: "hasMore",
    value: function hasMore() {
      return this._hasMore;
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.registerAsNestedChild({
          cellKey: this._getCellKey(),
          key: this._getListKey(),
          ref: this,
          parentDebugInfo: this.context.debugInfo
        });
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.unregisterAsNestedChild({
          key: this._getListKey(),
          state: {
            first: this.state.first,
            last: this.state.last,
            frames: this._frames
          }
        });
      }

      this._updateViewableItems(null);

      this._updateCellsToRenderBatcher.dispose({
        abort: true
      });

      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.dispose();
      });

      this._fillRateHelper.deactivateAndFlush();
    }
  }, {
    key: "_pushCells",
    value: function _pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, first, last, inversionStyle) {
      var _this2 = this;

      var _this$props7 = this.props,
          CellRendererComponent = _this$props7.CellRendererComponent,
          ItemSeparatorComponent = _this$props7.ItemSeparatorComponent,
          data = _this$props7.data,
          getItem = _this$props7.getItem,
          getItemCount = _this$props7.getItemCount,
          horizontal = _this$props7.horizontal;
      var stickyOffset = this.props.ListHeaderComponent ? 1 : 0;
      var end = getItemCount(data) - 1;
      var prevCellKey;
      last = Math.min(end, last);

      var _loop = function _loop(ii) {
        var item = getItem(data, ii);

        var key = _this2._keyExtractor(item, ii);

        _this2._indicesToKeys.set(ii, key);

        if (stickyIndicesFromProps.has(ii + stickyOffset)) {
          stickyHeaderIndices.push(cells.length);
        }

        cells.push((0, _jsxRuntime.jsx)(CellRenderer, {
          CellRendererComponent: CellRendererComponent,
          ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,
          cellKey: key,
          fillRateHelper: _this2._fillRateHelper,
          horizontal: horizontal,
          index: ii,
          inversionStyle: inversionStyle,
          item: item,
          prevCellKey: prevCellKey,
          onUpdateSeparators: _this2._onUpdateSeparators,
          onLayout: function onLayout(e) {
            return _this2._onCellLayout(e, key, ii);
          },
          onUnmount: _this2._onCellUnmount,
          parentProps: _this2.props,
          ref: function ref(_ref) {
            _this2._cellRefs[key] = _ref;
          }
        }, key));
        prevCellKey = key;
      };

      for (var ii = first; ii <= last; ii++) {
        _loop(ii);
      }
    }
  }, {
    key: "_isVirtualizationDisabled",
    value: function _isVirtualizationDisabled() {
      return this.props.disableVirtualization || false;
    }
  }, {
    key: "_isNestedWithSameOrientation",
    value: function _isNestedWithSameOrientation() {
      var nestedContext = this.context;
      return !!(nestedContext && !!nestedContext.horizontal === horizontalOrDefault(this.props.horizontal));
    }
  }, {
    key: "_keyExtractor",
    value: function _keyExtractor(item, index) {
      if (this.props.keyExtractor != null) {
        return this.props.keyExtractor(item, index);
      }

      var key = (0, _VirtualizeUtils.keyExtractor)(item, index);

      if (key === String(index)) {
        _usedIndexForKey = true;

        if (item.type && item.type.displayName) {
          _keylessItemComponentName = item.type.displayName;
        }
      }

      return key;
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      if (__DEV__) {
        var flatStyles = flattenStyle(this.props.contentContainerStyle);

        if (flatStyles != null && flatStyles.flexWrap === 'wrap') {
          console.warn('`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' + 'Consider using `numColumns` with `FlatList` instead.');
        }
      }

      var _this$props8 = this.props,
          ListEmptyComponent = _this$props8.ListEmptyComponent,
          ListFooterComponent = _this$props8.ListFooterComponent,
          ListHeaderComponent = _this$props8.ListHeaderComponent;
      var _this$props9 = this.props,
          data = _this$props9.data,
          horizontal = _this$props9.horizontal;

      var isVirtualizationDisabled = this._isVirtualizationDisabled();

      var inversionStyle = this.props.inverted ? horizontalOrDefault(this.props.horizontal) ? styles.horizontallyInverted : styles.verticallyInverted : null;
      var cells = [];
      var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);
      var stickyHeaderIndices = [];

      if (ListHeaderComponent) {
        if (stickyIndicesFromProps.has(0)) {
          stickyHeaderIndices.push(0);
        }

        var element = React.isValidElement(ListHeaderComponent) ? ListHeaderComponent : (0, _jsxRuntime.jsx)(ListHeaderComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getCellKey() + '-header',
          children: (0, _jsxRuntime.jsx)(View, {
            onLayout: this._onLayoutHeader,
            style: StyleSheet.compose(inversionStyle, this.props.ListHeaderComponentStyle),
            children: element
          })
        }, "$header"));
      }

      var itemCount = this.props.getItemCount(data);

      if (itemCount > 0) {
        _usedIndexForKey = false;
        _keylessItemComponentName = '';

        var spacerKey = this._getSpacerKey(!horizontal);

        var lastInitialIndex = this.props.initialScrollIndex ? -1 : initialNumToRenderOrDefault(this.props.initialNumToRender) - 1;
        var _this$state = this.state,
            first = _this$state.first,
            last = _this$state.last;

        this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, 0, lastInitialIndex, inversionStyle);

        var firstAfterInitial = Math.max(lastInitialIndex + 1, first);

        if (!isVirtualizationDisabled && first > lastInitialIndex + 1) {
          var insertedStickySpacer = false;

          if (stickyIndicesFromProps.size > 0) {
            var stickyOffset = ListHeaderComponent ? 1 : 0;

            for (var ii = firstAfterInitial - 1; ii > lastInitialIndex; ii--) {
              if (stickyIndicesFromProps.has(ii + stickyOffset)) {
                var initBlock = this._getFrameMetricsApprox(lastInitialIndex);

                var stickyBlock = this._getFrameMetricsApprox(ii);

                var leadSpace = stickyBlock.offset - initBlock.offset - (this.props.initialScrollIndex ? 0 : initBlock.length);
                cells.push((0, _jsxRuntime.jsx)(View, {
                  style: (0, _defineProperty2.default)({}, spacerKey, leadSpace)
                }, "$sticky_lead"));

                this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, ii, ii, inversionStyle);

                var trailSpace = this._getFrameMetricsApprox(first).offset - (stickyBlock.offset + stickyBlock.length);
                cells.push((0, _jsxRuntime.jsx)(View, {
                  style: (0, _defineProperty2.default)({}, spacerKey, trailSpace)
                }, "$sticky_trail"));
                insertedStickySpacer = true;
                break;
              }
            }
          }

          if (!insertedStickySpacer) {
            var _initBlock = this._getFrameMetricsApprox(lastInitialIndex);

            var firstSpace = this._getFrameMetricsApprox(first).offset - (_initBlock.offset + _initBlock.length);

            cells.push((0, _jsxRuntime.jsx)(View, {
              style: (0, _defineProperty2.default)({}, spacerKey, firstSpace)
            }, "$lead_spacer"));
          }
        }

        this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, firstAfterInitial, last, inversionStyle);

        if (!this._hasWarned.keys && _usedIndexForKey) {
          console.warn('VirtualizedList: missing keys for items, make sure to specify a key or id property on each ' + 'item or provide a custom keyExtractor.', _keylessItemComponentName);
          this._hasWarned.keys = true;
        }

        if (!isVirtualizationDisabled && last < itemCount - 1) {
          var lastFrame = this._getFrameMetricsApprox(last);

          var end = this.props.getItemLayout ? itemCount - 1 : Math.min(itemCount - 1, this._highestMeasuredFrameIndex);

          var endFrame = this._getFrameMetricsApprox(end);

          var tailSpacerLength = endFrame.offset + endFrame.length - (lastFrame.offset + lastFrame.length);
          cells.push((0, _jsxRuntime.jsx)(View, {
            style: (0, _defineProperty2.default)({}, spacerKey, tailSpacerLength)
          }, "$tail_spacer"));
        }
      } else if (ListEmptyComponent) {
        var _element = React.isValidElement(ListEmptyComponent) ? ListEmptyComponent : (0, _jsxRuntime.jsx)(ListEmptyComponent, {});

        cells.push(React.cloneElement(_element, {
          key: '$empty',
          onLayout: function onLayout(event) {
            _this3._onLayoutEmpty(event);

            if (_element.props.onLayout) {
              _element.props.onLayout(event);
            }
          },
          style: StyleSheet.compose(inversionStyle, _element.props.style)
        }));
      }

      if (ListFooterComponent) {
        var _element2 = React.isValidElement(ListFooterComponent) ? ListFooterComponent : (0, _jsxRuntime.jsx)(ListFooterComponent, {});

        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getFooterCellKey(),
          children: (0, _jsxRuntime.jsx)(View, {
            onLayout: this._onLayoutFooter,
            style: StyleSheet.compose(inversionStyle, this.props.ListFooterComponentStyle),
            children: _element2
          })
        }, "$footer"));
      }

      var scrollProps = _objectSpread(_objectSpread({}, this.props), {}, {
        onContentSizeChange: this._onContentSizeChange,
        onLayout: this._onLayout,
        onScroll: this._onScroll,
        onScrollBeginDrag: this._onScrollBeginDrag,
        onScrollEndDrag: this._onScrollEndDrag,
        onMomentumScrollBegin: this._onMomentumScrollBegin,
        onMomentumScrollEnd: this._onMomentumScrollEnd,
        scrollEventThrottle: scrollEventThrottleOrDefault(this.props.scrollEventThrottle),
        invertStickyHeaders: this.props.invertStickyHeaders !== undefined ? this.props.invertStickyHeaders : this.props.inverted,
        stickyHeaderIndices: stickyHeaderIndices,
        style: inversionStyle ? [inversionStyle, this.props.style] : this.props.style
      });

      this._hasMore = this.state.last < this.props.getItemCount(this.props.data) - 1;
      var innerRet = (0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListContextProvider, {
        value: {
          cellKey: null,
          getScrollMetrics: this._getScrollMetrics,
          horizontal: horizontalOrDefault(this.props.horizontal),
          getOutermostParentListRef: this._getOutermostParentListRef,
          getNestedChildState: this._getNestedChildState,
          registerAsNestedChild: this._registerAsNestedChild,
          unregisterAsNestedChild: this._unregisterAsNestedChild,
          debugInfo: this._getDebugInfo()
        },
        children: React.cloneElement((this.props.renderScrollComponent || this._defaultRenderScrollComponent)(scrollProps), {
          ref: this._captureScrollRef
        }, cells)
      });
      var ret = innerRet;

      if (__DEV__) {
        ret = (0, _jsxRuntime.jsx)(ScrollView.Context.Consumer, {
          children: function children(scrollContext) {
            if (scrollContext != null && !scrollContext.horizontal === !horizontalOrDefault(_this3.props.horizontal) && !_this3._hasWarned.nesting && _this3.context == null) {
              console.error('VirtualizedLists should never be nested inside plain ScrollViews with the same ' + 'orientation because it can break windowing and other functionality - use another ' + 'VirtualizedList-backed container instead.');
              _this3._hasWarned.nesting = true;
            }

            return innerRet;
          }
        });
      }

      if (this.props.debug) {
        return (0, _jsxRuntime.jsxs)(View, {
          style: styles.debug,
          children: [ret, this._renderDebugOverlay()]
        });
      } else {
        return ret;
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var _this$props10 = this.props,
          data = _this$props10.data,
          extraData = _this$props10.extraData;

      if (data !== prevProps.data || extraData !== prevProps.extraData) {
        this._viewabilityTuples.forEach(function (tuple) {
          tuple.viewabilityHelper.resetViewableIndices();
        });
      }

      var hiPriInProgress = this._hiPriInProgress;

      this._scheduleCellsToRenderUpdate();

      if (hiPriInProgress) {
        this._hiPriInProgress = false;
      }
    }
  }, {
    key: "_computeBlankness",
    value: function _computeBlankness() {
      this._fillRateHelper.computeBlankness(this.props, this.state, this._scrollMetrics);
    }
  }, {
    key: "_onCellLayout",
    value: function _onCellLayout(e, cellKey, index) {
      var layout = e.nativeEvent.layout;
      var next = {
        offset: this._selectOffset(layout),
        length: this._selectLength(layout),
        index: index,
        inLayout: true
      };
      var curr = this._frames[cellKey];

      if (!curr || next.offset !== curr.offset || next.length !== curr.length || index !== curr.index) {
        this._totalCellLength += next.length - (curr ? curr.length : 0);
        this._totalCellsMeasured += curr ? 0 : 1;
        this._averageCellLength = this._totalCellLength / this._totalCellsMeasured;
        this._frames[cellKey] = next;
        this._highestMeasuredFrameIndex = Math.max(this._highestMeasuredFrameIndex, index);

        this._scheduleCellsToRenderUpdate();
      } else {
        this._frames[cellKey].inLayout = true;
      }

      this._triggerRemeasureForChildListsInCell(cellKey);

      this._computeBlankness();

      this._updateViewableItems(this.props.data);
    }
  }, {
    key: "_triggerRemeasureForChildListsInCell",
    value: function _triggerRemeasureForChildListsInCell(cellKey) {
      var childListKeys = this._cellKeysToChildListKeys.get(cellKey);

      if (childListKeys) {
        for (var _iterator2 = _createForOfIteratorHelperLoose(childListKeys), _step2; !(_step2 = _iterator2()).done;) {
          var childKey = _step2.value;

          var childList = this._nestedChildLists.get(childKey);

          childList && childList.ref && childList.ref.measureLayoutRelativeToContainingList();
        }
      }
    }
  }, {
    key: "measureLayoutRelativeToContainingList",
    value: function measureLayoutRelativeToContainingList() {
      var _this4 = this;

      try {
        if (!this._scrollRef) {
          return;
        }

        this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(), function (x, y, width, height) {
          _this4._offsetFromParentVirtualizedList = _this4._selectOffset({
            x: x,
            y: y
          });
          _this4._scrollMetrics.contentLength = _this4._selectLength({
            width: width,
            height: height
          });

          var scrollMetrics = _this4._convertParentScrollMetrics(_this4.context.getScrollMetrics());

          var metricsChanged = _this4._scrollMetrics.visibleLength !== scrollMetrics.visibleLength || _this4._scrollMetrics.offset !== scrollMetrics.offset;

          if (metricsChanged) {
            _this4._scrollMetrics.visibleLength = scrollMetrics.visibleLength;
            _this4._scrollMetrics.offset = scrollMetrics.offset;

            _this4._cellKeysToChildListKeys.forEach(function (childListKeys) {
              if (childListKeys) {
                for (var _iterator3 = _createForOfIteratorHelperLoose(childListKeys), _step3; !(_step3 = _iterator3()).done;) {
                  var childKey = _step3.value;

                  var childList = _this4._nestedChildLists.get(childKey);

                  childList && childList.ref && childList.ref.measureLayoutRelativeToContainingList();
                }
              }
            });
          }
        }, function (error) {
          console.warn("VirtualizedList: Encountered an error while measuring a list's" + ' offset from its containing VirtualizedList.');
        });
      } catch (error) {
        console.warn('measureLayoutRelativeToContainingList threw an error', error.stack);
      }
    }
  }, {
    key: "_getFooterCellKey",
    value: function _getFooterCellKey() {
      return this._getCellKey() + '-footer';
    }
  }, {
    key: "_renderDebugOverlay",
    value: function _renderDebugOverlay() {
      var normalize = this._scrollMetrics.visibleLength / (this._scrollMetrics.contentLength || 1);
      var framesInLayout = [];
      var itemCount = this.props.getItemCount(this.props.data);

      for (var ii = 0; ii < itemCount; ii++) {
        var frame = this._getFrameMetricsApprox(ii);

        if (frame.inLayout) {
          framesInLayout.push(frame);
        }
      }

      var windowTop = this._getFrameMetricsApprox(this.state.first).offset;

      var frameLast = this._getFrameMetricsApprox(this.state.last);

      var windowLen = frameLast.offset + frameLast.length - windowTop;
      var visTop = this._scrollMetrics.offset;
      var visLen = this._scrollMetrics.visibleLength;
      return (0, _jsxRuntime.jsxs)(View, {
        style: [styles.debugOverlayBase, styles.debugOverlay],
        children: [framesInLayout.map(function (f, ii) {
          return (0, _jsxRuntime.jsx)(View, {
            style: [styles.debugOverlayBase, styles.debugOverlayFrame, {
              top: f.offset * normalize,
              height: f.length * normalize
            }]
          }, 'f' + ii);
        }), (0, _jsxRuntime.jsx)(View, {
          style: [styles.debugOverlayBase, styles.debugOverlayFrameLast, {
            top: windowTop * normalize,
            height: windowLen * normalize
          }]
        }), (0, _jsxRuntime.jsx)(View, {
          style: [styles.debugOverlayBase, styles.debugOverlayFrameVis, {
            top: visTop * normalize,
            height: visLen * normalize
          }]
        })]
      });
    }
  }, {
    key: "_selectLength",
    value: function _selectLength(metrics) {
      return !horizontalOrDefault(this.props.horizontal) ? metrics.height : metrics.width;
    }
  }, {
    key: "_selectOffset",
    value: function _selectOffset(metrics) {
      return !horizontalOrDefault(this.props.horizontal) ? metrics.y : metrics.x;
    }
  }, {
    key: "_maybeCallOnEndReached",
    value: function _maybeCallOnEndReached() {
      var _this$props11 = this.props,
          data = _this$props11.data,
          getItemCount = _this$props11.getItemCount,
          onEndReached = _this$props11.onEndReached,
          onEndReachedThreshold = _this$props11.onEndReachedThreshold;
      var _this$_scrollMetrics2 = this._scrollMetrics,
          contentLength = _this$_scrollMetrics2.contentLength,
          visibleLength = _this$_scrollMetrics2.visibleLength,
          offset = _this$_scrollMetrics2.offset;
      var distanceFromEnd = contentLength - visibleLength - offset;
      var threshold = onEndReachedThreshold != null ? onEndReachedThreshold * visibleLength : 2;

      if (onEndReached && this.state.last === getItemCount(data) - 1 && distanceFromEnd < threshold && this._scrollMetrics.contentLength !== this._sentEndForContentLength) {
        this._sentEndForContentLength = this._scrollMetrics.contentLength;
        onEndReached({
          distanceFromEnd: distanceFromEnd
        });
      } else if (distanceFromEnd > threshold) {
        this._sentEndForContentLength = 0;
      }
    }
  }, {
    key: "_scheduleCellsToRenderUpdate",
    value: function _scheduleCellsToRenderUpdate() {
      var _this$state2 = this.state,
          first = _this$state2.first,
          last = _this$state2.last;
      var _this$_scrollMetrics3 = this._scrollMetrics,
          offset = _this$_scrollMetrics3.offset,
          visibleLength = _this$_scrollMetrics3.visibleLength,
          velocity = _this$_scrollMetrics3.velocity;
      var itemCount = this.props.getItemCount(this.props.data);
      var hiPri = false;
      var onEndReachedThreshold = onEndReachedThresholdOrDefault(this.props.onEndReachedThreshold);
      var scrollingThreshold = onEndReachedThreshold * visibleLength / 2;

      if (first > 0) {
        var distTop = offset - this._getFrameMetricsApprox(first).offset;

        hiPri = hiPri || distTop < 0 || velocity < -2 && distTop < scrollingThreshold;
      }

      if (last < itemCount - 1) {
        var distBottom = this._getFrameMetricsApprox(last).offset - (offset + visibleLength);
        hiPri = hiPri || distBottom < 0 || velocity > 2 && distBottom < scrollingThreshold;
      }

      if (hiPri && (this._averageCellLength || this.props.getItemLayout) && !this._hiPriInProgress) {
        this._hiPriInProgress = true;

        this._updateCellsToRenderBatcher.dispose({
          abort: true
        });

        this._updateCellsToRender();

        return;
      } else {
        this._updateCellsToRenderBatcher.schedule();
      }
    }
  }, {
    key: "_updateViewableItems",
    value: function _updateViewableItems(data) {
      var _this5 = this;

      var getItemCount = this.props.getItemCount;

      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.onUpdate(getItemCount(data), _this5._scrollMetrics.offset, _this5._scrollMetrics.visibleLength, _this5._getFrameMetrics, _this5._createViewToken, tuple.onViewableItemsChanged, _this5.state);
      });
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(newProps, prevState) {
      var data = newProps.data,
          getItemCount = newProps.getItemCount;
      var maxToRenderPerBatch = maxToRenderPerBatchOrDefault(newProps.maxToRenderPerBatch);
      return {
        first: Math.max(0, Math.min(prevState.first, getItemCount(data) - 1 - maxToRenderPerBatch)),
        last: Math.max(0, Math.min(prevState.last, getItemCount(data) - 1))
      };
    }
  }]);
  return VirtualizedList;
}(React.PureComponent);

VirtualizedList.contextType = _VirtualizedListContext.VirtualizedListContext;

var CellRenderer = function (_React$Component) {
  (0, _inherits2.default)(CellRenderer, _React$Component);

  var _super2 = _createSuper(CellRenderer);

  function CellRenderer() {
    var _this6;

    (0, _classCallCheck2.default)(this, CellRenderer);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this6 = _super2.call.apply(_super2, [this].concat(args));
    _this6.state = {
      separatorProps: {
        highlighted: false,
        leadingItem: _this6.props.item
      }
    };
    _this6._separators = {
      highlight: function highlight() {
        var _this6$props = _this6.props,
            cellKey = _this6$props.cellKey,
            prevCellKey = _this6$props.prevCellKey;

        _this6.props.onUpdateSeparators([cellKey, prevCellKey], {
          highlighted: true
        });
      },
      unhighlight: function unhighlight() {
        var _this6$props2 = _this6.props,
            cellKey = _this6$props2.cellKey,
            prevCellKey = _this6$props2.prevCellKey;

        _this6.props.onUpdateSeparators([cellKey, prevCellKey], {
          highlighted: false
        });
      },
      updateProps: function updateProps(select, newProps) {
        var _this6$props3 = _this6.props,
            cellKey = _this6$props3.cellKey,
            prevCellKey = _this6$props3.prevCellKey;

        _this6.props.onUpdateSeparators([select === 'leading' ? prevCellKey : cellKey], newProps);
      }
    };
    return _this6;
  }

  (0, _createClass2.default)(CellRenderer, [{
    key: "updateSeparatorProps",
    value: function updateSeparatorProps(newProps) {
      this.setState(function (state) {
        return {
          separatorProps: _objectSpread(_objectSpread({}, state.separatorProps), newProps)
        };
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.props.onUnmount(this.props.cellKey);
    }
  }, {
    key: "_renderElement",
    value: function _renderElement(renderItem, ListItemComponent, item, index) {
      if (renderItem && ListItemComponent) {
        console.warn('VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take' + ' precedence over renderItem.');
      }

      if (ListItemComponent) {
        return React.createElement(ListItemComponent, {
          item: item,
          index: index,
          separators: this._separators
        });
      }

      if (renderItem) {
        return renderItem({
          item: item,
          index: index,
          separators: this._separators
        });
      }

      invariant(false, 'VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.');
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props12 = this.props,
          CellRendererComponent = _this$props12.CellRendererComponent,
          ItemSeparatorComponent = _this$props12.ItemSeparatorComponent,
          fillRateHelper = _this$props12.fillRateHelper,
          horizontal = _this$props12.horizontal,
          item = _this$props12.item,
          index = _this$props12.index,
          inversionStyle = _this$props12.inversionStyle,
          parentProps = _this$props12.parentProps;
      var renderItem = parentProps.renderItem,
          getItemLayout = parentProps.getItemLayout,
          ListItemComponent = parentProps.ListItemComponent;

      var element = this._renderElement(renderItem, ListItemComponent, item, index);

      var onLayout = getItemLayout && !parentProps.debug && !fillRateHelper.enabled() ? undefined : this.props.onLayout;
      var itemSeparator = ItemSeparatorComponent && (0, _jsxRuntime.jsx)(ItemSeparatorComponent, _objectSpread({}, this.state.separatorProps));
      var cellStyle = inversionStyle ? horizontal ? [styles.rowReverse, inversionStyle] : [styles.columnReverse, inversionStyle] : horizontal ? [styles.row, inversionStyle] : inversionStyle;
      var result = !CellRendererComponent ? (0, _jsxRuntime.jsxs)(View, {
        style: cellStyle,
        onLayout: onLayout,
        children: [element, itemSeparator]
      }) : (0, _jsxRuntime.jsxs)(CellRendererComponent, _objectSpread(_objectSpread({}, this.props), {}, {
        style: cellStyle,
        onLayout: onLayout,
        children: [element, itemSeparator]
      }));
      return (0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
        cellKey: this.props.cellKey,
        children: result
      });
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(props, prevState) {
      return {
        separatorProps: _objectSpread(_objectSpread({}, prevState.separatorProps), {}, {
          leadingItem: props.item
        })
      };
    }
  }]);
  return CellRenderer;
}(React.Component);

function describeNestedLists(childList) {
  var trace = 'VirtualizedList trace:\n' + ("  Child (" + (childList.horizontal ? 'horizontal' : 'vertical') + "):\n") + ("    listKey: " + childList.key + "\n") + ("    cellKey: " + childList.cellKey);
  var debugInfo = childList.parentDebugInfo;

  while (debugInfo) {
    trace += "\n  Parent (" + (debugInfo.horizontal ? 'horizontal' : 'vertical') + "):\n" + ("    listKey: " + debugInfo.listKey + "\n") + ("    cellKey: " + debugInfo.cellKey);
    debugInfo = debugInfo.parent;
  }

  return trace;
}

var styles = StyleSheet.create({
  verticallyInverted: {
    transform: [{
      scaleY: -1
    }]
  },
  horizontallyInverted: {
    transform: [{
      scaleX: -1
    }]
  },
  row: {
    flexDirection: 'row'
  },
  rowReverse: {
    flexDirection: 'row-reverse'
  },
  columnReverse: {
    flexDirection: 'column-reverse'
  },
  debug: {
    flex: 1
  },
  debugOverlayBase: {
    position: 'absolute',
    top: 0,
    right: 0
  },
  debugOverlay: {
    bottom: 0,
    width: 20,
    borderColor: 'blue',
    borderWidth: 1
  },
  debugOverlayFrame: {
    left: 0,
    backgroundColor: 'orange'
  },
  debugOverlayFrameLast: {
    left: 0,
    borderColor: 'green',
    borderWidth: 2
  },
  debugOverlayFrameVis: {
    left: 0,
    borderColor: 'red',
    borderWidth: 2
  }
});
module.exports = VirtualizedList;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCYXRjaGluYXRvciIsInJlcXVpcmUiLCJGaWxsUmF0ZUhlbHBlciIsIlJlYWN0TmF0aXZlIiwiUmVmcmVzaENvbnRyb2wiLCJTY3JvbGxWaWV3IiwiU3R5bGVTaGVldCIsIlZpZXciLCJWaWV3YWJpbGl0eUhlbHBlciIsImZsYXR0ZW5TdHlsZSIsImluZm9Mb2ciLCJpbnZhcmlhbnQiLCJfdXNlZEluZGV4Rm9yS2V5IiwiX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSIsImhvcml6b250YWxPckRlZmF1bHQiLCJob3Jpem9udGFsIiwiaW5pdGlhbE51bVRvUmVuZGVyT3JEZWZhdWx0IiwiaW5pdGlhbE51bVRvUmVuZGVyIiwibWF4VG9SZW5kZXJQZXJCYXRjaE9yRGVmYXVsdCIsIm1heFRvUmVuZGVyUGVyQmF0Y2giLCJvbkVuZFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQiLCJvbkVuZFJlYWNoZWRUaHJlc2hvbGQiLCJzY3JvbGxFdmVudFRocm90dGxlT3JEZWZhdWx0Iiwic2Nyb2xsRXZlbnRUaHJvdHRsZSIsIndpbmRvd1NpemVPckRlZmF1bHQiLCJ3aW5kb3dTaXplIiwiVmlydHVhbGl6ZWRMaXN0IiwicHJvcHMiLCJfZ2V0U2Nyb2xsTWV0cmljcyIsIl9zY3JvbGxNZXRyaWNzIiwiX2dldE91dGVybW9zdFBhcmVudExpc3RSZWYiLCJfaXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uIiwiY29udGV4dCIsImdldE91dGVybW9zdFBhcmVudExpc3RSZWYiLCJfZ2V0TmVzdGVkQ2hpbGRTdGF0ZSIsImtleSIsImV4aXN0aW5nQ2hpbGREYXRhIiwiX25lc3RlZENoaWxkTGlzdHMiLCJnZXQiLCJzdGF0ZSIsIl9yZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJjaGlsZExpc3QiLCJjaGlsZExpc3RzSW5DZWxsIiwiX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzIiwiY2VsbEtleSIsIlNldCIsImFkZCIsInNldCIsInJlZiIsImNvbnNvbGUiLCJlcnJvciIsImRlc2NyaWJlTmVzdGVkTGlzdHMiLCJfaGFzSW50ZXJhY3RlZCIsInJlY29yZEludGVyYWN0aW9uIiwiX3VucmVnaXN0ZXJBc05lc3RlZENoaWxkIiwiX29uVXBkYXRlU2VwYXJhdG9ycyIsImtleXMiLCJuZXdQcm9wcyIsImZvckVhY2giLCJfY2VsbFJlZnMiLCJ1cGRhdGVTZXBhcmF0b3JQcm9wcyIsIl9nZXRTcGFjZXJLZXkiLCJpc1ZlcnRpY2FsIiwiX2F2ZXJhZ2VDZWxsTGVuZ3RoIiwiTWFwIiwiX2ZyYW1lcyIsIl9mb290ZXJMZW5ndGgiLCJfaGFzRG9uZUluaXRpYWxTY3JvbGwiLCJfaGFzTW9yZSIsIl9oYXNXYXJuZWQiLCJfaGVhZGVyTGVuZ3RoIiwiX2hpUHJpSW5Qcm9ncmVzcyIsIl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4IiwiX2luZGljZXNUb0tleXMiLCJfb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdCIsIl9wcmV2UGFyZW50T2Zmc2V0IiwiY29udGVudExlbmd0aCIsImRPZmZzZXQiLCJkdCIsIm9mZnNldCIsInRpbWVzdGFtcCIsInZlbG9jaXR5IiwidmlzaWJsZUxlbmd0aCIsIl9zY3JvbGxSZWYiLCJfc2VudEVuZEZvckNvbnRlbnRMZW5ndGgiLCJfdG90YWxDZWxsTGVuZ3RoIiwiX3RvdGFsQ2VsbHNNZWFzdXJlZCIsIl92aWV3YWJpbGl0eVR1cGxlcyIsIl9jYXB0dXJlU2Nyb2xsUmVmIiwiX2RlZmF1bHRSZW5kZXJTY3JvbGxDb21wb25lbnQiLCJvblJlZnJlc2giLCJyZWZyZXNoaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlZnJlc2hDb250cm9sIiwicHJvZ3Jlc3NWaWV3T2Zmc2V0IiwiX29uQ2VsbFVubW91bnQiLCJjdXJyIiwiaW5MYXlvdXQiLCJfb25MYXlvdXQiLCJlIiwibWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCIsIl9zZWxlY3RMZW5ndGgiLCJuYXRpdmVFdmVudCIsImxheW91dCIsIm9uTGF5b3V0IiwiX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSIsIl9tYXliZUNhbGxPbkVuZFJlYWNoZWQiLCJfb25MYXlvdXRFbXB0eSIsIl9vbkxheW91dEZvb3RlciIsIl90cmlnZ2VyUmVtZWFzdXJlRm9yQ2hpbGRMaXN0c0luQ2VsbCIsIl9nZXRGb290ZXJDZWxsS2V5IiwiX29uTGF5b3V0SGVhZGVyIiwiX29uQ29udGVudFNpemVDaGFuZ2UiLCJ3aWR0aCIsImhlaWdodCIsImluaXRpYWxTY3JvbGxJbmRleCIsImNvbnRlbnRPZmZzZXQiLCJzY3JvbGxUb0luZGV4IiwiYW5pbWF0ZWQiLCJpbmRleCIsIm9uQ29udGVudFNpemVDaGFuZ2UiLCJfY29udmVydFBhcmVudFNjcm9sbE1ldHJpY3MiLCJtZXRyaWNzIiwiX29uU2Nyb2xsIiwib25TY3JvbGwiLCJ0aW1lU3RhbXAiLCJsYXlvdXRNZWFzdXJlbWVudCIsImNvbnRlbnRTaXplIiwiX3NlbGVjdE9mZnNldCIsIk1hdGgiLCJtYXgiLCJwZXJmIiwicHJldkR0IiwiX3VwZGF0ZVZpZXdhYmxlSXRlbXMiLCJkYXRhIiwiX2ZpbGxSYXRlSGVscGVyIiwiYWN0aXZhdGUiLCJfY29tcHV0ZUJsYW5rbmVzcyIsIl9vblNjcm9sbEJlZ2luRHJhZyIsInR1cGxlIiwidmlld2FiaWxpdHlIZWxwZXIiLCJvblNjcm9sbEJlZ2luRHJhZyIsIl9vblNjcm9sbEVuZERyYWciLCJvblNjcm9sbEVuZERyYWciLCJfb25Nb21lbnR1bVNjcm9sbEJlZ2luIiwib25Nb21lbnR1bVNjcm9sbEJlZ2luIiwiX29uTW9tZW50dW1TY3JvbGxFbmQiLCJvbk1vbWVudHVtU2Nyb2xsRW5kIiwiX3VwZGF0ZUNlbGxzVG9SZW5kZXIiLCJnZXRJdGVtQ291bnQiLCJfb25FbmRSZWFjaGVkVGhyZXNob2xkIiwiaXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkIiwiX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCIsInNldFN0YXRlIiwibmV3U3RhdGUiLCJjb21wdXRlV2luZG93ZWRSZW5kZXJMaW1pdHMiLCJfZ2V0RnJhbWVNZXRyaWNzQXBwcm94IiwiZGlzdGFuY2VGcm9tRW5kIiwicmVuZGVyQWhlYWQiLCJmaXJzdCIsImxhc3QiLCJtaW4iLCJzaXplIiwibmV3Rmlyc3QiLCJuZXdMYXN0IiwiaWkiLCJjZWxsS2V5Rm9ySW5kZXgiLCJjaGlsZExpc3RLZXlzIiwic29tZUNoaWxkSGFzTW9yZSIsImNoaWxkS2V5IiwiaGFzTW9yZSIsIl9jcmVhdGVWaWV3VG9rZW4iLCJpc1ZpZXdhYmxlIiwiZ2V0SXRlbSIsIml0ZW0iLCJfa2V5RXh0cmFjdG9yIiwiZnJhbWUiLCJfZ2V0RnJhbWVNZXRyaWNzIiwiZ2V0SXRlbUxheW91dCIsImxlbmd0aCIsIl9faXNOYXRpdmUiLCJfdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIiLCJ1cGRhdGVDZWxsc0JhdGNoaW5nUGVyaW9kIiwidmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzIiwibWFwIiwicGFpciIsInZpZXdhYmlsaXR5Q29uZmlnIiwib25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCIsInB1c2giLCJpbml0aWFsU3RhdGUiLCJzdG9yZWRTdGF0ZSIsImdldE5lc3RlZENoaWxkU3RhdGUiLCJfZ2V0TGlzdEtleSIsImZyYW1lcyIsInBhcmFtcyIsInZlcnlMYXN0Iiwic2Nyb2xsVG8iLCJ3YXJuIiwieCIsInkiLCJvblNjcm9sbFRvSW5kZXhGYWlsZWQiLCJ2aWV3T2Zmc2V0Iiwidmlld1Bvc2l0aW9uIiwiYXZlcmFnZUl0ZW1MZW5ndGgiLCJoaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4IiwiaXRlbUNvdW50IiwidCIsImZsYXNoU2Nyb2xsSW5kaWNhdG9ycyIsImdldFNjcm9sbFJlc3BvbmRlciIsImdldFNjcm9sbGFibGVOb2RlIiwiZmluZE5vZGVIYW5kbGUiLCJnZXRTY3JvbGxSZWYiLCJzZXROYXRpdmVQcm9wcyIsImxpc3RLZXkiLCJfZ2V0Q2VsbEtleSIsInBhcmVudCIsImRlYnVnSW5mbyIsInJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCIsInBhcmVudERlYnVnSW5mbyIsInVucmVnaXN0ZXJBc05lc3RlZENoaWxkIiwiZGlzcG9zZSIsImFib3J0IiwiZGVhY3RpdmF0ZUFuZEZsdXNoIiwiY2VsbHMiLCJzdGlja3lIZWFkZXJJbmRpY2VzIiwic3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyIsImludmVyc2lvblN0eWxlIiwiQ2VsbFJlbmRlcmVyQ29tcG9uZW50IiwiSXRlbVNlcGFyYXRvckNvbXBvbmVudCIsInN0aWNreU9mZnNldCIsIkxpc3RIZWFkZXJDb21wb25lbnQiLCJlbmQiLCJwcmV2Q2VsbEtleSIsImhhcyIsInVuZGVmaW5lZCIsIl9vbkNlbGxMYXlvdXQiLCJkaXNhYmxlVmlydHVhbGl6YXRpb24iLCJuZXN0ZWRDb250ZXh0Iiwia2V5RXh0cmFjdG9yIiwiZGVmYXVsdEtleUV4dHJhY3RvciIsIlN0cmluZyIsInR5cGUiLCJkaXNwbGF5TmFtZSIsIl9fREVWX18iLCJmbGF0U3R5bGVzIiwiY29udGVudENvbnRhaW5lclN0eWxlIiwiZmxleFdyYXAiLCJMaXN0RW1wdHlDb21wb25lbnQiLCJMaXN0Rm9vdGVyQ29tcG9uZW50IiwiaW52ZXJ0ZWQiLCJzdHlsZXMiLCJob3Jpem9udGFsbHlJbnZlcnRlZCIsInZlcnRpY2FsbHlJbnZlcnRlZCIsImVsZW1lbnQiLCJSZWFjdCIsImlzVmFsaWRFbGVtZW50IiwiY29tcG9zZSIsIkxpc3RIZWFkZXJDb21wb25lbnRTdHlsZSIsInNwYWNlcktleSIsImxhc3RJbml0aWFsSW5kZXgiLCJfcHVzaENlbGxzIiwiZmlyc3RBZnRlckluaXRpYWwiLCJpbnNlcnRlZFN0aWNreVNwYWNlciIsImluaXRCbG9jayIsInN0aWNreUJsb2NrIiwibGVhZFNwYWNlIiwidHJhaWxTcGFjZSIsImZpcnN0U3BhY2UiLCJsYXN0RnJhbWUiLCJlbmRGcmFtZSIsInRhaWxTcGFjZXJMZW5ndGgiLCJjbG9uZUVsZW1lbnQiLCJldmVudCIsInN0eWxlIiwiTGlzdEZvb3RlckNvbXBvbmVudFN0eWxlIiwic2Nyb2xsUHJvcHMiLCJpbnZlcnRTdGlja3lIZWFkZXJzIiwiaW5uZXJSZXQiLCJnZXRTY3JvbGxNZXRyaWNzIiwiX2dldERlYnVnSW5mbyIsInJlbmRlclNjcm9sbENvbXBvbmVudCIsInJldCIsInNjcm9sbENvbnRleHQiLCJuZXN0aW5nIiwiZGVidWciLCJfcmVuZGVyRGVidWdPdmVybGF5IiwicHJldlByb3BzIiwiZXh0cmFEYXRhIiwicmVzZXRWaWV3YWJsZUluZGljZXMiLCJoaVByaUluUHJvZ3Jlc3MiLCJjb21wdXRlQmxhbmtuZXNzIiwibmV4dCIsIm1lYXN1cmVMYXlvdXQiLCJzY3JvbGxNZXRyaWNzIiwibWV0cmljc0NoYW5nZWQiLCJzdGFjayIsIm5vcm1hbGl6ZSIsImZyYW1lc0luTGF5b3V0Iiwid2luZG93VG9wIiwiZnJhbWVMYXN0Iiwid2luZG93TGVuIiwidmlzVG9wIiwidmlzTGVuIiwiZGVidWdPdmVybGF5QmFzZSIsImRlYnVnT3ZlcmxheSIsImYiLCJkZWJ1Z092ZXJsYXlGcmFtZSIsInRvcCIsImRlYnVnT3ZlcmxheUZyYW1lTGFzdCIsImRlYnVnT3ZlcmxheUZyYW1lVmlzIiwib25FbmRSZWFjaGVkIiwidGhyZXNob2xkIiwiaGlQcmkiLCJzY3JvbGxpbmdUaHJlc2hvbGQiLCJkaXN0VG9wIiwiZGlzdEJvdHRvbSIsInNjaGVkdWxlIiwib25VcGRhdGUiLCJwcmV2U3RhdGUiLCJQdXJlQ29tcG9uZW50IiwiY29udGV4dFR5cGUiLCJWaXJ0dWFsaXplZExpc3RDb250ZXh0IiwiQ2VsbFJlbmRlcmVyIiwic2VwYXJhdG9yUHJvcHMiLCJoaWdobGlnaHRlZCIsImxlYWRpbmdJdGVtIiwiX3NlcGFyYXRvcnMiLCJoaWdobGlnaHQiLCJvblVwZGF0ZVNlcGFyYXRvcnMiLCJ1bmhpZ2hsaWdodCIsInVwZGF0ZVByb3BzIiwic2VsZWN0Iiwib25Vbm1vdW50IiwicmVuZGVySXRlbSIsIkxpc3RJdGVtQ29tcG9uZW50IiwiY3JlYXRlRWxlbWVudCIsInNlcGFyYXRvcnMiLCJmaWxsUmF0ZUhlbHBlciIsInBhcmVudFByb3BzIiwiX3JlbmRlckVsZW1lbnQiLCJlbmFibGVkIiwiaXRlbVNlcGFyYXRvciIsImNlbGxTdHlsZSIsInJvd1JldmVyc2UiLCJjb2x1bW5SZXZlcnNlIiwicm93IiwicmVzdWx0IiwiQ29tcG9uZW50IiwidHJhY2UiLCJjcmVhdGUiLCJ0cmFuc2Zvcm0iLCJzY2FsZVkiLCJzY2FsZVgiLCJmbGV4RGlyZWN0aW9uIiwiZmxleCIsInBvc2l0aW9uIiwicmlnaHQiLCJib3R0b20iLCJib3JkZXJDb2xvciIsImJvcmRlcldpZHRoIiwibGVmdCIsImJhY2tncm91bmRDb2xvciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJWaXJ0dWFsaXplZExpc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cblxuY29uc3QgQmF0Y2hpbmF0b3IgPSByZXF1aXJlKCcuLi9JbnRlcmFjdGlvbi9CYXRjaGluYXRvcicpO1xuY29uc3QgRmlsbFJhdGVIZWxwZXIgPSByZXF1aXJlKCcuL0ZpbGxSYXRlSGVscGVyJyk7XG5jb25zdCBSZWFjdE5hdGl2ZSA9IHJlcXVpcmUoJy4uL1JlbmRlcmVyL3NoaW1zL1JlYWN0TmF0aXZlJyk7XG5jb25zdCBSZWZyZXNoQ29udHJvbCA9IHJlcXVpcmUoJy4uL0NvbXBvbmVudHMvUmVmcmVzaENvbnRyb2wvUmVmcmVzaENvbnRyb2wnKTtcbmNvbnN0IFNjcm9sbFZpZXcgPSByZXF1aXJlKCcuLi9Db21wb25lbnRzL1Njcm9sbFZpZXcvU2Nyb2xsVmlldycpO1xuY29uc3QgU3R5bGVTaGVldCA9IHJlcXVpcmUoJy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCcpO1xuY29uc3QgVmlldyA9IHJlcXVpcmUoJy4uL0NvbXBvbmVudHMvVmlldy9WaWV3Jyk7XG5jb25zdCBWaWV3YWJpbGl0eUhlbHBlciA9IHJlcXVpcmUoJy4vVmlld2FiaWxpdHlIZWxwZXInKTtcblxuY29uc3QgZmxhdHRlblN0eWxlID0gcmVxdWlyZSgnLi4vU3R5bGVTaGVldC9mbGF0dGVuU3R5bGUnKTtcbmNvbnN0IGluZm9Mb2cgPSByZXF1aXJlKCcuLi9VdGlsaXRpZXMvaW5mb0xvZycpO1xuY29uc3QgaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbmltcG9ydCB7XG4gIGtleUV4dHJhY3RvciBhcyBkZWZhdWx0S2V5RXh0cmFjdG9yLFxuICBjb21wdXRlV2luZG93ZWRSZW5kZXJMaW1pdHMsXG59IGZyb20gJy4vVmlydHVhbGl6ZVV0aWxzJztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHR5cGUge1Njcm9sbFJlc3BvbmRlclR5cGV9IGZyb20gJy4uL0NvbXBvbmVudHMvU2Nyb2xsVmlldy9TY3JvbGxWaWV3JztcbmltcG9ydCB0eXBlIHtWaWV3U3R5bGVQcm9wfSBmcm9tICcuLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnO1xuaW1wb3J0IHR5cGUge1xuICBWaWV3YWJpbGl0eUNvbmZpZyxcbiAgVmlld1Rva2VuLFxuICBWaWV3YWJpbGl0eUNvbmZpZ0NhbGxiYWNrUGFpcixcbn0gZnJvbSAnLi9WaWV3YWJpbGl0eUhlbHBlcic7XG5pbXBvcnQge1xuICBWaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyLFxuICBWaXJ0dWFsaXplZExpc3RDb250ZXh0LFxuICBWaXJ0dWFsaXplZExpc3RDb250ZXh0UHJvdmlkZXIsXG4gIHR5cGUgQ2hpbGRMaXN0U3RhdGUsXG4gIHR5cGUgTGlzdERlYnVnSW5mbyxcbn0gZnJvbSAnLi9WaXJ0dWFsaXplZExpc3RDb250ZXh0LmpzJztcblxudHlwZSBJdGVtID0gYW55O1xuXG5leHBvcnQgdHlwZSBTZXBhcmF0b3JzID0ge1xuICBoaWdobGlnaHQ6ICgpID0+IHZvaWQsXG4gIHVuaGlnaGxpZ2h0OiAoKSA9PiB2b2lkLFxuICB1cGRhdGVQcm9wczogKHNlbGVjdDogJ2xlYWRpbmcnIHwgJ3RyYWlsaW5nJywgbmV3UHJvcHM6IE9iamVjdCkgPT4gdm9pZCxcbiAgLi4uXG59O1xuXG5leHBvcnQgdHlwZSBSZW5kZXJJdGVtUHJvcHM8SXRlbVQ+ID0ge1xuICBpdGVtOiBJdGVtVCxcbiAgaW5kZXg6IG51bWJlcixcbiAgc2VwYXJhdG9yczogU2VwYXJhdG9ycyxcbiAgLi4uXG59O1xuXG5leHBvcnQgdHlwZSBSZW5kZXJJdGVtVHlwZTxJdGVtVD4gPSAoXG4gIGluZm86IFJlbmRlckl0ZW1Qcm9wczxJdGVtVD4sXG4pID0+IFJlYWN0Lk5vZGU7XG5cbnR5cGUgVmlld2FiaWxpdHlIZWxwZXJDYWxsYmFja1R1cGxlID0ge1xuICB2aWV3YWJpbGl0eUhlbHBlcjogVmlld2FiaWxpdHlIZWxwZXIsXG4gIG9uVmlld2FibGVJdGVtc0NoYW5nZWQ6IChpbmZvOiB7XG4gICAgdmlld2FibGVJdGVtczogQXJyYXk8Vmlld1Rva2VuPixcbiAgICBjaGFuZ2VkOiBBcnJheTxWaWV3VG9rZW4+LFxuICAgIC4uLlxuICB9KSA9PiB2b2lkLFxuICAuLi5cbn07XG5cbnR5cGUgUmVxdWlyZWRQcm9wcyA9IHt8XG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBhY2Nlc3NvciBmdW5jdGlvbnMgYXNzdW1lIHRoaXMgaXMgYW4gQXJyYXk8e2tleTogc3RyaW5nfSB8IHtpZDogc3RyaW5nfT4gYnV0IHlvdSBjYW4gb3ZlcnJpZGVcbiAgICogZ2V0SXRlbSwgZ2V0SXRlbUNvdW50LCBhbmQga2V5RXh0cmFjdG9yIHRvIGhhbmRsZSBhbnkgdHlwZSBvZiBpbmRleC1iYXNlZCBkYXRhLlxuICAgKi9cbiAgZGF0YT86IGFueSxcbiAgLyoqXG4gICAqIEEgZ2VuZXJpYyBhY2Nlc3NvciBmb3IgZXh0cmFjdGluZyBhbiBpdGVtIGZyb20gYW55IHNvcnQgb2YgZGF0YSBibG9iLlxuICAgKi9cbiAgZ2V0SXRlbTogKGRhdGE6IGFueSwgaW5kZXg6IG51bWJlcikgPT4gP0l0ZW0sXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGhvdyBtYW55IGl0ZW1zIGFyZSBpbiB0aGUgZGF0YSBibG9iLlxuICAgKi9cbiAgZ2V0SXRlbUNvdW50OiAoZGF0YTogYW55KSA9PiBudW1iZXIsXG58fTtcbnR5cGUgT3B0aW9uYWxQcm9wcyA9IHt8XG4gIHJlbmRlckl0ZW0/OiA/UmVuZGVySXRlbVR5cGU8SXRlbT4sXG4gIC8qKlxuICAgKiBgZGVidWdgIHdpbGwgdHVybiBvbiBleHRyYSBsb2dnaW5nIGFuZCB2aXN1YWwgb3ZlcmxheXMgdG8gYWlkIHdpdGggZGVidWdnaW5nIGJvdGggdXNhZ2UgYW5kXG4gICAqIGltcGxlbWVudGF0aW9uLCBidXQgd2l0aCBhIHNpZ25pZmljYW50IHBlcmYgaGl0LlxuICAgKi9cbiAgZGVidWc/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIERFUFJFQ0FURUQ6IFZpcnR1YWxpemF0aW9uIHByb3ZpZGVzIHNpZ25pZmljYW50IHBlcmZvcm1hbmNlIGFuZCBtZW1vcnkgb3B0aW1pemF0aW9ucywgYnV0IGZ1bGx5XG4gICAqIHVubW91bnRzIHJlYWN0IGluc3RhbmNlcyB0aGF0IGFyZSBvdXRzaWRlIG9mIHRoZSByZW5kZXIgd2luZG93LiBZb3Ugc2hvdWxkIG9ubHkgbmVlZCB0byBkaXNhYmxlXG4gICAqIHRoaXMgZm9yIGRlYnVnZ2luZyBwdXJwb3Nlcy4gRGVmYXVsdHMgdG8gZmFsc2UuXG4gICAqL1xuICBkaXNhYmxlVmlydHVhbGl6YXRpb24/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEEgbWFya2VyIHByb3BlcnR5IGZvciB0ZWxsaW5nIHRoZSBsaXN0IHRvIHJlLXJlbmRlciAoc2luY2UgaXQgaW1wbGVtZW50cyBgUHVyZUNvbXBvbmVudGApLiBJZlxuICAgKiBhbnkgb2YgeW91ciBgcmVuZGVySXRlbWAsIEhlYWRlciwgRm9vdGVyLCBldGMuIGZ1bmN0aW9ucyBkZXBlbmQgb24gYW55dGhpbmcgb3V0c2lkZSBvZiB0aGVcbiAgICogYGRhdGFgIHByb3AsIHN0aWNrIGl0IGhlcmUgYW5kIHRyZWF0IGl0IGltbXV0YWJseS5cbiAgICovXG4gIGV4dHJhRGF0YT86IGFueSxcbiAgLy8gZS5nLiBoZWlnaHQsIHlcbiAgZ2V0SXRlbUxheW91dD86IChcbiAgICBkYXRhOiBhbnksXG4gICAgaW5kZXg6IG51bWJlcixcbiAgKSA9PiB7XG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICAuLi5cbiAgfSxcbiAgaG9yaXpvbnRhbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogSG93IG1hbnkgaXRlbXMgdG8gcmVuZGVyIGluIHRoZSBpbml0aWFsIGJhdGNoLiBUaGlzIHNob3VsZCBiZSBlbm91Z2ggdG8gZmlsbCB0aGUgc2NyZWVuIGJ1dCBub3RcbiAgICogbXVjaCBtb3JlLiBOb3RlIHRoZXNlIGl0ZW1zIHdpbGwgbmV2ZXIgYmUgdW5tb3VudGVkIGFzIHBhcnQgb2YgdGhlIHdpbmRvd2VkIHJlbmRlcmluZyBpbiBvcmRlclxuICAgKiB0byBpbXByb3ZlIHBlcmNlaXZlZCBwZXJmb3JtYW5jZSBvZiBzY3JvbGwtdG8tdG9wIGFjdGlvbnMuXG4gICAqL1xuICBpbml0aWFsTnVtVG9SZW5kZXI/OiA/bnVtYmVyLFxuICAvKipcbiAgICogSW5zdGVhZCBvZiBzdGFydGluZyBhdCB0aGUgdG9wIHdpdGggdGhlIGZpcnN0IGl0ZW0sIHN0YXJ0IGF0IGBpbml0aWFsU2Nyb2xsSW5kZXhgLiBUaGlzXG4gICAqIGRpc2FibGVzIHRoZSBcInNjcm9sbCB0byB0b3BcIiBvcHRpbWl6YXRpb24gdGhhdCBrZWVwcyB0aGUgZmlyc3QgYGluaXRpYWxOdW1Ub1JlbmRlcmAgaXRlbXNcbiAgICogYWx3YXlzIHJlbmRlcmVkIGFuZCBpbW1lZGlhdGVseSByZW5kZXJzIHRoZSBpdGVtcyBzdGFydGluZyBhdCB0aGlzIGluaXRpYWwgaW5kZXguIFJlcXVpcmVzXG4gICAqIGBnZXRJdGVtTGF5b3V0YCB0byBiZSBpbXBsZW1lbnRlZC5cbiAgICovXG4gIGluaXRpYWxTY3JvbGxJbmRleD86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBSZXZlcnNlcyB0aGUgZGlyZWN0aW9uIG9mIHNjcm9sbC4gVXNlcyBzY2FsZSB0cmFuc2Zvcm1zIG9mIC0xLlxuICAgKi9cbiAgaW52ZXJ0ZWQ/OiA/Ym9vbGVhbixcbiAga2V5RXh0cmFjdG9yPzogPyhpdGVtOiBJdGVtLCBpbmRleDogbnVtYmVyKSA9PiBzdHJpbmcsXG4gIC8qKlxuICAgKiBFYWNoIGNlbGwgaXMgcmVuZGVyZWQgdXNpbmcgdGhpcyBlbGVtZW50LiBDYW4gYmUgYSBSZWFjdCBDb21wb25lbnQgQ2xhc3MsXG4gICAqIG9yIGEgcmVuZGVyIGZ1bmN0aW9uLiBEZWZhdWx0cyB0byB1c2luZyBWaWV3LlxuICAgKi9cbiAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50PzogP1JlYWN0LkNvbXBvbmVudFR5cGU8YW55PixcbiAgLyoqXG4gICAqIFJlbmRlcmVkIGluIGJldHdlZW4gZWFjaCBpdGVtLCBidXQgbm90IGF0IHRoZSB0b3Agb3IgYm90dG9tLiBCeSBkZWZhdWx0LCBgaGlnaGxpZ2h0ZWRgIGFuZFxuICAgKiBgbGVhZGluZ0l0ZW1gIHByb3BzIGFyZSBwcm92aWRlZC4gYHJlbmRlckl0ZW1gIHByb3ZpZGVzIGBzZXBhcmF0b3JzLmhpZ2hsaWdodGAvYHVuaGlnaGxpZ2h0YFxuICAgKiB3aGljaCB3aWxsIHVwZGF0ZSB0aGUgYGhpZ2hsaWdodGVkYCBwcm9wLCBidXQgeW91IGNhbiBhbHNvIGFkZCBjdXN0b20gcHJvcHMgd2l0aFxuICAgKiBgc2VwYXJhdG9ycy51cGRhdGVQcm9wc2AuXG4gICAqL1xuICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50PzogP1JlYWN0LkNvbXBvbmVudFR5cGU8YW55PixcbiAgLyoqXG4gICAqIFRha2VzIGFuIGl0ZW0gZnJvbSBgZGF0YWAgYW5kIHJlbmRlcnMgaXQgaW50byB0aGUgbGlzdC4gRXhhbXBsZSB1c2FnZTpcbiAgICpcbiAgICogICAgIDxGbGF0TGlzdFxuICAgKiAgICAgICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50PXtQbGF0Zm9ybS5PUyAhPT0gJ2FuZHJvaWQnICYmICh7aGlnaGxpZ2h0ZWR9KSA9PiAoXG4gICAqICAgICAgICAgPFZpZXcgc3R5bGU9e1tzdHlsZS5zZXBhcmF0b3IsIGhpZ2hsaWdodGVkICYmIHttYXJnaW5MZWZ0OiAwfV19IC8+XG4gICAqICAgICAgICl9XG4gICAqICAgICAgIGRhdGE9e1t7dGl0bGU6ICdUaXRsZSBUZXh0Jywga2V5OiAnaXRlbTEnfV19XG4gICAqICAgICAgIExpc3RJdGVtQ29tcG9uZW50PXsoe2l0ZW0sIHNlcGFyYXRvcnN9KSA9PiAoXG4gICAqICAgICAgICAgPFRvdWNoYWJsZUhpZ2hsaWdodFxuICAgKiAgICAgICAgICAgb25QcmVzcz17KCkgPT4gdGhpcy5fb25QcmVzcyhpdGVtKX1cbiAgICogICAgICAgICAgIG9uU2hvd1VuZGVybGF5PXtzZXBhcmF0b3JzLmhpZ2hsaWdodH1cbiAgICogICAgICAgICAgIG9uSGlkZVVuZGVybGF5PXtzZXBhcmF0b3JzLnVuaGlnaGxpZ2h0fT5cbiAgICogICAgICAgICAgIDxWaWV3IHN0eWxlPXt7YmFja2dyb3VuZENvbG9yOiAnd2hpdGUnfX0+XG4gICAqICAgICAgICAgICAgIDxUZXh0PntpdGVtLnRpdGxlfTwvVGV4dD5cbiAgICogICAgICAgICAgIDwvVmlldz5cbiAgICogICAgICAgICA8L1RvdWNoYWJsZUhpZ2hsaWdodD5cbiAgICogICAgICAgKX1cbiAgICogICAgIC8+XG4gICAqXG4gICAqIFByb3ZpZGVzIGFkZGl0aW9uYWwgbWV0YWRhdGEgbGlrZSBgaW5kZXhgIGlmIHlvdSBuZWVkIGl0LCBhcyB3ZWxsIGFzIGEgbW9yZSBnZW5lcmljXG4gICAqIGBzZXBhcmF0b3JzLnVwZGF0ZVByb3BzYCBmdW5jdGlvbiB3aGljaCBsZXQncyB5b3Ugc2V0IHdoYXRldmVyIHByb3BzIHlvdSB3YW50IHRvIGNoYW5nZSB0aGVcbiAgICogcmVuZGVyaW5nIG9mIGVpdGhlciB0aGUgbGVhZGluZyBzZXBhcmF0b3Igb3IgdHJhaWxpbmcgc2VwYXJhdG9yIGluIGNhc2UgdGhlIG1vcmUgY29tbW9uXG4gICAqIGBoaWdobGlnaHRgIGFuZCBgdW5oaWdobGlnaHRgICh3aGljaCBzZXQgdGhlIGBoaWdobGlnaHRlZDogYm9vbGVhbmAgcHJvcCkgYXJlIGluc3VmZmljaWVudCBmb3JcbiAgICogeW91ciB1c2UtY2FzZS5cbiAgICovXG4gIExpc3RJdGVtQ29tcG9uZW50PzogPyhSZWFjdC5Db21wb25lbnRUeXBlPGFueT4gfCBSZWFjdC5FbGVtZW50PGFueT4pLFxuICAvKipcbiAgICogUmVuZGVyZWQgd2hlbiB0aGUgbGlzdCBpcyBlbXB0eS4gQ2FuIGJlIGEgUmVhY3QgQ29tcG9uZW50IENsYXNzLCBhIHJlbmRlciBmdW5jdGlvbiwgb3JcbiAgICogYSByZW5kZXJlZCBlbGVtZW50LlxuICAgKi9cbiAgTGlzdEVtcHR5Q29tcG9uZW50PzogPyhSZWFjdC5Db21wb25lbnRUeXBlPGFueT4gfCBSZWFjdC5FbGVtZW50PGFueT4pLFxuICAvKipcbiAgICogUmVuZGVyZWQgYXQgdGhlIGJvdHRvbSBvZiBhbGwgdGhlIGl0ZW1zLiBDYW4gYmUgYSBSZWFjdCBDb21wb25lbnQgQ2xhc3MsIGEgcmVuZGVyIGZ1bmN0aW9uLCBvclxuICAgKiBhIHJlbmRlcmVkIGVsZW1lbnQuXG4gICAqL1xuICBMaXN0Rm9vdGVyQ29tcG9uZW50PzogPyhSZWFjdC5Db21wb25lbnRUeXBlPGFueT4gfCBSZWFjdC5FbGVtZW50PGFueT4pLFxuICAvKipcbiAgICogU3R5bGluZyBmb3IgaW50ZXJuYWwgVmlldyBmb3IgTGlzdEZvb3RlckNvbXBvbmVudFxuICAgKi9cbiAgTGlzdEZvb3RlckNvbXBvbmVudFN0eWxlPzogVmlld1N0eWxlUHJvcCxcbiAgLyoqXG4gICAqIFJlbmRlcmVkIGF0IHRoZSB0b3Agb2YgYWxsIHRoZSBpdGVtcy4gQ2FuIGJlIGEgUmVhY3QgQ29tcG9uZW50IENsYXNzLCBhIHJlbmRlciBmdW5jdGlvbiwgb3JcbiAgICogYSByZW5kZXJlZCBlbGVtZW50LlxuICAgKi9cbiAgTGlzdEhlYWRlckNvbXBvbmVudD86ID8oUmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+IHwgUmVhY3QuRWxlbWVudDxhbnk+KSxcbiAgLyoqXG4gICAqIFN0eWxpbmcgZm9yIGludGVybmFsIFZpZXcgZm9yIExpc3RIZWFkZXJDb21wb25lbnRcbiAgICovXG4gIExpc3RIZWFkZXJDb21wb25lbnRTdHlsZT86IFZpZXdTdHlsZVByb3AsXG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGxpc3QuIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBWaXJ0dWFsaXplZExpc3RzIGF0IHRoZSBzYW1lIGxldmVsIG9mXG4gICAqIG5lc3Rpbmcgd2l0aGluIGFub3RoZXIgVmlydHVhbGl6ZWRMaXN0LCB0aGlzIGtleSBpcyBuZWNlc3NhcnkgZm9yIHZpcnR1YWxpemF0aW9uIHRvXG4gICAqIHdvcmsgcHJvcGVybHkuXG4gICAqL1xuICBsaXN0S2V5Pzogc3RyaW5nLFxuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRvIHJlbmRlciBpbiBlYWNoIGluY3JlbWVudGFsIHJlbmRlciBiYXRjaC4gVGhlIG1vcmUgcmVuZGVyZWQgYXRcbiAgICogb25jZSwgdGhlIGJldHRlciB0aGUgZmlsbCByYXRlLCBidXQgcmVzcG9uc2l2ZW5lc3MgbWF5IHN1ZmZlciBiZWNhdXNlIHJlbmRlcmluZyBjb250ZW50IG1heVxuICAgKiBpbnRlcmZlcmUgd2l0aCByZXNwb25kaW5nIHRvIGJ1dHRvbiB0YXBzIG9yIG90aGVyIGludGVyYWN0aW9ucy5cbiAgICovXG4gIG1heFRvUmVuZGVyUGVyQmF0Y2g/OiA/bnVtYmVyLFxuICAvKipcbiAgICogQ2FsbGVkIG9uY2Ugd2hlbiB0aGUgc2Nyb2xsIHBvc2l0aW9uIGdldHMgd2l0aGluIGBvbkVuZFJlYWNoZWRUaHJlc2hvbGRgIG9mIHRoZSByZW5kZXJlZFxuICAgKiBjb250ZW50LlxuICAgKi9cbiAgb25FbmRSZWFjaGVkPzogPyhpbmZvOiB7ZGlzdGFuY2VGcm9tRW5kOiBudW1iZXIsIC4uLn0pID0+IHZvaWQsXG4gIC8qKlxuICAgKiBIb3cgZmFyIGZyb20gdGhlIGVuZCAoaW4gdW5pdHMgb2YgdmlzaWJsZSBsZW5ndGggb2YgdGhlIGxpc3QpIHRoZSBib3R0b20gZWRnZSBvZiB0aGVcbiAgICogbGlzdCBtdXN0IGJlIGZyb20gdGhlIGVuZCBvZiB0aGUgY29udGVudCB0byB0cmlnZ2VyIHRoZSBgb25FbmRSZWFjaGVkYCBjYWxsYmFjay5cbiAgICogVGh1cyBhIHZhbHVlIG9mIDAuNSB3aWxsIHRyaWdnZXIgYG9uRW5kUmVhY2hlZGAgd2hlbiB0aGUgZW5kIG9mIHRoZSBjb250ZW50IGlzXG4gICAqIHdpdGhpbiBoYWxmIHRoZSB2aXNpYmxlIGxlbmd0aCBvZiB0aGUgbGlzdC5cbiAgICovXG4gIG9uRW5kUmVhY2hlZFRocmVzaG9sZD86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBJZiBwcm92aWRlZCwgYSBzdGFuZGFyZCBSZWZyZXNoQ29udHJvbCB3aWxsIGJlIGFkZGVkIGZvciBcIlB1bGwgdG8gUmVmcmVzaFwiIGZ1bmN0aW9uYWxpdHkuIE1ha2VcbiAgICogc3VyZSB0byBhbHNvIHNldCB0aGUgYHJlZnJlc2hpbmdgIHByb3AgY29ycmVjdGx5LlxuICAgKi9cbiAgb25SZWZyZXNoPzogPygpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBVc2VkIHRvIGhhbmRsZSBmYWlsdXJlcyB3aGVuIHNjcm9sbGluZyB0byBhbiBpbmRleCB0aGF0IGhhcyBub3QgYmVlbiBtZWFzdXJlZCB5ZXQuIFJlY29tbWVuZGVkXG4gICAqIGFjdGlvbiBpcyB0byBlaXRoZXIgY29tcHV0ZSB5b3VyIG93biBvZmZzZXQgYW5kIGBzY3JvbGxUb2AgaXQsIG9yIHNjcm9sbCBhcyBmYXIgYXMgcG9zc2libGUgYW5kXG4gICAqIHRoZW4gdHJ5IGFnYWluIGFmdGVyIG1vcmUgaXRlbXMgaGF2ZSBiZWVuIHJlbmRlcmVkLlxuICAgKi9cbiAgb25TY3JvbGxUb0luZGV4RmFpbGVkPzogPyhpbmZvOiB7XG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBoaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4OiBudW1iZXIsXG4gICAgYXZlcmFnZUl0ZW1MZW5ndGg6IG51bWJlcixcbiAgICAuLi5cbiAgfSkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB2aWV3YWJpbGl0eSBvZiByb3dzIGNoYW5nZXMsIGFzIGRlZmluZWQgYnkgdGhlXG4gICAqIGB2aWV3YWJpbGl0eUNvbmZpZ2AgcHJvcC5cbiAgICovXG4gIG9uVmlld2FibGVJdGVtc0NoYW5nZWQ/OiA/KGluZm86IHtcbiAgICB2aWV3YWJsZUl0ZW1zOiBBcnJheTxWaWV3VG9rZW4+LFxuICAgIGNoYW5nZWQ6IEFycmF5PFZpZXdUb2tlbj4sXG4gICAgLi4uXG4gIH0pID0+IHZvaWQsXG4gIHBlcnNpc3RlbnRTY3JvbGxiYXI/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFNldCB0aGlzIHdoZW4gb2Zmc2V0IGlzIG5lZWRlZCBmb3IgdGhlIGxvYWRpbmcgaW5kaWNhdG9yIHRvIHNob3cgY29ycmVjdGx5LlxuICAgKi9cbiAgcHJvZ3Jlc3NWaWV3T2Zmc2V0PzogbnVtYmVyLFxuICAvKipcbiAgICogQSBjdXN0b20gcmVmcmVzaCBjb250cm9sIGVsZW1lbnQuIFdoZW4gc2V0LCBpdCBvdmVycmlkZXMgdGhlIGRlZmF1bHRcbiAgICogPFJlZnJlc2hDb250cm9sPiBjb21wb25lbnQgYnVpbHQgaW50ZXJuYWxseS4gVGhlIG9uUmVmcmVzaCBhbmQgcmVmcmVzaGluZ1xuICAgKiBwcm9wcyBhcmUgYWxzbyBpZ25vcmVkLiBPbmx5IHdvcmtzIGZvciB2ZXJ0aWNhbCBWaXJ0dWFsaXplZExpc3QuXG4gICAqL1xuICByZWZyZXNoQ29udHJvbD86ID9SZWFjdC5FbGVtZW50PGFueT4sXG4gIC8qKlxuICAgKiBTZXQgdGhpcyB0cnVlIHdoaWxlIHdhaXRpbmcgZm9yIG5ldyBkYXRhIGZyb20gYSByZWZyZXNoLlxuICAgKi9cbiAgcmVmcmVzaGluZz86ID9ib29sZWFuLFxuICAvKipcbiAgICogTm90ZTogbWF5IGhhdmUgYnVncyAobWlzc2luZyBjb250ZW50KSBpbiBzb21lIGNpcmN1bXN0YW5jZXMgLSB1c2UgYXQgeW91ciBvd24gcmlzay5cbiAgICpcbiAgICogVGhpcyBtYXkgaW1wcm92ZSBzY3JvbGwgcGVyZm9ybWFuY2UgZm9yIGxhcmdlIGxpc3RzLlxuICAgKi9cbiAgcmVtb3ZlQ2xpcHBlZFN1YnZpZXdzPzogYm9vbGVhbixcbiAgLyoqXG4gICAqIFJlbmRlciBhIGN1c3RvbSBzY3JvbGwgY29tcG9uZW50LCBlLmcuIHdpdGggYSBkaWZmZXJlbnRseSBzdHlsZWQgYFJlZnJlc2hDb250cm9sYC5cbiAgICovXG4gIHJlbmRlclNjcm9sbENvbXBvbmVudD86IChwcm9wczogT2JqZWN0KSA9PiBSZWFjdC5FbGVtZW50PGFueT4sXG4gIC8qKlxuICAgKiBBbW91bnQgb2YgdGltZSBiZXR3ZWVuIGxvdy1wcmkgaXRlbSByZW5kZXIgYmF0Y2hlcywgZS5nLiBmb3IgcmVuZGVyaW5nIGl0ZW1zIHF1aXRlIGEgd2F5cyBvZmZcbiAgICogc2NyZWVuLiBTaW1pbGFyIGZpbGwgcmF0ZS9yZXNwb25zaXZlbmVzcyB0cmFkZW9mZiBhcyBgbWF4VG9SZW5kZXJQZXJCYXRjaGAuXG4gICAqL1xuICB1cGRhdGVDZWxsc0JhdGNoaW5nUGVyaW9kPzogP251bWJlcixcbiAgLyoqXG4gICAqIFNlZSBgVmlld2FiaWxpdHlIZWxwZXJgIGZvciBmbG93IHR5cGUgYW5kIGZ1cnRoZXIgZG9jdW1lbnRhdGlvbi5cbiAgICovXG4gIHZpZXdhYmlsaXR5Q29uZmlnPzogVmlld2FiaWxpdHlDb25maWcsXG4gIC8qKlxuICAgKiBMaXN0IG9mIFZpZXdhYmlsaXR5Q29uZmlnL29uVmlld2FibGVJdGVtc0NoYW5nZWQgcGFpcnMuIEEgc3BlY2lmaWMgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZFxuICAgKiB3aWxsIGJlIGNhbGxlZCB3aGVuIGl0cyBjb3JyZXNwb25kaW5nIFZpZXdhYmlsaXR5Q29uZmlnJ3MgY29uZGl0aW9ucyBhcmUgbWV0LlxuICAgKi9cbiAgdmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzPzogQXJyYXk8Vmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXI+LFxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGUgdmlzaWJsZSBhcmVhLCBpbiB1bml0cyBvZlxuICAgKiB2aXNpYmxlIGxlbmd0aHMuIFNvIGlmIHlvdXIgbGlzdCBmaWxscyB0aGUgc2NyZWVuLCB0aGVuIGB3aW5kb3dTaXplPXsyMX1gICh0aGUgZGVmYXVsdCkgd2lsbFxuICAgKiByZW5kZXIgdGhlIHZpc2libGUgc2NyZWVuIGFyZWEgcGx1cyB1cCB0byAxMCBzY3JlZW5zIGFib3ZlIGFuZCAxMCBiZWxvdyB0aGUgdmlld3BvcnQuIFJlZHVjaW5nXG4gICAqIHRoaXMgbnVtYmVyIHdpbGwgcmVkdWNlIG1lbW9yeSBjb25zdW1wdGlvbiBhbmQgbWF5IGltcHJvdmUgcGVyZm9ybWFuY2UsIGJ1dCB3aWxsIGluY3JlYXNlIHRoZVxuICAgKiBjaGFuY2UgdGhhdCBmYXN0IHNjcm9sbGluZyBtYXkgcmV2ZWFsIG1vbWVudGFyeSBibGFuayBhcmVhcyBvZiB1bnJlbmRlcmVkIGNvbnRlbnQuXG4gICAqL1xuICB3aW5kb3dTaXplPzogP251bWJlcixcbiAgLyoqXG4gICAqIFRoZSBsZWdhY3kgaW1wbGVtZW50YXRpb24gaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC5cbiAgICovXG4gIGxlZ2FjeUltcGxlbWVudGF0aW9uPzogZW1wdHksXG58fTtcblxudHlwZSBQcm9wcyA9IHt8XG4gIC4uLlJlYWN0LkVsZW1lbnRDb25maWc8dHlwZW9mIFNjcm9sbFZpZXc+LFxuICAuLi5SZXF1aXJlZFByb3BzLFxuICAuLi5PcHRpb25hbFByb3BzLFxufH07XG5cbmxldCBfdXNlZEluZGV4Rm9yS2V5ID0gZmFsc2U7XG5sZXQgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZTogc3RyaW5nID0gJyc7XG5cbnR5cGUgU3RhdGUgPSB7XG4gIGZpcnN0OiBudW1iZXIsXG4gIGxhc3Q6IG51bWJlcixcbn07XG5cbi8qKlxuICogRGVmYXVsdCBQcm9wcyBIZWxwZXIgRnVuY3Rpb25zXG4gKiBVc2UgdGhlIGZvbGxvd2luZyBoZWxwZXIgZnVuY3Rpb25zIGZvciBkZWZhdWx0IHZhbHVlc1xuICovXG5cbi8vIGhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKVxuZnVuY3Rpb24gaG9yaXpvbnRhbE9yRGVmYXVsdChob3Jpem9udGFsOiA/Ym9vbGVhbikge1xuICByZXR1cm4gaG9yaXpvbnRhbCA/PyBmYWxzZTtcbn1cblxuLy8gaW5pdGlhbE51bVRvUmVuZGVyT3JEZWZhdWx0KHRoaXMucHJvcHMuaW5pdGlhbE51bVRvUmVuZGVyT3JEZWZhdWx0KVxuZnVuY3Rpb24gaW5pdGlhbE51bVRvUmVuZGVyT3JEZWZhdWx0KGluaXRpYWxOdW1Ub1JlbmRlcjogP251bWJlcikge1xuICByZXR1cm4gaW5pdGlhbE51bVRvUmVuZGVyID8/IDEwO1xufVxuXG4vLyBtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0KHRoaXMucHJvcHMubWF4VG9SZW5kZXJQZXJCYXRjaClcbmZ1bmN0aW9uIG1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQobWF4VG9SZW5kZXJQZXJCYXRjaDogP251bWJlcikge1xuICByZXR1cm4gbWF4VG9SZW5kZXJQZXJCYXRjaCA/PyAxMDtcbn1cblxuLy8gb25FbmRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0KHRoaXMucHJvcHMub25FbmRSZWFjaGVkVGhyZXNob2xkKVxuZnVuY3Rpb24gb25FbmRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0KG9uRW5kUmVhY2hlZFRocmVzaG9sZDogP251bWJlcikge1xuICByZXR1cm4gb25FbmRSZWFjaGVkVGhyZXNob2xkID8/IDI7XG59XG5cbi8vIHNjcm9sbEV2ZW50VGhyb3R0bGVPckRlZmF1bHQodGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlKVxuZnVuY3Rpb24gc2Nyb2xsRXZlbnRUaHJvdHRsZU9yRGVmYXVsdChzY3JvbGxFdmVudFRocm90dGxlOiA/bnVtYmVyKSB7XG4gIHJldHVybiBzY3JvbGxFdmVudFRocm90dGxlID8/IDUwO1xufVxuXG4vLyB3aW5kb3dTaXplT3JEZWZhdWx0KHRoaXMucHJvcHMud2luZG93U2l6ZSlcbmZ1bmN0aW9uIHdpbmRvd1NpemVPckRlZmF1bHQod2luZG93U2l6ZTogP251bWJlcikge1xuICByZXR1cm4gd2luZG93U2l6ZSA/PyAyMTtcbn1cblxuLyoqXG4gKiBCYXNlIGltcGxlbWVudGF0aW9uIGZvciB0aGUgbW9yZSBjb252ZW5pZW50IFtgPEZsYXRMaXN0PmBdKGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvZmxhdGxpc3QpXG4gKiBhbmQgW2A8U2VjdGlvbkxpc3Q+YF0oaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9zZWN0aW9ubGlzdCkgY29tcG9uZW50cywgd2hpY2ggYXJlIGFsc28gYmV0dGVyXG4gKiBkb2N1bWVudGVkLiBJbiBnZW5lcmFsLCB0aGlzIHNob3VsZCBvbmx5IHJlYWxseSBiZSB1c2VkIGlmIHlvdSBuZWVkIG1vcmUgZmxleGliaWxpdHkgdGhhblxuICogYEZsYXRMaXN0YCBwcm92aWRlcywgZS5nLiBmb3IgdXNlIHdpdGggaW1tdXRhYmxlIGRhdGEgaW5zdGVhZCBvZiBwbGFpbiBhcnJheXMuXG4gKlxuICogVmlydHVhbGl6YXRpb24gbWFzc2l2ZWx5IGltcHJvdmVzIG1lbW9yeSBjb25zdW1wdGlvbiBhbmQgcGVyZm9ybWFuY2Ugb2YgbGFyZ2UgbGlzdHMgYnlcbiAqIG1haW50YWluaW5nIGEgZmluaXRlIHJlbmRlciB3aW5kb3cgb2YgYWN0aXZlIGl0ZW1zIGFuZCByZXBsYWNpbmcgYWxsIGl0ZW1zIG91dHNpZGUgb2YgdGhlIHJlbmRlclxuICogd2luZG93IHdpdGggYXBwcm9wcmlhdGVseSBzaXplZCBibGFuayBzcGFjZS4gVGhlIHdpbmRvdyBhZGFwdHMgdG8gc2Nyb2xsaW5nIGJlaGF2aW9yLCBhbmQgaXRlbXNcbiAqIGFyZSByZW5kZXJlZCBpbmNyZW1lbnRhbGx5IHdpdGggbG93LXByaSAoYWZ0ZXIgYW55IHJ1bm5pbmcgaW50ZXJhY3Rpb25zKSBpZiB0aGV5IGFyZSBmYXIgZnJvbSB0aGVcbiAqIHZpc2libGUgYXJlYSwgb3Igd2l0aCBoaS1wcmkgb3RoZXJ3aXNlIHRvIG1pbmltaXplIHRoZSBwb3RlbnRpYWwgb2Ygc2VlaW5nIGJsYW5rIHNwYWNlLlxuICpcbiAqIFNvbWUgY2F2ZWF0czpcbiAqXG4gKiAtIEludGVybmFsIHN0YXRlIGlzIG5vdCBwcmVzZXJ2ZWQgd2hlbiBjb250ZW50IHNjcm9sbHMgb3V0IG9mIHRoZSByZW5kZXIgd2luZG93LiBNYWtlIHN1cmUgYWxsXG4gKiAgIHlvdXIgZGF0YSBpcyBjYXB0dXJlZCBpbiB0aGUgaXRlbSBkYXRhIG9yIGV4dGVybmFsIHN0b3JlcyBsaWtlIEZsdXgsIFJlZHV4LCBvciBSZWxheS5cbiAqIC0gVGhpcyBpcyBhIGBQdXJlQ29tcG9uZW50YCB3aGljaCBtZWFucyB0aGF0IGl0IHdpbGwgbm90IHJlLXJlbmRlciBpZiBgcHJvcHNgIHJlbWFpbiBzaGFsbG93LVxuICogICBlcXVhbC4gTWFrZSBzdXJlIHRoYXQgZXZlcnl0aGluZyB5b3VyIGByZW5kZXJJdGVtYCBmdW5jdGlvbiBkZXBlbmRzIG9uIGlzIHBhc3NlZCBhcyBhIHByb3BcbiAqICAgKGUuZy4gYGV4dHJhRGF0YWApIHRoYXQgaXMgbm90IGA9PT1gIGFmdGVyIHVwZGF0ZXMsIG90aGVyd2lzZSB5b3VyIFVJIG1heSBub3QgdXBkYXRlIG9uXG4gKiAgIGNoYW5nZXMuIFRoaXMgaW5jbHVkZXMgdGhlIGBkYXRhYCBwcm9wIGFuZCBwYXJlbnQgY29tcG9uZW50IHN0YXRlLlxuICogLSBJbiBvcmRlciB0byBjb25zdHJhaW4gbWVtb3J5IGFuZCBlbmFibGUgc21vb3RoIHNjcm9sbGluZywgY29udGVudCBpcyByZW5kZXJlZCBhc3luY2hyb25vdXNseVxuICogICBvZmZzY3JlZW4uIFRoaXMgbWVhbnMgaXQncyBwb3NzaWJsZSB0byBzY3JvbGwgZmFzdGVyIHRoYW4gdGhlIGZpbGwgcmF0ZSBhbmRzIG1vbWVudGFyaWx5IHNlZVxuICogICBibGFuayBjb250ZW50LiBUaGlzIGlzIGEgdHJhZGVvZmYgdGhhdCBjYW4gYmUgYWRqdXN0ZWQgdG8gc3VpdCB0aGUgbmVlZHMgb2YgZWFjaCBhcHBsaWNhdGlvbixcbiAqICAgYW5kIHdlIGFyZSB3b3JraW5nIG9uIGltcHJvdmluZyBpdCBiZWhpbmQgdGhlIHNjZW5lcy5cbiAqIC0gQnkgZGVmYXVsdCwgdGhlIGxpc3QgbG9va3MgZm9yIGEgYGtleWAgb3IgYGlkYCBwcm9wIG9uIGVhY2ggaXRlbSBhbmQgdXNlcyB0aGF0IGZvciB0aGUgUmVhY3Qga2V5LlxuICogICBBbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIHByb3ZpZGUgYSBjdXN0b20gYGtleUV4dHJhY3RvcmAgcHJvcC5cbiAqIC0gQXMgYW4gZWZmb3J0IHRvIHJlbW92ZSBkZWZhdWx0UHJvcHMsIHVzZSBoZWxwZXIgZnVuY3Rpb25zIHdoZW4gcmVmZXJlbmNpbmcgY2VydGFpbiBwcm9wc1xuICpcbiAqL1xuY2xhc3MgVmlydHVhbGl6ZWRMaXN0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcbiAgc3RhdGljIGNvbnRleHRUeXBlOiB0eXBlb2YgVmlydHVhbGl6ZWRMaXN0Q29udGV4dCA9IFZpcnR1YWxpemVkTGlzdENvbnRleHQ7XG5cbiAgLy8gc2Nyb2xsVG9FbmQgbWF5IGJlIGphbmt5IHdpdGhvdXQgZ2V0SXRlbUxheW91dCBwcm9wXG4gIHNjcm9sbFRvRW5kKHBhcmFtcz86ID97YW5pbWF0ZWQ/OiA/Ym9vbGVhbiwgLi4ufSkge1xuICAgIGNvbnN0IGFuaW1hdGVkID0gcGFyYW1zID8gcGFyYW1zLmFuaW1hdGVkIDogdHJ1ZTtcbiAgICBjb25zdCB2ZXJ5TGFzdCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSkgLSAxO1xuICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KHZlcnlMYXN0KTtcbiAgICBjb25zdCBvZmZzZXQgPSBNYXRoLm1heChcbiAgICAgIDAsXG4gICAgICBmcmFtZS5vZmZzZXQgK1xuICAgICAgICBmcmFtZS5sZW5ndGggK1xuICAgICAgICB0aGlzLl9mb290ZXJMZW5ndGggLVxuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGgsXG4gICAgKTtcblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8gPT0gbnVsbCkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnTm8gc2Nyb2xsVG8gbWV0aG9kIHByb3ZpZGVkLiBUaGlzIG1heSBiZSBiZWNhdXNlIHlvdSBoYXZlIHR3byBuZXN0ZWQgJyArXG4gICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdHMgd2l0aCB0aGUgc2FtZSBvcmllbnRhdGlvbiwgb3IgYmVjYXVzZSB5b3UgYXJlICcgK1xuICAgICAgICAgICd1c2luZyBhIGN1c3RvbSBjb21wb25lbnQgdGhhdCBkb2VzIG5vdCBpbXBsZW1lbnQgc2Nyb2xsVG8uJyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2Nyb2xsUmVmLnNjcm9sbFRvKFxuICAgICAgaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpXG4gICAgICAgID8ge3g6IG9mZnNldCwgYW5pbWF0ZWR9XG4gICAgICAgIDoge3k6IG9mZnNldCwgYW5pbWF0ZWR9LFxuICAgICk7XG4gIH1cblxuICAvLyBzY3JvbGxUb0luZGV4IG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcFxuICBzY3JvbGxUb0luZGV4KHBhcmFtczoge1xuICAgIGFuaW1hdGVkPzogP2Jvb2xlYW4sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICB2aWV3T2Zmc2V0PzogbnVtYmVyLFxuICAgIHZpZXdQb3NpdGlvbj86IG51bWJlcixcbiAgICAuLi5cbiAgfSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGEsXG4gICAgICBob3Jpem9udGFsLFxuICAgICAgZ2V0SXRlbUNvdW50LFxuICAgICAgZ2V0SXRlbUxheW91dCxcbiAgICAgIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7YW5pbWF0ZWQsIGluZGV4LCB2aWV3T2Zmc2V0LCB2aWV3UG9zaXRpb259ID0gcGFyYW1zO1xuICAgIGludmFyaWFudChcbiAgICAgIGluZGV4ID49IDAsXG4gICAgICBgc2Nyb2xsVG9JbmRleCBvdXQgb2YgcmFuZ2U6IHJlcXVlc3RlZCBpbmRleCAke2luZGV4fSBidXQgbWluaW11bSBpcyAwYCxcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgIGdldEl0ZW1Db3VudChkYXRhKSA+PSAxLFxuICAgICAgYHNjcm9sbFRvSW5kZXggb3V0IG9mIHJhbmdlOiBpdGVtIGxlbmd0aCAke2dldEl0ZW1Db3VudChcbiAgICAgICAgZGF0YSxcbiAgICAgICl9IGJ1dCBtaW5pbXVtIGlzIDFgLFxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgaW5kZXggPCBnZXRJdGVtQ291bnQoZGF0YSksXG4gICAgICBgc2Nyb2xsVG9JbmRleCBvdXQgb2YgcmFuZ2U6IHJlcXVlc3RlZCBpbmRleCAke2luZGV4fSBpcyBvdXQgb2YgMCB0byAke1xuICAgICAgICBnZXRJdGVtQ291bnQoZGF0YSkgLSAxXG4gICAgICB9YCxcbiAgICApO1xuICAgIGlmICghZ2V0SXRlbUxheW91dCAmJiBpbmRleCA+IHRoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXgpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgISFvblNjcm9sbFRvSW5kZXhGYWlsZWQsXG4gICAgICAgICdzY3JvbGxUb0luZGV4IHNob3VsZCBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggZ2V0SXRlbUxheW91dCBvciBvblNjcm9sbFRvSW5kZXhGYWlsZWQsICcgK1xuICAgICAgICAgICdvdGhlcndpc2UgdGhlcmUgaXMgbm8gd2F5IHRvIGtub3cgdGhlIGxvY2F0aW9uIG9mIG9mZnNjcmVlbiBpbmRpY2VzIG9yIGhhbmRsZSBmYWlsdXJlcy4nLFxuICAgICAgKTtcbiAgICAgIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCh7XG4gICAgICAgIGF2ZXJhZ2VJdGVtTGVuZ3RoOiB0aGlzLl9hdmVyYWdlQ2VsbExlbmd0aCxcbiAgICAgICAgaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleDogdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCxcbiAgICAgICAgaW5kZXgsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goaW5kZXgpO1xuICAgIGNvbnN0IG9mZnNldCA9XG4gICAgICBNYXRoLm1heChcbiAgICAgICAgMCxcbiAgICAgICAgZnJhbWUub2Zmc2V0IC1cbiAgICAgICAgICAodmlld1Bvc2l0aW9uIHx8IDApICpcbiAgICAgICAgICAgICh0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggLSBmcmFtZS5sZW5ndGgpLFxuICAgICAgKSAtICh2aWV3T2Zmc2V0IHx8IDApO1xuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyA9PSBudWxsKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdObyBzY3JvbGxUbyBtZXRob2QgcHJvdmlkZWQuIFRoaXMgbWF5IGJlIGJlY2F1c2UgeW91IGhhdmUgdHdvIG5lc3RlZCAnICtcbiAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0cyB3aXRoIHRoZSBzYW1lIG9yaWVudGF0aW9uLCBvciBiZWNhdXNlIHlvdSBhcmUgJyArXG4gICAgICAgICAgJ3VzaW5nIGEgY3VzdG9tIGNvbXBvbmVudCB0aGF0IGRvZXMgbm90IGltcGxlbWVudCBzY3JvbGxUby4nLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8oXG4gICAgICBob3Jpem9udGFsID8ge3g6IG9mZnNldCwgYW5pbWF0ZWR9IDoge3k6IG9mZnNldCwgYW5pbWF0ZWR9LFxuICAgICk7XG4gIH1cblxuICAvLyBzY3JvbGxUb0l0ZW0gbWF5IGJlIGphbmt5IHdpdGhvdXQgZ2V0SXRlbUxheW91dCBwcm9wLiBSZXF1aXJlZCBsaW5lYXIgc2NhbiB0aHJvdWdoIGl0ZW1zIC1cbiAgLy8gdXNlIHNjcm9sbFRvSW5kZXggaW5zdGVhZCBpZiBwb3NzaWJsZS5cbiAgc2Nyb2xsVG9JdGVtKHBhcmFtczoge1xuICAgIGFuaW1hdGVkPzogP2Jvb2xlYW4sXG4gICAgaXRlbTogSXRlbSxcbiAgICB2aWV3UG9zaXRpb24/OiBudW1iZXIsXG4gICAgLi4uXG4gIH0pIHtcbiAgICBjb25zdCB7aXRlbX0gPSBwYXJhbXM7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW0sIGdldEl0ZW1Db3VudH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IGdldEl0ZW1Db3VudChkYXRhKTtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgaXRlbUNvdW50OyBpbmRleCsrKSB7XG4gICAgICBpZiAoZ2V0SXRlbShkYXRhLCBpbmRleCkgPT09IGl0ZW0pIHtcbiAgICAgICAgdGhpcy5zY3JvbGxUb0luZGV4KHsuLi5wYXJhbXMsIGluZGV4fSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTY3JvbGwgdG8gYSBzcGVjaWZpYyBjb250ZW50IHBpeGVsIG9mZnNldCBpbiB0aGUgbGlzdC5cbiAgICpcbiAgICogUGFyYW0gYG9mZnNldGAgZXhwZWN0cyB0aGUgb2Zmc2V0IHRvIHNjcm9sbCB0by5cbiAgICogSW4gY2FzZSBvZiBgaG9yaXpvbnRhbGAgaXMgdHJ1ZSwgdGhlIG9mZnNldCBpcyB0aGUgeC12YWx1ZSxcbiAgICogaW4gYW55IG90aGVyIGNhc2UgdGhlIG9mZnNldCBpcyB0aGUgeS12YWx1ZS5cbiAgICpcbiAgICogUGFyYW0gYGFuaW1hdGVkYCAoYHRydWVgIGJ5IGRlZmF1bHQpIGRlZmluZXMgd2hldGhlciB0aGUgbGlzdFxuICAgKiBzaG91bGQgZG8gYW4gYW5pbWF0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAgICovXG4gIHNjcm9sbFRvT2Zmc2V0KHBhcmFtczoge2FuaW1hdGVkPzogP2Jvb2xlYW4sIG9mZnNldDogbnVtYmVyLCAuLi59KSB7XG4gICAgY29uc3Qge2FuaW1hdGVkLCBvZmZzZXR9ID0gcGFyYW1zO1xuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyA9PSBudWxsKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdObyBzY3JvbGxUbyBtZXRob2QgcHJvdmlkZWQuIFRoaXMgbWF5IGJlIGJlY2F1c2UgeW91IGhhdmUgdHdvIG5lc3RlZCAnICtcbiAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0cyB3aXRoIHRoZSBzYW1lIG9yaWVudGF0aW9uLCBvciBiZWNhdXNlIHlvdSBhcmUgJyArXG4gICAgICAgICAgJ3VzaW5nIGEgY3VzdG9tIGNvbXBvbmVudCB0aGF0IGRvZXMgbm90IGltcGxlbWVudCBzY3JvbGxUby4nLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8oXG4gICAgICBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbClcbiAgICAgICAgPyB7eDogb2Zmc2V0LCBhbmltYXRlZH1cbiAgICAgICAgOiB7eTogb2Zmc2V0LCBhbmltYXRlZH0sXG4gICAgKTtcbiAgfVxuXG4gIHJlY29yZEludGVyYWN0aW9uKCkge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0ID0+IHtcbiAgICAgIHQudmlld2FiaWxpdHlIZWxwZXIucmVjb3JkSW50ZXJhY3Rpb24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKHRoaXMucHJvcHMuZGF0YSk7XG4gIH1cblxuICBmbGFzaFNjcm9sbEluZGljYXRvcnMoKSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2Nyb2xsUmVmLmZsYXNoU2Nyb2xsSW5kaWNhdG9ycygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGVzIGEgaGFuZGxlIHRvIHRoZSB1bmRlcmx5aW5nIHNjcm9sbCByZXNwb25kZXIuXG4gICAqIE5vdGUgdGhhdCBgdGhpcy5fc2Nyb2xsUmVmYCBtaWdodCBub3QgYmUgYSBgU2Nyb2xsVmlld2AsIHNvIHdlXG4gICAqIG5lZWQgdG8gY2hlY2sgdGhhdCBpdCByZXNwb25kcyB0byBgZ2V0U2Nyb2xsUmVzcG9uZGVyYCBiZWZvcmUgY2FsbGluZyBpdC5cbiAgICovXG4gIGdldFNjcm9sbFJlc3BvbmRlcigpOiA/U2Nyb2xsUmVzcG9uZGVyVHlwZSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiAmJiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVzcG9uZGVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbFJlc3BvbmRlcigpO1xuICAgIH1cbiAgfVxuXG4gIGdldFNjcm9sbGFibGVOb2RlKCk6ID9udW1iZXIge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgJiYgdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbGFibGVOb2RlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbGFibGVOb2RlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBSZWFjdE5hdGl2ZS5maW5kTm9kZUhhbmRsZSh0aGlzLl9zY3JvbGxSZWYpO1xuICAgIH1cbiAgfVxuXG4gIGdldFNjcm9sbFJlZigpOlxuICAgIHwgP1JlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFNjcm9sbFZpZXc+XG4gICAgfCA/UmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgVmlldz4ge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgJiYgdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbFJlZikge1xuICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxSZWYoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbFJlZjtcbiAgICB9XG4gIH1cblxuICBzZXROYXRpdmVQcm9wcyhwcm9wczogT2JqZWN0KSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZikge1xuICAgICAgdGhpcy5fc2Nyb2xsUmVmLnNldE5hdGl2ZVByb3BzKHByb3BzKTtcbiAgICB9XG4gIH1cblxuICBfZ2V0Q2VsbEtleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNvbnRleHQ/LmNlbGxLZXkgfHwgJ3Jvb3RMaXN0JztcbiAgfVxuXG4gIF9nZXRMaXN0S2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMubGlzdEtleSB8fCB0aGlzLl9nZXRDZWxsS2V5KCk7XG4gIH1cblxuICBfZ2V0RGVidWdJbmZvKCk6IExpc3REZWJ1Z0luZm8ge1xuICAgIHJldHVybiB7XG4gICAgICBsaXN0S2V5OiB0aGlzLl9nZXRMaXN0S2V5KCksXG4gICAgICBjZWxsS2V5OiB0aGlzLl9nZXRDZWxsS2V5KCksXG4gICAgICBob3Jpem9udGFsOiBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbCksXG4gICAgICBwYXJlbnQ6IHRoaXMuY29udGV4dD8uZGVidWdJbmZvLFxuICAgIH07XG4gIH1cblxuICBfZ2V0U2Nyb2xsTWV0cmljcyA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5fc2Nyb2xsTWV0cmljcztcbiAgfTtcblxuICBoYXNNb3JlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9oYXNNb3JlO1xuICB9XG5cbiAgX2dldE91dGVybW9zdFBhcmVudExpc3RSZWYgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZXh0LmdldE91dGVybW9zdFBhcmVudExpc3RSZWYoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIF9nZXROZXN0ZWRDaGlsZFN0YXRlID0gKGtleTogc3RyaW5nKTogP0NoaWxkTGlzdFN0YXRlID0+IHtcbiAgICBjb25zdCBleGlzdGluZ0NoaWxkRGF0YSA9IHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZ2V0KGtleSk7XG4gICAgcmV0dXJuIGV4aXN0aW5nQ2hpbGREYXRhICYmIGV4aXN0aW5nQ2hpbGREYXRhLnN0YXRlO1xuICB9O1xuXG4gIF9yZWdpc3RlckFzTmVzdGVkQ2hpbGQgPSAoY2hpbGRMaXN0OiB7XG4gICAgY2VsbEtleTogc3RyaW5nLFxuICAgIGtleTogc3RyaW5nLFxuICAgIHJlZjogVmlydHVhbGl6ZWRMaXN0LFxuICAgIHBhcmVudERlYnVnSW5mbzogTGlzdERlYnVnSW5mbyxcbiAgICAuLi5cbiAgfSk6ID9DaGlsZExpc3RTdGF0ZSA9PiB7XG4gICAgLy8gUmVnaXN0ZXIgdGhlIG1hcHBpbmcgYmV0d2VlbiB0aGlzIGNoaWxkIGtleSBhbmQgdGhlIGNlbGxLZXkgZm9yIGl0cyBjZWxsXG4gICAgY29uc3QgY2hpbGRMaXN0c0luQ2VsbCA9XG4gICAgICB0aGlzLl9jZWxsS2V5c1RvQ2hpbGRMaXN0S2V5cy5nZXQoY2hpbGRMaXN0LmNlbGxLZXkpIHx8IG5ldyBTZXQoKTtcbiAgICBjaGlsZExpc3RzSW5DZWxsLmFkZChjaGlsZExpc3Qua2V5KTtcbiAgICB0aGlzLl9jZWxsS2V5c1RvQ2hpbGRMaXN0S2V5cy5zZXQoY2hpbGRMaXN0LmNlbGxLZXksIGNoaWxkTGlzdHNJbkNlbGwpO1xuICAgIGNvbnN0IGV4aXN0aW5nQ2hpbGREYXRhID0gdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5nZXQoY2hpbGRMaXN0LmtleSk7XG4gICAgaWYgKGV4aXN0aW5nQ2hpbGREYXRhICYmIGV4aXN0aW5nQ2hpbGREYXRhLnJlZiAhPT0gbnVsbCkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ0EgVmlydHVhbGl6ZWRMaXN0IGNvbnRhaW5zIGEgY2VsbCB3aGljaCBpdHNlbGYgY29udGFpbnMgJyArXG4gICAgICAgICAgJ21vcmUgdGhhbiBvbmUgVmlydHVhbGl6ZWRMaXN0IG9mIHRoZSBzYW1lIG9yaWVudGF0aW9uIGFzIHRoZSBwYXJlbnQgJyArXG4gICAgICAgICAgJ2xpc3QuIFlvdSBtdXN0IHBhc3MgYSB1bmlxdWUgbGlzdEtleSBwcm9wIHRvIGVhY2ggc2libGluZyBsaXN0LlxcblxcbicgK1xuICAgICAgICAgIGRlc2NyaWJlTmVzdGVkTGlzdHMoe1xuICAgICAgICAgICAgLi4uY2hpbGRMaXN0LFxuICAgICAgICAgICAgLy8gV2UncmUgY2FsbGVkIGZyb20gdGhlIGNoaWxkJ3MgY29tcG9uZW50RGlkTW91bnQsIHNvIGl0J3Mgc2FmZSB0b1xuICAgICAgICAgICAgLy8gcmVhZCB0aGUgY2hpbGQncyBwcm9wcyBoZXJlIChhbGJlaXQgd2VpcmQpLlxuICAgICAgICAgICAgaG9yaXpvbnRhbDogISFjaGlsZExpc3QucmVmLnByb3BzLmhvcml6b250YWwsXG4gICAgICAgICAgfSksXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnNldChjaGlsZExpc3Qua2V5LCB7XG4gICAgICByZWY6IGNoaWxkTGlzdC5yZWYsXG4gICAgICBzdGF0ZTogbnVsbCxcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLl9oYXNJbnRlcmFjdGVkKSB7XG4gICAgICBjaGlsZExpc3QucmVmLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfVxuICB9O1xuXG4gIF91bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCA9IChjaGlsZExpc3Q6IHtcbiAgICBrZXk6IHN0cmluZyxcbiAgICBzdGF0ZTogQ2hpbGRMaXN0U3RhdGUsXG4gICAgLi4uXG4gIH0pOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnNldChjaGlsZExpc3Qua2V5LCB7XG4gICAgICByZWY6IG51bGwsXG4gICAgICBzdGF0ZTogY2hpbGRMaXN0LnN0YXRlLFxuICAgIH0pO1xuICB9O1xuXG4gIHN0YXRlOiBTdGF0ZTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgaW52YXJpYW50KFxuICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG4gICAgICAhcHJvcHMub25TY3JvbGwgfHwgIXByb3BzLm9uU2Nyb2xsLl9faXNOYXRpdmUsXG4gICAgICAnQ29tcG9uZW50cyBiYXNlZCBvbiBWaXJ0dWFsaXplZExpc3QgbXVzdCBiZSB3cmFwcGVkIHdpdGggQW5pbWF0ZWQuY3JlYXRlQW5pbWF0ZWRDb21wb25lbnQgJyArXG4gICAgICAgICd0byBzdXBwb3J0IG5hdGl2ZSBvblNjcm9sbCBldmVudHMgd2l0aCB1c2VOYXRpdmVEcml2ZXInLFxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgd2luZG93U2l6ZU9yRGVmYXVsdChwcm9wcy53aW5kb3dTaXplKSA+IDAsXG4gICAgICAnVmlydHVhbGl6ZWRMaXN0OiBUaGUgd2luZG93U2l6ZSBwcm9wIG11c3QgYmUgcHJlc2VudCBhbmQgc2V0IHRvIGEgdmFsdWUgZ3JlYXRlciB0aGFuIDAuJyxcbiAgICApO1xuXG4gICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIgPSBuZXcgRmlsbFJhdGVIZWxwZXIodGhpcy5fZ2V0RnJhbWVNZXRyaWNzKTtcbiAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlciA9IG5ldyBCYXRjaGluYXRvcihcbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXIsXG4gICAgICB0aGlzLnByb3BzLnVwZGF0ZUNlbGxzQmF0Y2hpbmdQZXJpb2QgPz8gNTAsXG4gICAgKTtcblxuICAgIGlmICh0aGlzLnByb3BzLnZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlycykge1xuICAgICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMgPSB0aGlzLnByb3BzLnZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlycy5tYXAoXG4gICAgICAgIHBhaXIgPT4gKHtcbiAgICAgICAgICB2aWV3YWJpbGl0eUhlbHBlcjogbmV3IFZpZXdhYmlsaXR5SGVscGVyKHBhaXIudmlld2FiaWxpdHlDb25maWcpLFxuICAgICAgICAgIG9uVmlld2FibGVJdGVtc0NoYW5nZWQ6IHBhaXIub25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCxcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB7b25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCwgdmlld2FiaWxpdHlDb25maWd9ID0gdGhpcy5wcm9wcztcbiAgICAgIGlmIChvblZpZXdhYmxlSXRlbXNDaGFuZ2VkKSB7XG4gICAgICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLnB1c2goe1xuICAgICAgICAgIHZpZXdhYmlsaXR5SGVscGVyOiBuZXcgVmlld2FiaWxpdHlIZWxwZXIodmlld2FiaWxpdHlDb25maWcpLFxuICAgICAgICAgIG9uVmlld2FibGVJdGVtc0NoYW5nZWQ6IG9uVmlld2FibGVJdGVtc0NoYW5nZWQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBpbml0aWFsU3RhdGUgPSB7XG4gICAgICBmaXJzdDogdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggfHwgMCxcbiAgICAgIGxhc3Q6XG4gICAgICAgIE1hdGgubWluKFxuICAgICAgICAgIHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSksXG4gICAgICAgICAgKHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4IHx8IDApICtcbiAgICAgICAgICAgIGluaXRpYWxOdW1Ub1JlbmRlck9yRGVmYXVsdCh0aGlzLnByb3BzLmluaXRpYWxOdW1Ub1JlbmRlciksXG4gICAgICAgICkgLSAxLFxuICAgIH07XG5cbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIGNvbnN0IHN0b3JlZFN0YXRlID0gdGhpcy5jb250ZXh0LmdldE5lc3RlZENoaWxkU3RhdGUodGhpcy5fZ2V0TGlzdEtleSgpKTtcbiAgICAgIGlmIChzdG9yZWRTdGF0ZSkge1xuICAgICAgICBpbml0aWFsU3RhdGUgPSBzdG9yZWRTdGF0ZTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0b3JlZFN0YXRlO1xuICAgICAgICB0aGlzLl9mcmFtZXMgPSBzdG9yZWRTdGF0ZS5mcmFtZXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgdGhpcy5jb250ZXh0LnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCh7XG4gICAgICAgIGNlbGxLZXk6IHRoaXMuX2dldENlbGxLZXkoKSxcbiAgICAgICAga2V5OiB0aGlzLl9nZXRMaXN0S2V5KCksXG4gICAgICAgIHJlZjogdGhpcyxcbiAgICAgICAgLy8gTk9URTogV2hlbiB0aGUgY2hpbGQgbW91bnRzIChoZXJlKSBpdCdzIG5vdCBuZWNlc3NhcmlseSBzYWZlIHRvIHJlYWRcbiAgICAgICAgLy8gdGhlIHBhcmVudCdzIHByb3BzLiBUaGlzIGlzIHdoeSB3ZSBleHBsaWNpdGx5IHByb3BhZ2F0ZSBkZWJ1Z0luZm9cbiAgICAgICAgLy8gXCJkb3duXCIgdmlhIGNvbnRleHQgYW5kIFwidXBcIiBhZ2FpbiB2aWEgdGhpcyBtZXRob2QgY2FsbCBvbiB0aGVcbiAgICAgICAgLy8gcGFyZW50LlxuICAgICAgICBwYXJlbnREZWJ1Z0luZm86IHRoaXMuY29udGV4dC5kZWJ1Z0luZm8sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHRoaXMuY29udGV4dC51bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCh7XG4gICAgICAgIGtleTogdGhpcy5fZ2V0TGlzdEtleSgpLFxuICAgICAgICBzdGF0ZToge1xuICAgICAgICAgIGZpcnN0OiB0aGlzLnN0YXRlLmZpcnN0LFxuICAgICAgICAgIGxhc3Q6IHRoaXMuc3RhdGUubGFzdCxcbiAgICAgICAgICBmcmFtZXM6IHRoaXMuX2ZyYW1lcyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKG51bGwpO1xuICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyLmRpc3Bvc2Uoe2Fib3J0OiB0cnVlfSk7XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0dXBsZSA9PiB7XG4gICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5kaXNwb3NlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIuZGVhY3RpdmF0ZUFuZEZsdXNoKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5ld1Byb3BzOiBQcm9wcywgcHJldlN0YXRlOiBTdGF0ZSk6IFN0YXRlIHtcbiAgICBjb25zdCB7ZGF0YSwgZ2V0SXRlbUNvdW50fSA9IG5ld1Byb3BzO1xuICAgIGNvbnN0IG1heFRvUmVuZGVyUGVyQmF0Y2ggPSBtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0KFxuICAgICAgbmV3UHJvcHMubWF4VG9SZW5kZXJQZXJCYXRjaCxcbiAgICApO1xuICAgIC8vIGZpcnN0IGFuZCBsYXN0IGNvdWxkIGJlIHN0YWxlIChlLmcuIGlmIGEgbmV3LCBzaG9ydGVyIGl0ZW1zIHByb3BzIGlzIHBhc3NlZCBpbiksIHNvIHdlIG1ha2VcbiAgICAvLyBzdXJlIHdlJ3JlIHJlbmRlcmluZyBhIHJlYXNvbmFibGUgcmFuZ2UgaGVyZS5cbiAgICByZXR1cm4ge1xuICAgICAgZmlyc3Q6IE1hdGgubWF4KFxuICAgICAgICAwLFxuICAgICAgICBNYXRoLm1pbihwcmV2U3RhdGUuZmlyc3QsIGdldEl0ZW1Db3VudChkYXRhKSAtIDEgLSBtYXhUb1JlbmRlclBlckJhdGNoKSxcbiAgICAgICksXG4gICAgICBsYXN0OiBNYXRoLm1heCgwLCBNYXRoLm1pbihwcmV2U3RhdGUubGFzdCwgZ2V0SXRlbUNvdW50KGRhdGEpIC0gMSkpLFxuICAgIH07XG4gIH1cblxuICBfcHVzaENlbGxzKFxuICAgIGNlbGxzOiBBcnJheTxPYmplY3Q+LFxuICAgIHN0aWNreUhlYWRlckluZGljZXM6IEFycmF5PG51bWJlcj4sXG4gICAgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wczogU2V0PG51bWJlcj4sXG4gICAgZmlyc3Q6IG51bWJlcixcbiAgICBsYXN0OiBudW1iZXIsXG4gICAgaW52ZXJzaW9uU3R5bGU6IFZpZXdTdHlsZVByb3AsXG4gICkge1xuICAgIGNvbnN0IHtcbiAgICAgIENlbGxSZW5kZXJlckNvbXBvbmVudCxcbiAgICAgIEl0ZW1TZXBhcmF0b3JDb21wb25lbnQsXG4gICAgICBkYXRhLFxuICAgICAgZ2V0SXRlbSxcbiAgICAgIGdldEl0ZW1Db3VudCxcbiAgICAgIGhvcml6b250YWwsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qgc3RpY2t5T2Zmc2V0ID0gdGhpcy5wcm9wcy5MaXN0SGVhZGVyQ29tcG9uZW50ID8gMSA6IDA7XG4gICAgY29uc3QgZW5kID0gZ2V0SXRlbUNvdW50KGRhdGEpIC0gMTtcbiAgICBsZXQgcHJldkNlbGxLZXk7XG4gICAgbGFzdCA9IE1hdGgubWluKGVuZCwgbGFzdCk7XG4gICAgZm9yIChsZXQgaWkgPSBmaXJzdDsgaWkgPD0gbGFzdDsgaWkrKykge1xuICAgICAgY29uc3QgaXRlbSA9IGdldEl0ZW0oZGF0YSwgaWkpO1xuICAgICAgY29uc3Qga2V5ID0gdGhpcy5fa2V5RXh0cmFjdG9yKGl0ZW0sIGlpKTtcbiAgICAgIHRoaXMuX2luZGljZXNUb0tleXMuc2V0KGlpLCBrZXkpO1xuICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuaGFzKGlpICsgc3RpY2t5T2Zmc2V0KSkge1xuICAgICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLnB1c2goY2VsbHMubGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxDZWxsUmVuZGVyZXJcbiAgICAgICAgICBDZWxsUmVuZGVyZXJDb21wb25lbnQ9e0NlbGxSZW5kZXJlckNvbXBvbmVudH1cbiAgICAgICAgICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50PXtpaSA8IGVuZCA/IEl0ZW1TZXBhcmF0b3JDb21wb25lbnQgOiB1bmRlZmluZWR9XG4gICAgICAgICAgY2VsbEtleT17a2V5fVxuICAgICAgICAgIGZpbGxSYXRlSGVscGVyPXt0aGlzLl9maWxsUmF0ZUhlbHBlcn1cbiAgICAgICAgICBob3Jpem9udGFsPXtob3Jpem9udGFsfVxuICAgICAgICAgIGluZGV4PXtpaX1cbiAgICAgICAgICBpbnZlcnNpb25TdHlsZT17aW52ZXJzaW9uU3R5bGV9XG4gICAgICAgICAgaXRlbT17aXRlbX1cbiAgICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgICBwcmV2Q2VsbEtleT17cHJldkNlbGxLZXl9XG4gICAgICAgICAgb25VcGRhdGVTZXBhcmF0b3JzPXt0aGlzLl9vblVwZGF0ZVNlcGFyYXRvcnN9XG4gICAgICAgICAgb25MYXlvdXQ9e2UgPT4gdGhpcy5fb25DZWxsTGF5b3V0KGUsIGtleSwgaWkpfVxuICAgICAgICAgIG9uVW5tb3VudD17dGhpcy5fb25DZWxsVW5tb3VudH1cbiAgICAgICAgICBwYXJlbnRQcm9wcz17dGhpcy5wcm9wc31cbiAgICAgICAgICByZWY9e3JlZiA9PiB7XG4gICAgICAgICAgICB0aGlzLl9jZWxsUmVmc1trZXldID0gcmVmO1xuICAgICAgICAgIH19XG4gICAgICAgIC8+LFxuICAgICAgKTtcbiAgICAgIHByZXZDZWxsS2V5ID0ga2V5O1xuICAgIH1cbiAgfVxuXG4gIF9vblVwZGF0ZVNlcGFyYXRvcnMgPSAoa2V5czogQXJyYXk8P3N0cmluZz4sIG5ld1Byb3BzOiBPYmplY3QpID0+IHtcbiAgICBrZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGNvbnN0IHJlZiA9IGtleSAhPSBudWxsICYmIHRoaXMuX2NlbGxSZWZzW2tleV07XG4gICAgICByZWYgJiYgcmVmLnVwZGF0ZVNlcGFyYXRvclByb3BzKG5ld1Byb3BzKTtcbiAgICB9KTtcbiAgfTtcblxuICBfaXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmRpc2FibGVWaXJ0dWFsaXphdGlvbiB8fCBmYWxzZTtcbiAgfVxuXG4gIF9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKTogYm9vbGVhbiB7XG4gICAgY29uc3QgbmVzdGVkQ29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICByZXR1cm4gISEoXG4gICAgICBuZXN0ZWRDb250ZXh0ICYmXG4gICAgICAhIW5lc3RlZENvbnRleHQuaG9yaXpvbnRhbCA9PT0gaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpXG4gICAgKTtcbiAgfVxuXG4gIF9nZXRTcGFjZXJLZXkgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHN0cmluZyA9PlxuICAgIGlzVmVydGljYWwgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG5cbiAgX2tleUV4dHJhY3RvcihpdGVtOiBJdGVtLCBpbmRleDogbnVtYmVyKSB7XG4gICAgaWYgKHRoaXMucHJvcHMua2V5RXh0cmFjdG9yICE9IG51bGwpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmtleUV4dHJhY3RvcihpdGVtLCBpbmRleCk7XG4gICAgfVxuXG4gICAgY29uc3Qga2V5ID0gZGVmYXVsdEtleUV4dHJhY3RvcihpdGVtLCBpbmRleCk7XG4gICAgaWYgKGtleSA9PT0gU3RyaW5nKGluZGV4KSkge1xuICAgICAgX3VzZWRJbmRleEZvcktleSA9IHRydWU7XG4gICAgICBpZiAoaXRlbS50eXBlICYmIGl0ZW0udHlwZS5kaXNwbGF5TmFtZSkge1xuICAgICAgICBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lID0gaXRlbS50eXBlLmRpc3BsYXlOYW1lO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ga2V5O1xuICB9XG5cbiAgcmVuZGVyKCk6IFJlYWN0Lk5vZGUge1xuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICBjb25zdCBmbGF0U3R5bGVzID0gZmxhdHRlblN0eWxlKHRoaXMucHJvcHMuY29udGVudENvbnRhaW5lclN0eWxlKTtcbiAgICAgIGlmIChmbGF0U3R5bGVzICE9IG51bGwgJiYgZmxhdFN0eWxlcy5mbGV4V3JhcCA9PT0gJ3dyYXAnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnYGZsZXhXcmFwOiBgd3JhcGBgIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCB0aGUgYFZpcnR1YWxpemVkTGlzdGAgY29tcG9uZW50cy4nICtcbiAgICAgICAgICAgICdDb25zaWRlciB1c2luZyBgbnVtQ29sdW1uc2Agd2l0aCBgRmxhdExpc3RgIGluc3RlYWQuJyxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qge0xpc3RFbXB0eUNvbXBvbmVudCwgTGlzdEZvb3RlckNvbXBvbmVudCwgTGlzdEhlYWRlckNvbXBvbmVudH0gPVxuICAgICAgdGhpcy5wcm9wcztcbiAgICBjb25zdCB7ZGF0YSwgaG9yaXpvbnRhbH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCA9IHRoaXMuX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCgpO1xuICAgIGNvbnN0IGludmVyc2lvblN0eWxlID0gdGhpcy5wcm9wcy5pbnZlcnRlZFxuICAgICAgPyBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbClcbiAgICAgICAgPyBzdHlsZXMuaG9yaXpvbnRhbGx5SW52ZXJ0ZWRcbiAgICAgICAgOiBzdHlsZXMudmVydGljYWxseUludmVydGVkXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgY2VsbHMgPSBbXTtcbiAgICBjb25zdCBzdGlja3lJbmRpY2VzRnJvbVByb3BzID0gbmV3IFNldCh0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXMpO1xuICAgIGNvbnN0IHN0aWNreUhlYWRlckluZGljZXMgPSBbXTtcbiAgICBpZiAoTGlzdEhlYWRlckNvbXBvbmVudCkge1xuICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuaGFzKDApKSB7XG4gICAgICAgIHN0aWNreUhlYWRlckluZGljZXMucHVzaCgwKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBSZWFjdC5pc1ZhbGlkRWxlbWVudChMaXN0SGVhZGVyQ29tcG9uZW50KSA/IChcbiAgICAgICAgTGlzdEhlYWRlckNvbXBvbmVudFxuICAgICAgKSA6IChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtub3QtYS1jb21wb25lbnRdXG4gICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGUtYXJnXVxuICAgICAgICA8TGlzdEhlYWRlckNvbXBvbmVudCAvPlxuICAgICAgKTtcbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxWaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyXG4gICAgICAgICAgY2VsbEtleT17dGhpcy5fZ2V0Q2VsbEtleSgpICsgJy1oZWFkZXInfVxuICAgICAgICAgIGtleT1cIiRoZWFkZXJcIj5cbiAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgb25MYXlvdXQ9e3RoaXMuX29uTGF5b3V0SGVhZGVyfVxuICAgICAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuY29tcG9zZShcbiAgICAgICAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuTGlzdEhlYWRlckNvbXBvbmVudFN0eWxlLFxuICAgICAgICAgICAgKX0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdIC0gVHlwaW5nIFJlYWN0TmF0aXZlQ29tcG9uZW50IHJldmVhbGVkIGVycm9yc1xuICAgICAgICAgICAgICBlbGVtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9WaWV3PlxuICAgICAgICA8L1ZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXI+LFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQoZGF0YSk7XG4gICAgaWYgKGl0ZW1Db3VudCA+IDApIHtcbiAgICAgIF91c2VkSW5kZXhGb3JLZXkgPSBmYWxzZTtcbiAgICAgIF9rZXlsZXNzSXRlbUNvbXBvbmVudE5hbWUgPSAnJztcbiAgICAgIGNvbnN0IHNwYWNlcktleSA9IHRoaXMuX2dldFNwYWNlcktleSghaG9yaXpvbnRhbCk7XG4gICAgICBjb25zdCBsYXN0SW5pdGlhbEluZGV4ID0gdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXhcbiAgICAgICAgPyAtMVxuICAgICAgICA6IGluaXRpYWxOdW1Ub1JlbmRlck9yRGVmYXVsdCh0aGlzLnByb3BzLmluaXRpYWxOdW1Ub1JlbmRlcikgLSAxO1xuICAgICAgY29uc3Qge2ZpcnN0LCBsYXN0fSA9IHRoaXMuc3RhdGU7XG4gICAgICB0aGlzLl9wdXNoQ2VsbHMoXG4gICAgICAgIGNlbGxzLFxuICAgICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLFxuICAgICAgICBzdGlja3lJbmRpY2VzRnJvbVByb3BzLFxuICAgICAgICAwLFxuICAgICAgICBsYXN0SW5pdGlhbEluZGV4LFxuICAgICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgICk7XG4gICAgICBjb25zdCBmaXJzdEFmdGVySW5pdGlhbCA9IE1hdGgubWF4KGxhc3RJbml0aWFsSW5kZXggKyAxLCBmaXJzdCk7XG4gICAgICBpZiAoIWlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCAmJiBmaXJzdCA+IGxhc3RJbml0aWFsSW5kZXggKyAxKSB7XG4gICAgICAgIGxldCBpbnNlcnRlZFN0aWNreVNwYWNlciA9IGZhbHNlO1xuICAgICAgICBpZiAoc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcy5zaXplID4gMCkge1xuICAgICAgICAgIGNvbnN0IHN0aWNreU9mZnNldCA9IExpc3RIZWFkZXJDb21wb25lbnQgPyAxIDogMDtcbiAgICAgICAgICAvLyBTZWUgaWYgdGhlcmUgYXJlIGFueSBzdGlja3kgaGVhZGVycyBpbiB0aGUgdmlydHVhbGl6ZWQgc3BhY2UgdGhhdCB3ZSBuZWVkIHRvIHJlbmRlci5cbiAgICAgICAgICBmb3IgKGxldCBpaSA9IGZpcnN0QWZ0ZXJJbml0aWFsIC0gMTsgaWkgPiBsYXN0SW5pdGlhbEluZGV4OyBpaS0tKSB7XG4gICAgICAgICAgICBpZiAoc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcy5oYXMoaWkgKyBzdGlja3lPZmZzZXQpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGluaXRCbG9jayA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChsYXN0SW5pdGlhbEluZGV4KTtcbiAgICAgICAgICAgICAgY29uc3Qgc3RpY2t5QmxvY2sgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goaWkpO1xuICAgICAgICAgICAgICBjb25zdCBsZWFkU3BhY2UgPVxuICAgICAgICAgICAgICAgIHN0aWNreUJsb2NrLm9mZnNldCAtXG4gICAgICAgICAgICAgICAgaW5pdEJsb2NrLm9mZnNldCAtXG4gICAgICAgICAgICAgICAgKHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ID8gMCA6IGluaXRCbG9jay5sZW5ndGgpO1xuICAgICAgICAgICAgICBjZWxscy5wdXNoKFxuICAgICAgICAgICAgICAgIDxWaWV3IGtleT1cIiRzdGlja3lfbGVhZFwiIHN0eWxlPXt7W3NwYWNlcktleV06IGxlYWRTcGFjZX19IC8+LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0aGlzLl9wdXNoQ2VsbHMoXG4gICAgICAgICAgICAgICAgY2VsbHMsXG4gICAgICAgICAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcyxcbiAgICAgICAgICAgICAgICBzdGlja3lJbmRpY2VzRnJvbVByb3BzLFxuICAgICAgICAgICAgICAgIGlpLFxuICAgICAgICAgICAgICAgIGlpLFxuICAgICAgICAgICAgICAgIGludmVyc2lvblN0eWxlLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjb25zdCB0cmFpbFNwYWNlID1cbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goZmlyc3QpLm9mZnNldCAtXG4gICAgICAgICAgICAgICAgKHN0aWNreUJsb2NrLm9mZnNldCArIHN0aWNreUJsb2NrLmxlbmd0aCk7XG4gICAgICAgICAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgICAgICAgICAgPFZpZXcga2V5PVwiJHN0aWNreV90cmFpbFwiIHN0eWxlPXt7W3NwYWNlcktleV06IHRyYWlsU3BhY2V9fSAvPixcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgaW5zZXJ0ZWRTdGlja3lTcGFjZXIgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpbnNlcnRlZFN0aWNreVNwYWNlcikge1xuICAgICAgICAgIGNvbnN0IGluaXRCbG9jayA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChsYXN0SW5pdGlhbEluZGV4KTtcbiAgICAgICAgICBjb25zdCBmaXJzdFNwYWNlID1cbiAgICAgICAgICAgIHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChmaXJzdCkub2Zmc2V0IC1cbiAgICAgICAgICAgIChpbml0QmxvY2sub2Zmc2V0ICsgaW5pdEJsb2NrLmxlbmd0aCk7XG4gICAgICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgICAgIDxWaWV3IGtleT1cIiRsZWFkX3NwYWNlclwiIHN0eWxlPXt7W3NwYWNlcktleV06IGZpcnN0U3BhY2V9fSAvPixcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLl9wdXNoQ2VsbHMoXG4gICAgICAgIGNlbGxzLFxuICAgICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLFxuICAgICAgICBzdGlja3lJbmRpY2VzRnJvbVByb3BzLFxuICAgICAgICBmaXJzdEFmdGVySW5pdGlhbCxcbiAgICAgICAgbGFzdCxcbiAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICApO1xuICAgICAgaWYgKCF0aGlzLl9oYXNXYXJuZWQua2V5cyAmJiBfdXNlZEluZGV4Rm9yS2V5KSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0OiBtaXNzaW5nIGtleXMgZm9yIGl0ZW1zLCBtYWtlIHN1cmUgdG8gc3BlY2lmeSBhIGtleSBvciBpZCBwcm9wZXJ0eSBvbiBlYWNoICcgK1xuICAgICAgICAgICAgJ2l0ZW0gb3IgcHJvdmlkZSBhIGN1c3RvbSBrZXlFeHRyYWN0b3IuJyxcbiAgICAgICAgICBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9oYXNXYXJuZWQua2V5cyA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoIWlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCAmJiBsYXN0IDwgaXRlbUNvdW50IC0gMSkge1xuICAgICAgICBjb25zdCBsYXN0RnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3gobGFzdCk7XG4gICAgICAgIC8vIFdpdGhvdXQgZ2V0SXRlbUxheW91dCwgd2UgbGltaXQgb3VyIHRhaWwgc3BhY2VyIHRvIHRoZSBfaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCB0b1xuICAgICAgICAvLyBwcmV2ZW50IHRoZSB1c2VyIGZvciBoeXBlcnNjcm9sbGluZyBpbnRvIHVuLW1lYXN1cmVkIGFyZWEgYmVjYXVzZSBvdGhlcndpc2UgY29udGVudCB3aWxsXG4gICAgICAgIC8vIGxpa2VseSBqdW1wIGFyb3VuZCBhcyBpdCByZW5kZXJzIGluIGFib3ZlIHRoZSB2aWV3cG9ydC5cbiAgICAgICAgY29uc3QgZW5kID0gdGhpcy5wcm9wcy5nZXRJdGVtTGF5b3V0XG4gICAgICAgICAgPyBpdGVtQ291bnQgLSAxXG4gICAgICAgICAgOiBNYXRoLm1pbihpdGVtQ291bnQgLSAxLCB0aGlzLl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4KTtcbiAgICAgICAgY29uc3QgZW5kRnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goZW5kKTtcbiAgICAgICAgY29uc3QgdGFpbFNwYWNlckxlbmd0aCA9XG4gICAgICAgICAgZW5kRnJhbWUub2Zmc2V0ICtcbiAgICAgICAgICBlbmRGcmFtZS5sZW5ndGggLVxuICAgICAgICAgIChsYXN0RnJhbWUub2Zmc2V0ICsgbGFzdEZyYW1lLmxlbmd0aCk7XG4gICAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgICAgPFZpZXcga2V5PVwiJHRhaWxfc3BhY2VyXCIgc3R5bGU9e3tbc3BhY2VyS2V5XTogdGFpbFNwYWNlckxlbmd0aH19IC8+LFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoTGlzdEVtcHR5Q29tcG9uZW50KSB7XG4gICAgICBjb25zdCBlbGVtZW50OiBSZWFjdC5FbGVtZW50PGFueT4gPSAoKFJlYWN0LmlzVmFsaWRFbGVtZW50KFxuICAgICAgICBMaXN0RW1wdHlDb21wb25lbnQsXG4gICAgICApID8gKFxuICAgICAgICBMaXN0RW1wdHlDb21wb25lbnRcbiAgICAgICkgOiAoXG4gICAgICAgIC8vICRGbG93Rml4TWVbbm90LWEtY29tcG9uZW50XVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlLWFyZ11cbiAgICAgICAgPExpc3RFbXB0eUNvbXBvbmVudCAvPlxuICAgICAgKSk6IGFueSk7XG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICBSZWFjdC5jbG9uZUVsZW1lbnQoZWxlbWVudCwge1xuICAgICAgICAgIGtleTogJyRlbXB0eScsXG4gICAgICAgICAgb25MYXlvdXQ6IGV2ZW50ID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uTGF5b3V0RW1wdHkoZXZlbnQpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQucHJvcHMub25MYXlvdXQpIHtcbiAgICAgICAgICAgICAgZWxlbWVudC5wcm9wcy5vbkxheW91dChldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdHlsZTogU3R5bGVTaGVldC5jb21wb3NlKGludmVyc2lvblN0eWxlLCBlbGVtZW50LnByb3BzLnN0eWxlKSxcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoTGlzdEZvb3RlckNvbXBvbmVudCkge1xuICAgICAgY29uc3QgZWxlbWVudCA9IFJlYWN0LmlzVmFsaWRFbGVtZW50KExpc3RGb290ZXJDb21wb25lbnQpID8gKFxuICAgICAgICBMaXN0Rm9vdGVyQ29tcG9uZW50XG4gICAgICApIDogKFxuICAgICAgICAvLyAkRmxvd0ZpeE1lW25vdC1hLWNvbXBvbmVudF1cbiAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZS1hcmddXG4gICAgICAgIDxMaXN0Rm9vdGVyQ29tcG9uZW50IC8+XG4gICAgICApO1xuICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgPFZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXJcbiAgICAgICAgICBjZWxsS2V5PXt0aGlzLl9nZXRGb290ZXJDZWxsS2V5KCl9XG4gICAgICAgICAga2V5PVwiJGZvb3RlclwiPlxuICAgICAgICAgIDxWaWV3XG4gICAgICAgICAgICBvbkxheW91dD17dGhpcy5fb25MYXlvdXRGb290ZXJ9XG4gICAgICAgICAgICBzdHlsZT17U3R5bGVTaGVldC5jb21wb3NlKFxuICAgICAgICAgICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5MaXN0Rm9vdGVyQ29tcG9uZW50U3R5bGUsXG4gICAgICAgICAgICApfT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZV0gLSBUeXBpbmcgUmVhY3ROYXRpdmVDb21wb25lbnQgcmV2ZWFsZWQgZXJyb3JzXG4gICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgIDwvVmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlcj4sXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBzY3JvbGxQcm9wcyA9IHtcbiAgICAgIC4uLnRoaXMucHJvcHMsXG4gICAgICBvbkNvbnRlbnRTaXplQ2hhbmdlOiB0aGlzLl9vbkNvbnRlbnRTaXplQ2hhbmdlLFxuICAgICAgb25MYXlvdXQ6IHRoaXMuX29uTGF5b3V0LFxuICAgICAgb25TY3JvbGw6IHRoaXMuX29uU2Nyb2xsLFxuICAgICAgb25TY3JvbGxCZWdpbkRyYWc6IHRoaXMuX29uU2Nyb2xsQmVnaW5EcmFnLFxuICAgICAgb25TY3JvbGxFbmREcmFnOiB0aGlzLl9vblNjcm9sbEVuZERyYWcsXG4gICAgICBvbk1vbWVudHVtU2Nyb2xsQmVnaW46IHRoaXMuX29uTW9tZW50dW1TY3JvbGxCZWdpbixcbiAgICAgIG9uTW9tZW50dW1TY3JvbGxFbmQ6IHRoaXMuX29uTW9tZW50dW1TY3JvbGxFbmQsXG4gICAgICBzY3JvbGxFdmVudFRocm90dGxlOiBzY3JvbGxFdmVudFRocm90dGxlT3JEZWZhdWx0KFxuICAgICAgICB0aGlzLnByb3BzLnNjcm9sbEV2ZW50VGhyb3R0bGUsXG4gICAgICApLCAvLyBUT0RPOiBBbmRyb2lkIHN1cHBvcnRcbiAgICAgIGludmVydFN0aWNreUhlYWRlcnM6XG4gICAgICAgIHRoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVycyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyB0aGlzLnByb3BzLmludmVydFN0aWNreUhlYWRlcnNcbiAgICAgICAgICA6IHRoaXMucHJvcHMuaW52ZXJ0ZWQsXG4gICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLFxuICAgICAgc3R5bGU6IGludmVyc2lvblN0eWxlXG4gICAgICAgID8gW2ludmVyc2lvblN0eWxlLCB0aGlzLnByb3BzLnN0eWxlXVxuICAgICAgICA6IHRoaXMucHJvcHMuc3R5bGUsXG4gICAgfTtcblxuICAgIHRoaXMuX2hhc01vcmUgPVxuICAgICAgdGhpcy5zdGF0ZS5sYXN0IDwgdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKSAtIDE7XG5cbiAgICBjb25zdCBpbm5lclJldCA9IChcbiAgICAgIDxWaXJ0dWFsaXplZExpc3RDb250ZXh0UHJvdmlkZXJcbiAgICAgICAgdmFsdWU9e3tcbiAgICAgICAgICBjZWxsS2V5OiBudWxsLFxuICAgICAgICAgIGdldFNjcm9sbE1ldHJpY3M6IHRoaXMuX2dldFNjcm9sbE1ldHJpY3MsXG4gICAgICAgICAgaG9yaXpvbnRhbDogaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpLFxuICAgICAgICAgIGdldE91dGVybW9zdFBhcmVudExpc3RSZWY6IHRoaXMuX2dldE91dGVybW9zdFBhcmVudExpc3RSZWYsXG4gICAgICAgICAgZ2V0TmVzdGVkQ2hpbGRTdGF0ZTogdGhpcy5fZ2V0TmVzdGVkQ2hpbGRTdGF0ZSxcbiAgICAgICAgICByZWdpc3RlckFzTmVzdGVkQ2hpbGQ6IHRoaXMuX3JlZ2lzdGVyQXNOZXN0ZWRDaGlsZCxcbiAgICAgICAgICB1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogdGhpcy5fdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQsXG4gICAgICAgICAgZGVidWdJbmZvOiB0aGlzLl9nZXREZWJ1Z0luZm8oKSxcbiAgICAgICAgfX0+XG4gICAgICAgIHtSZWFjdC5jbG9uZUVsZW1lbnQoXG4gICAgICAgICAgKFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5yZW5kZXJTY3JvbGxDb21wb25lbnQgfHxcbiAgICAgICAgICAgIHRoaXMuX2RlZmF1bHRSZW5kZXJTY3JvbGxDb21wb25lbnRcbiAgICAgICAgICApKHNjcm9sbFByb3BzKSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZWY6IHRoaXMuX2NhcHR1cmVTY3JvbGxSZWYsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjZWxscyxcbiAgICAgICAgKX1cbiAgICAgIDwvVmlydHVhbGl6ZWRMaXN0Q29udGV4dFByb3ZpZGVyPlxuICAgICk7XG4gICAgbGV0IHJldCA9IGlubmVyUmV0O1xuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICByZXQgPSAoXG4gICAgICAgIDxTY3JvbGxWaWV3LkNvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgICAge3Njcm9sbENvbnRleHQgPT4ge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzY3JvbGxDb250ZXh0ICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgIXNjcm9sbENvbnRleHQuaG9yaXpvbnRhbCA9PT1cbiAgICAgICAgICAgICAgICAhaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpICYmXG4gICAgICAgICAgICAgICF0aGlzLl9oYXNXYXJuZWQubmVzdGluZyAmJlxuICAgICAgICAgICAgICB0aGlzLmNvbnRleHQgPT0gbnVsbFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIC8vIFRPRE8gKFQ0NjU0NzA0NCk6IHVzZSBSZWFjdC53YXJuIG9uY2UgMTYuOSBpcyBzeW5jJ2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9wdWxsLzE1MTcwXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdHMgc2hvdWxkIG5ldmVyIGJlIG5lc3RlZCBpbnNpZGUgcGxhaW4gU2Nyb2xsVmlld3Mgd2l0aCB0aGUgc2FtZSAnICtcbiAgICAgICAgICAgICAgICAgICdvcmllbnRhdGlvbiBiZWNhdXNlIGl0IGNhbiBicmVhayB3aW5kb3dpbmcgYW5kIG90aGVyIGZ1bmN0aW9uYWxpdHkgLSB1c2UgYW5vdGhlciAnICtcbiAgICAgICAgICAgICAgICAgICdWaXJ0dWFsaXplZExpc3QtYmFja2VkIGNvbnRhaW5lciBpbnN0ZWFkLicsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHRoaXMuX2hhc1dhcm5lZC5uZXN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbm5lclJldDtcbiAgICAgICAgICB9fVxuICAgICAgICA8L1Njcm9sbFZpZXcuQ29udGV4dC5Db25zdW1lcj5cbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLmRlYnVnKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8VmlldyBzdHlsZT17c3R5bGVzLmRlYnVnfT5cbiAgICAgICAgICB7cmV0fVxuICAgICAgICAgIHt0aGlzLl9yZW5kZXJEZWJ1Z092ZXJsYXkoKX1cbiAgICAgICAgPC9WaWV3PlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBQcm9wcykge1xuICAgIGNvbnN0IHtkYXRhLCBleHRyYURhdGF9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoZGF0YSAhPT0gcHJldlByb3BzLmRhdGEgfHwgZXh0cmFEYXRhICE9PSBwcmV2UHJvcHMuZXh0cmFEYXRhKSB7XG4gICAgICAvLyBjbGVhciB0aGUgdmlld2FibGVJbmRpY2VzIGNhY2hlIHRvIGFsc28gdHJpZ2dlclxuICAgICAgLy8gdGhlIG9uVmlld2FibGVJdGVtc0NoYW5nZWQgY2FsbGJhY2sgd2l0aCB0aGUgbmV3IGRhdGFcbiAgICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godHVwbGUgPT4ge1xuICAgICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5yZXNldFZpZXdhYmxlSW5kaWNlcygpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFRoZSBgdGhpcy5faGlQcmlJblByb2dyZXNzYCBpcyBndWFyYW50ZWVpbmcgYSBoaVByaSBjZWxsIHVwZGF0ZSB3aWxsIG9ubHkgaGFwcGVuXG4gICAgLy8gb25jZSBwZXIgZmliZXIgdXBkYXRlLiBUaGUgYF9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGVgIHdpbGwgc2V0IGl0IHRvIHRydWVcbiAgICAvLyBpZiBhIGhpUHJpIHVwZGF0ZSBuZWVkcyB0byBwZXJmb3JtLiBJZiBgY29tcG9uZW50RGlkVXBkYXRlYCBpcyB0cmlnZ2VyZWQgd2l0aFxuICAgIC8vIGB0aGlzLl9oaVByaUluUHJvZ3Jlc3M9dHJ1ZWAsIG1lYW5zIGl0J3MgdHJpZ2dlcmVkIGJ5IHRoZSBoaVByaSB1cGRhdGUuIFRoZVxuICAgIC8vIGBfc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlYCB3aWxsIGNoZWNrIHRoaXMgY29uZGl0aW9uIGFuZCBub3QgcGVyZm9ybVxuICAgIC8vIGFub3RoZXIgaGlQcmkgdXBkYXRlLlxuICAgIGNvbnN0IGhpUHJpSW5Qcm9ncmVzcyA9IHRoaXMuX2hpUHJpSW5Qcm9ncmVzcztcbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICAvLyBNYWtlIHN1cmUgc2V0dGluZyBgdGhpcy5faGlQcmlJblByb2dyZXNzYCBiYWNrIHRvIGZhbHNlIGFmdGVyIGBjb21wb25lbnREaWRVcGRhdGVgXG4gICAgLy8gaXMgdHJpZ2dlcmVkIHdpdGggYHRoaXMuX2hpUHJpSW5Qcm9ncmVzcyA9IHRydWVgXG4gICAgaWYgKGhpUHJpSW5Qcm9ncmVzcykge1xuICAgICAgdGhpcy5faGlQcmlJblByb2dyZXNzID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX2F2ZXJhZ2VDZWxsTGVuZ3RoID0gMDtcbiAgLy8gTWFwcyBhIGNlbGwga2V5IHRvIHRoZSBzZXQgb2Yga2V5cyBmb3IgYWxsIG91dGVybW9zdCBjaGlsZCBsaXN0cyB3aXRoaW4gdGhhdCBjZWxsXG4gIF9jZWxsS2V5c1RvQ2hpbGRMaXN0S2V5czogTWFwPHN0cmluZywgU2V0PHN0cmluZz4+ID0gbmV3IE1hcCgpO1xuICBfY2VsbFJlZnMgPSB7fTtcbiAgX2ZpbGxSYXRlSGVscGVyOiBGaWxsUmF0ZUhlbHBlcjtcbiAgX2ZyYW1lcyA9IHt9O1xuICBfZm9vdGVyTGVuZ3RoID0gMDtcbiAgX2hhc0RvbmVJbml0aWFsU2Nyb2xsID0gZmFsc2U7XG4gIF9oYXNJbnRlcmFjdGVkID0gZmFsc2U7XG4gIF9oYXNNb3JlID0gZmFsc2U7XG4gIF9oYXNXYXJuZWQgPSB7fTtcbiAgX2hlYWRlckxlbmd0aCA9IDA7XG4gIF9oaVByaUluUHJvZ3Jlc3M6IGJvb2xlYW4gPSBmYWxzZTsgLy8gZmxhZyB0byBwcmV2ZW50IGluZmluaXRlIGhpUHJpIGNlbGwgbGltaXQgdXBkYXRlXG4gIF9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4ID0gMDtcbiAgX2luZGljZXNUb0tleXM6IE1hcDxudW1iZXIsIHN0cmluZz4gPSBuZXcgTWFwKCk7XG4gIF9uZXN0ZWRDaGlsZExpc3RzOiBNYXA8XG4gICAgc3RyaW5nLFxuICAgIHtcbiAgICAgIHJlZjogP1ZpcnR1YWxpemVkTGlzdCxcbiAgICAgIHN0YXRlOiA/Q2hpbGRMaXN0U3RhdGUsXG4gICAgICAuLi5cbiAgICB9LFxuICA+ID0gbmV3IE1hcCgpO1xuICBfb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdDogbnVtYmVyID0gMDtcbiAgX3ByZXZQYXJlbnRPZmZzZXQ6IG51bWJlciA9IDA7XG4gIF9zY3JvbGxNZXRyaWNzID0ge1xuICAgIGNvbnRlbnRMZW5ndGg6IDAsXG4gICAgZE9mZnNldDogMCxcbiAgICBkdDogMTAsXG4gICAgb2Zmc2V0OiAwLFxuICAgIHRpbWVzdGFtcDogMCxcbiAgICB2ZWxvY2l0eTogMCxcbiAgICB2aXNpYmxlTGVuZ3RoOiAwLFxuICB9O1xuICBfc2Nyb2xsUmVmOiA/UmVhY3QuRWxlbWVudFJlZjxhbnk+ID0gbnVsbDtcbiAgX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoID0gMDtcbiAgX3RvdGFsQ2VsbExlbmd0aCA9IDA7XG4gIF90b3RhbENlbGxzTWVhc3VyZWQgPSAwO1xuICBfdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXI6IEJhdGNoaW5hdG9yO1xuICBfdmlld2FiaWxpdHlUdXBsZXM6IEFycmF5PFZpZXdhYmlsaXR5SGVscGVyQ2FsbGJhY2tUdXBsZT4gPSBbXTtcblxuICBfY2FwdHVyZVNjcm9sbFJlZiA9IHJlZiA9PiB7XG4gICAgdGhpcy5fc2Nyb2xsUmVmID0gcmVmO1xuICB9O1xuXG4gIF9jb21wdXRlQmxhbmtuZXNzKCkge1xuICAgIHRoaXMuX2ZpbGxSYXRlSGVscGVyLmNvbXB1dGVCbGFua25lc3MoXG4gICAgICB0aGlzLnByb3BzLFxuICAgICAgdGhpcy5zdGF0ZSxcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MsXG4gICAgKTtcbiAgfVxuXG4gIF9kZWZhdWx0UmVuZGVyU2Nyb2xsQ29tcG9uZW50ID0gcHJvcHMgPT4ge1xuICAgIGNvbnN0IG9uUmVmcmVzaCA9IHByb3BzLm9uUmVmcmVzaDtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSAtIFR5cGluZyBSZWFjdE5hdGl2ZUNvbXBvbmVudCByZXZlYWxlZCBlcnJvcnNcbiAgICAgIHJldHVybiA8VmlldyB7Li4ucHJvcHN9IC8+O1xuICAgIH0gZWxzZSBpZiAob25SZWZyZXNoKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIHR5cGVvZiBwcm9wcy5yZWZyZXNoaW5nID09PSAnYm9vbGVhbicsXG4gICAgICAgICdgcmVmcmVzaGluZ2AgcHJvcCBtdXN0IGJlIHNldCBhcyBhIGJvb2xlYW4gaW4gb3JkZXIgdG8gdXNlIGBvblJlZnJlc2hgLCBidXQgZ290IGAnICtcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcm9wcy5yZWZyZXNoaW5nID8/ICd1bmRlZmluZWQnKSArXG4gICAgICAgICAgJ2AnLFxuICAgICAgKTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSBJbnZhbGlkIHByb3AgdXNhZ2VcbiAgICAgICAgPFNjcm9sbFZpZXdcbiAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgcmVmcmVzaENvbnRyb2w9e1xuICAgICAgICAgICAgcHJvcHMucmVmcmVzaENvbnRyb2wgPT0gbnVsbCA/IChcbiAgICAgICAgICAgICAgPFJlZnJlc2hDb250cm9sXG4gICAgICAgICAgICAgICAgcmVmcmVzaGluZz17cHJvcHMucmVmcmVzaGluZ31cbiAgICAgICAgICAgICAgICBvblJlZnJlc2g9e29uUmVmcmVzaH1cbiAgICAgICAgICAgICAgICBwcm9ncmVzc1ZpZXdPZmZzZXQ9e3Byb3BzLnByb2dyZXNzVmlld09mZnNldH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIHByb3BzLnJlZnJlc2hDb250cm9sXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIEludmFsaWQgcHJvcCB1c2FnZVxuICAgICAgcmV0dXJuIDxTY3JvbGxWaWV3IHsuLi5wcm9wc30gLz47XG4gICAgfVxuICB9O1xuXG4gIF9vbkNlbGxMYXlvdXQoZSwgY2VsbEtleSwgaW5kZXgpIHtcbiAgICBjb25zdCBsYXlvdXQgPSBlLm5hdGl2ZUV2ZW50LmxheW91dDtcbiAgICBjb25zdCBuZXh0ID0ge1xuICAgICAgb2Zmc2V0OiB0aGlzLl9zZWxlY3RPZmZzZXQobGF5b3V0KSxcbiAgICAgIGxlbmd0aDogdGhpcy5fc2VsZWN0TGVuZ3RoKGxheW91dCksXG4gICAgICBpbmRleCxcbiAgICAgIGluTGF5b3V0OiB0cnVlLFxuICAgIH07XG4gICAgY29uc3QgY3VyciA9IHRoaXMuX2ZyYW1lc1tjZWxsS2V5XTtcbiAgICBpZiAoXG4gICAgICAhY3VyciB8fFxuICAgICAgbmV4dC5vZmZzZXQgIT09IGN1cnIub2Zmc2V0IHx8XG4gICAgICBuZXh0Lmxlbmd0aCAhPT0gY3Vyci5sZW5ndGggfHxcbiAgICAgIGluZGV4ICE9PSBjdXJyLmluZGV4XG4gICAgKSB7XG4gICAgICB0aGlzLl90b3RhbENlbGxMZW5ndGggKz0gbmV4dC5sZW5ndGggLSAoY3VyciA/IGN1cnIubGVuZ3RoIDogMCk7XG4gICAgICB0aGlzLl90b3RhbENlbGxzTWVhc3VyZWQgKz0gY3VyciA/IDAgOiAxO1xuICAgICAgdGhpcy5fYXZlcmFnZUNlbGxMZW5ndGggPVxuICAgICAgICB0aGlzLl90b3RhbENlbGxMZW5ndGggLyB0aGlzLl90b3RhbENlbGxzTWVhc3VyZWQ7XG4gICAgICB0aGlzLl9mcmFtZXNbY2VsbEtleV0gPSBuZXh0O1xuICAgICAgdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCA9IE1hdGgubWF4KFxuICAgICAgICB0aGlzLl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4LFxuICAgICAgICBpbmRleCxcbiAgICAgICk7XG4gICAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZnJhbWVzW2NlbGxLZXldLmluTGF5b3V0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLl90cmlnZ2VyUmVtZWFzdXJlRm9yQ2hpbGRMaXN0c0luQ2VsbChjZWxsS2V5KTtcblxuICAgIHRoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKHRoaXMucHJvcHMuZGF0YSk7XG4gIH1cblxuICBfb25DZWxsVW5tb3VudCA9IChjZWxsS2V5OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBjdXJyID0gdGhpcy5fZnJhbWVzW2NlbGxLZXldO1xuICAgIGlmIChjdXJyKSB7XG4gICAgICB0aGlzLl9mcmFtZXNbY2VsbEtleV0gPSB7Li4uY3VyciwgaW5MYXlvdXQ6IGZhbHNlfTtcbiAgICB9XG4gIH07XG5cbiAgX3RyaWdnZXJSZW1lYXN1cmVGb3JDaGlsZExpc3RzSW5DZWxsKGNlbGxLZXk6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IGNoaWxkTGlzdEtleXMgPSB0aGlzLl9jZWxsS2V5c1RvQ2hpbGRMaXN0S2V5cy5nZXQoY2VsbEtleSk7XG4gICAgaWYgKGNoaWxkTGlzdEtleXMpIHtcbiAgICAgIGZvciAobGV0IGNoaWxkS2V5IG9mIGNoaWxkTGlzdEtleXMpIHtcbiAgICAgICAgY29uc3QgY2hpbGRMaXN0ID0gdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5nZXQoY2hpbGRLZXkpO1xuICAgICAgICBjaGlsZExpc3QgJiZcbiAgICAgICAgICBjaGlsZExpc3QucmVmICYmXG4gICAgICAgICAgY2hpbGRMaXN0LnJlZi5tZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpOiB2b2lkIHtcbiAgICAvLyBUT0RPIChUMzU1NzQ1MzgpOiBmaW5kTm9kZUhhbmRsZSBzb21ldGltZXMgY3Jhc2hlcyB3aXRoIFwiVW5hYmxlIHRvIGZpbmRcbiAgICAvLyBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnRcIiBkdXJpbmcgc2Nyb2xsaW5nXG4gICAgdHJ5IHtcbiAgICAgIGlmICghdGhpcy5fc2Nyb2xsUmVmKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFdlIGFyZSBhc3N1bWluZyB0aGF0IGdldE91dGVybW9zdFBhcmVudExpc3RSZWYoKS5nZXRTY3JvbGxSZWYoKVxuICAgICAgLy8gaXMgYSBub24tbnVsbCByZWZlcmVuY2UgdG8gYSBTY3JvbGxWaWV3XG4gICAgICB0aGlzLl9zY3JvbGxSZWYubWVhc3VyZUxheW91dChcbiAgICAgICAgdGhpcy5jb250ZXh0LmdldE91dGVybW9zdFBhcmVudExpc3RSZWYoKS5nZXRTY3JvbGxSZWYoKSxcbiAgICAgICAgKHgsIHksIHdpZHRoLCBoZWlnaHQpID0+IHtcbiAgICAgICAgICB0aGlzLl9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0ID0gdGhpcy5fc2VsZWN0T2Zmc2V0KHt4LCB5fSk7XG4gICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKHtcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHNjcm9sbE1ldHJpY3MgPSB0aGlzLl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyhcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nZXRTY3JvbGxNZXRyaWNzKCksXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGNvbnN0IG1ldHJpY3NDaGFuZ2VkID1cbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCAhPT0gc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoIHx8XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldCAhPT0gc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG5cbiAgICAgICAgICBpZiAobWV0cmljc0NoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCA9IHNjcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0ID0gc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG5cbiAgICAgICAgICAgIC8vIElmIG1ldHJpY3Mgb2YgdGhlIHNjcm9sbFZpZXcgY2hhbmdlZCwgdGhlbiB3ZSB0cmlnZ2VyZWQgcmVtZWFzdXJlIGZvciBjaGlsZCBsaXN0XG4gICAgICAgICAgICAvLyB0byBlbnN1cmUgVmlydHVhbGl6ZWRMaXN0IGhhcyB0aGUgcmlnaHQgaW5mb3JtYXRpb24uXG4gICAgICAgICAgICB0aGlzLl9jZWxsS2V5c1RvQ2hpbGRMaXN0S2V5cy5mb3JFYWNoKGNoaWxkTGlzdEtleXMgPT4ge1xuICAgICAgICAgICAgICBpZiAoY2hpbGRMaXN0S2V5cykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGNoaWxkS2V5IG9mIGNoaWxkTGlzdEtleXMpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkTGlzdCA9IHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZ2V0KGNoaWxkS2V5KTtcbiAgICAgICAgICAgICAgICAgIGNoaWxkTGlzdCAmJlxuICAgICAgICAgICAgICAgICAgICBjaGlsZExpc3QucmVmICYmXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkTGlzdC5yZWYubWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnJvciA9PiB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgXCJWaXJ0dWFsaXplZExpc3Q6IEVuY291bnRlcmVkIGFuIGVycm9yIHdoaWxlIG1lYXN1cmluZyBhIGxpc3Qnc1wiICtcbiAgICAgICAgICAgICAgJyBvZmZzZXQgZnJvbSBpdHMgY29udGFpbmluZyBWaXJ0dWFsaXplZExpc3QuJyxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnbWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCB0aHJldyBhbiBlcnJvcicsXG4gICAgICAgIGVycm9yLnN0YWNrLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBfb25MYXlvdXQgPSAoZTogT2JqZWN0KSA9PiB7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICAvLyBOZWVkIHRvIGFkanVzdCBvdXIgc2Nyb2xsIG1ldHJpY3MgdG8gYmUgcmVsYXRpdmUgdG8gb3VyIGNvbnRhaW5pbmdcbiAgICAgIC8vIFZpcnR1YWxpemVkTGlzdCBiZWZvcmUgd2UgY2FuIG1ha2UgY2xhaW1zIGFib3V0IGxpc3QgaXRlbSB2aWV3YWJpbGl0eVxuICAgICAgdGhpcy5tZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChcbiAgICAgICAgZS5uYXRpdmVFdmVudC5sYXlvdXQsXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uTGF5b3V0ICYmIHRoaXMucHJvcHMub25MYXlvdXQoZSk7XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgdGhpcy5fbWF5YmVDYWxsT25FbmRSZWFjaGVkKCk7XG4gIH07XG5cbiAgX29uTGF5b3V0RW1wdHkgPSBlID0+IHtcbiAgICB0aGlzLnByb3BzLm9uTGF5b3V0ICYmIHRoaXMucHJvcHMub25MYXlvdXQoZSk7XG4gIH07XG5cbiAgX2dldEZvb3RlckNlbGxLZXkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0Q2VsbEtleSgpICsgJy1mb290ZXInO1xuICB9XG5cbiAgX29uTGF5b3V0Rm9vdGVyID0gZSA9PiB7XG4gICAgdGhpcy5fdHJpZ2dlclJlbWVhc3VyZUZvckNoaWxkTGlzdHNJbkNlbGwodGhpcy5fZ2V0Rm9vdGVyQ2VsbEtleSgpKTtcbiAgICB0aGlzLl9mb290ZXJMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5sYXlvdXQpO1xuICB9O1xuXG4gIF9vbkxheW91dEhlYWRlciA9IGUgPT4ge1xuICAgIHRoaXMuX2hlYWRlckxlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmxheW91dCk7XG4gIH07XG5cbiAgX3JlbmRlckRlYnVnT3ZlcmxheSgpIHtcbiAgICBjb25zdCBub3JtYWxpemUgPVxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoIC9cbiAgICAgICh0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggfHwgMSk7XG4gICAgY29uc3QgZnJhbWVzSW5MYXlvdXQgPSBbXTtcbiAgICBjb25zdCBpdGVtQ291bnQgPSB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBpdGVtQ291bnQ7IGlpKyspIHtcbiAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGlpKTtcbiAgICAgIC8qICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSAoPj0wLjY4LjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudFxuICAgICAgICogc3VwcHJlc3NlcyBhbiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuNjggd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlXG4gICAgICAgKiBlcnJvciBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgIGlmIChmcmFtZS5pbkxheW91dCkge1xuICAgICAgICBmcmFtZXNJbkxheW91dC5wdXNoKGZyYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgd2luZG93VG9wID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KHRoaXMuc3RhdGUuZmlyc3QpLm9mZnNldDtcbiAgICBjb25zdCBmcmFtZUxhc3QgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3godGhpcy5zdGF0ZS5sYXN0KTtcbiAgICBjb25zdCB3aW5kb3dMZW4gPSBmcmFtZUxhc3Qub2Zmc2V0ICsgZnJhbWVMYXN0Lmxlbmd0aCAtIHdpbmRvd1RvcDtcbiAgICBjb25zdCB2aXNUb3AgPSB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldDtcbiAgICBjb25zdCB2aXNMZW4gPSB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGg7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFZpZXcgc3R5bGU9e1tzdHlsZXMuZGVidWdPdmVybGF5QmFzZSwgc3R5bGVzLmRlYnVnT3ZlcmxheV19PlxuICAgICAgICB7ZnJhbWVzSW5MYXlvdXQubWFwKChmLCBpaSkgPT4gKFxuICAgICAgICAgIDxWaWV3XG4gICAgICAgICAgICBrZXk9eydmJyArIGlpfVxuICAgICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUJhc2UsXG4gICAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlGcmFtZSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRvcDogZi5vZmZzZXQgKiBub3JtYWxpemUsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBmLmxlbmd0aCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF19XG4gICAgICAgICAgLz5cbiAgICAgICAgKSl9XG4gICAgICAgIDxWaWV3XG4gICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLFxuICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUZyYW1lTGFzdCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdG9wOiB3aW5kb3dUb3AgKiBub3JtYWxpemUsXG4gICAgICAgICAgICAgIGhlaWdodDogd2luZG93TGVuICogbm9ybWFsaXplLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdfVxuICAgICAgICAvPlxuICAgICAgICA8Vmlld1xuICAgICAgICAgIHN0eWxlPXtbXG4gICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5QmFzZSxcbiAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlGcmFtZVZpcyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdG9wOiB2aXNUb3AgKiBub3JtYWxpemUsXG4gICAgICAgICAgICAgIGhlaWdodDogdmlzTGVuICogbm9ybWFsaXplLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdfVxuICAgICAgICAvPlxuICAgICAgPC9WaWV3PlxuICAgICk7XG4gIH1cblxuICBfc2VsZWN0TGVuZ3RoKFxuICAgIG1ldHJpY3M6ICRSZWFkT25seTx7XG4gICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICAgIHdpZHRoOiBudW1iZXIsXG4gICAgICAuLi5cbiAgICB9PixcbiAgKTogbnVtYmVyIHtcbiAgICByZXR1cm4gIWhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKVxuICAgICAgPyBtZXRyaWNzLmhlaWdodFxuICAgICAgOiBtZXRyaWNzLndpZHRoO1xuICB9XG5cbiAgX3NlbGVjdE9mZnNldChcbiAgICBtZXRyaWNzOiAkUmVhZE9ubHk8e1xuICAgICAgeDogbnVtYmVyLFxuICAgICAgeTogbnVtYmVyLFxuICAgICAgLi4uXG4gICAgfT4sXG4gICk6IG51bWJlciB7XG4gICAgcmV0dXJuICFob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbCkgPyBtZXRyaWNzLnkgOiBtZXRyaWNzLng7XG4gIH1cblxuICBfbWF5YmVDYWxsT25FbmRSZWFjaGVkKCkge1xuICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtQ291bnQsIG9uRW5kUmVhY2hlZCwgb25FbmRSZWFjaGVkVGhyZXNob2xkfSA9XG4gICAgICB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHtjb250ZW50TGVuZ3RoLCB2aXNpYmxlTGVuZ3RoLCBvZmZzZXR9ID0gdGhpcy5fc2Nyb2xsTWV0cmljcztcbiAgICBjb25zdCBkaXN0YW5jZUZyb21FbmQgPSBjb250ZW50TGVuZ3RoIC0gdmlzaWJsZUxlbmd0aCAtIG9mZnNldDtcbiAgICBjb25zdCB0aHJlc2hvbGQgPVxuICAgICAgb25FbmRSZWFjaGVkVGhyZXNob2xkICE9IG51bGwgPyBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoIDogMjtcbiAgICBpZiAoXG4gICAgICBvbkVuZFJlYWNoZWQgJiZcbiAgICAgIHRoaXMuc3RhdGUubGFzdCA9PT0gZ2V0SXRlbUNvdW50KGRhdGEpIC0gMSAmJlxuICAgICAgZGlzdGFuY2VGcm9tRW5kIDwgdGhyZXNob2xkICYmXG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggIT09IHRoaXMuX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoXG4gICAgKSB7XG4gICAgICAvLyBPbmx5IGNhbGwgb25FbmRSZWFjaGVkIG9uY2UgZm9yIGEgZ2l2ZW4gY29udGVudCBsZW5ndGhcbiAgICAgIHRoaXMuX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoID0gdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoO1xuICAgICAgb25FbmRSZWFjaGVkKHtkaXN0YW5jZUZyb21FbmR9KTtcbiAgICB9IGVsc2UgaWYgKGRpc3RhbmNlRnJvbUVuZCA+IHRocmVzaG9sZCkge1xuICAgICAgLy8gSWYgdGhlIHVzZXIgc2Nyb2xscyBhd2F5IGZyb20gdGhlIGVuZCBhbmQgYmFjayBhZ2FpbiBjYXVzZVxuICAgICAgLy8gYW4gb25FbmRSZWFjaGVkIHRvIGJlIHRyaWdnZXJlZCBhZ2FpblxuICAgICAgdGhpcy5fc2VudEVuZEZvckNvbnRlbnRMZW5ndGggPSAwO1xuICAgIH1cbiAgfVxuXG4gIF9vbkNvbnRlbnRTaXplQ2hhbmdlID0gKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKFxuICAgICAgd2lkdGggPiAwICYmXG4gICAgICBoZWlnaHQgPiAwICYmXG4gICAgICB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCAhPSBudWxsICYmXG4gICAgICB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCA+IDAgJiZcbiAgICAgICF0aGlzLl9oYXNEb25lSW5pdGlhbFNjcm9sbFxuICAgICkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuY29udGVudE9mZnNldCA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsVG9JbmRleCh7XG4gICAgICAgICAgYW5pbWF0ZWQ6IGZhbHNlLFxuICAgICAgICAgIGluZGV4OiB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9oYXNEb25lSW5pdGlhbFNjcm9sbCA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKHtoZWlnaHQsIHdpZHRofSk7XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgdGhpcy5fbWF5YmVDYWxsT25FbmRSZWFjaGVkKCk7XG4gIH07XG5cbiAgLyogVHJhbnNsYXRlcyBtZXRyaWNzIGZyb20gYSBzY3JvbGwgZXZlbnQgaW4gYSBwYXJlbnQgVmlydHVhbGl6ZWRMaXN0IGludG9cbiAgICogY29vcmRpbmF0ZXMgcmVsYXRpdmUgdG8gdGhlIGNoaWxkIGxpc3QuXG4gICAqL1xuICBfY29udmVydFBhcmVudFNjcm9sbE1ldHJpY3MgPSAobWV0cmljczoge1xuICAgIHZpc2libGVMZW5ndGg6IG51bWJlcixcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICAuLi5cbiAgfSkgPT4ge1xuICAgIC8vIE9mZnNldCBvZiB0aGUgdG9wIG9mIHRoZSBuZXN0ZWQgbGlzdCByZWxhdGl2ZSB0byB0aGUgdG9wIG9mIGl0cyBwYXJlbnQncyB2aWV3cG9ydFxuICAgIGNvbnN0IG9mZnNldCA9IG1ldHJpY3Mub2Zmc2V0IC0gdGhpcy5fb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdDtcbiAgICAvLyBDaGlsZCdzIHZpc2libGUgbGVuZ3RoIGlzIHRoZSBzYW1lIGFzIGl0cyBwYXJlbnQnc1xuICAgIGNvbnN0IHZpc2libGVMZW5ndGggPSBtZXRyaWNzLnZpc2libGVMZW5ndGg7XG4gICAgY29uc3QgZE9mZnNldCA9IG9mZnNldCAtIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0O1xuICAgIGNvbnN0IGNvbnRlbnRMZW5ndGggPSB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGg7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICAgIGNvbnRlbnRMZW5ndGgsXG4gICAgICBvZmZzZXQsXG4gICAgICBkT2Zmc2V0LFxuICAgIH07XG4gIH07XG5cbiAgX29uU2Nyb2xsID0gKGU6IE9iamVjdCkgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLl9vblNjcm9sbChlKTtcbiAgICB9KTtcbiAgICBpZiAodGhpcy5wcm9wcy5vblNjcm9sbCkge1xuICAgICAgdGhpcy5wcm9wcy5vblNjcm9sbChlKTtcbiAgICB9XG4gICAgY29uc3QgdGltZXN0YW1wID0gZS50aW1lU3RhbXA7XG4gICAgbGV0IHZpc2libGVMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5sYXlvdXRNZWFzdXJlbWVudCk7XG4gICAgbGV0IGNvbnRlbnRMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5jb250ZW50U2l6ZSk7XG4gICAgbGV0IG9mZnNldCA9IHRoaXMuX3NlbGVjdE9mZnNldChlLm5hdGl2ZUV2ZW50LmNvbnRlbnRPZmZzZXQpO1xuICAgIGxldCBkT2Zmc2V0ID0gb2Zmc2V0IC0gdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG5cbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIGlmICh0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gSWdub3JlIHNjcm9sbCBldmVudHMgdW50aWwgb25MYXlvdXQgaGFzIGJlZW4gY2FsbGVkIGFuZCB3ZVxuICAgICAgICAvLyBrbm93IG91ciBvZmZzZXQgZnJvbSBvdXIgb2Zmc2V0IGZyb20gb3VyIHBhcmVudFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAoe3Zpc2libGVMZW5ndGgsIGNvbnRlbnRMZW5ndGgsIG9mZnNldCwgZE9mZnNldH0gPVxuICAgICAgICB0aGlzLl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyh7XG4gICAgICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICAgICAgICBvZmZzZXQsXG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBjb25zdCBkdCA9IHRoaXMuX3Njcm9sbE1ldHJpY3MudGltZXN0YW1wXG4gICAgICA/IE1hdGgubWF4KDEsIHRpbWVzdGFtcCAtIHRoaXMuX3Njcm9sbE1ldHJpY3MudGltZXN0YW1wKVxuICAgICAgOiAxO1xuICAgIGNvbnN0IHZlbG9jaXR5ID0gZE9mZnNldCAvIGR0O1xuXG4gICAgaWYgKFxuICAgICAgZHQgPiA1MDAgJiZcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MuZHQgPiA1MDAgJiZcbiAgICAgIGNvbnRlbnRMZW5ndGggPiA1ICogdmlzaWJsZUxlbmd0aCAmJlxuICAgICAgIXRoaXMuX2hhc1dhcm5lZC5wZXJmXG4gICAgKSB7XG4gICAgICBpbmZvTG9nKFxuICAgICAgICAnVmlydHVhbGl6ZWRMaXN0OiBZb3UgaGF2ZSBhIGxhcmdlIGxpc3QgdGhhdCBpcyBzbG93IHRvIHVwZGF0ZSAtIG1ha2Ugc3VyZSB5b3VyICcgK1xuICAgICAgICAgICdyZW5kZXJJdGVtIGZ1bmN0aW9uIHJlbmRlcnMgY29tcG9uZW50cyB0aGF0IGZvbGxvdyBSZWFjdCBwZXJmb3JtYW5jZSBiZXN0IHByYWN0aWNlcyAnICtcbiAgICAgICAgICAnbGlrZSBQdXJlQ29tcG9uZW50LCBzaG91bGRDb21wb25lbnRVcGRhdGUsIGV0Yy4nLFxuICAgICAgICB7ZHQsIHByZXZEdDogdGhpcy5fc2Nyb2xsTWV0cmljcy5kdCwgY29udGVudExlbmd0aH0sXG4gICAgICApO1xuICAgICAgdGhpcy5faGFzV2FybmVkLnBlcmYgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLl9zY3JvbGxNZXRyaWNzID0ge1xuICAgICAgY29udGVudExlbmd0aCxcbiAgICAgIGR0LFxuICAgICAgZE9mZnNldCxcbiAgICAgIG9mZnNldCxcbiAgICAgIHRpbWVzdGFtcCxcbiAgICAgIHZlbG9jaXR5LFxuICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICB9O1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXModGhpcy5wcm9wcy5kYXRhKTtcbiAgICBpZiAoIXRoaXMucHJvcHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fbWF5YmVDYWxsT25FbmRSZWFjaGVkKCk7XG4gICAgaWYgKHZlbG9jaXR5ICE9PSAwKSB7XG4gICAgICB0aGlzLl9maWxsUmF0ZUhlbHBlci5hY3RpdmF0ZSgpO1xuICAgIH1cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gIH07XG5cbiAgX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpIHtcbiAgICBjb25zdCB7Zmlyc3QsIGxhc3R9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCB7b2Zmc2V0LCB2aXNpYmxlTGVuZ3RoLCB2ZWxvY2l0eX0gPSB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSk7XG4gICAgbGV0IGhpUHJpID0gZmFsc2U7XG4gICAgY29uc3Qgb25FbmRSZWFjaGVkVGhyZXNob2xkID0gb25FbmRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0KFxuICAgICAgdGhpcy5wcm9wcy5vbkVuZFJlYWNoZWRUaHJlc2hvbGQsXG4gICAgKTtcbiAgICBjb25zdCBzY3JvbGxpbmdUaHJlc2hvbGQgPSAob25FbmRSZWFjaGVkVGhyZXNob2xkICogdmlzaWJsZUxlbmd0aCkgLyAyO1xuICAgIC8vIE1hcmsgYXMgaGlnaCBwcmlvcml0eSBpZiB3ZSdyZSBjbG9zZSB0byB0aGUgc3RhcnQgb2YgdGhlIGZpcnN0IGl0ZW1cbiAgICAvLyBCdXQgb25seSBpZiB0aGVyZSBhcmUgaXRlbXMgYmVmb3JlIHRoZSBmaXJzdCByZW5kZXJlZCBpdGVtXG4gICAgaWYgKGZpcnN0ID4gMCkge1xuICAgICAgY29uc3QgZGlzdFRvcCA9IG9mZnNldCAtIHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChmaXJzdCkub2Zmc2V0O1xuICAgICAgaGlQcmkgPVxuICAgICAgICBoaVByaSB8fCBkaXN0VG9wIDwgMCB8fCAodmVsb2NpdHkgPCAtMiAmJiBkaXN0VG9wIDwgc2Nyb2xsaW5nVGhyZXNob2xkKTtcbiAgICB9XG4gICAgLy8gTWFyayBhcyBoaWdoIHByaW9yaXR5IGlmIHdlJ3JlIGNsb3NlIHRvIHRoZSBlbmQgb2YgdGhlIGxhc3QgaXRlbVxuICAgIC8vIEJ1dCBvbmx5IGlmIHRoZXJlIGFyZSBpdGVtcyBhZnRlciB0aGUgbGFzdCByZW5kZXJlZCBpdGVtXG4gICAgaWYgKGxhc3QgPCBpdGVtQ291bnQgLSAxKSB7XG4gICAgICBjb25zdCBkaXN0Qm90dG9tID1cbiAgICAgICAgdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGxhc3QpLm9mZnNldCAtIChvZmZzZXQgKyB2aXNpYmxlTGVuZ3RoKTtcbiAgICAgIGhpUHJpID1cbiAgICAgICAgaGlQcmkgfHxcbiAgICAgICAgZGlzdEJvdHRvbSA8IDAgfHxcbiAgICAgICAgKHZlbG9jaXR5ID4gMiAmJiBkaXN0Qm90dG9tIDwgc2Nyb2xsaW5nVGhyZXNob2xkKTtcbiAgICB9XG4gICAgLy8gT25seSB0cmlnZ2VyIGhpZ2gtcHJpb3JpdHkgdXBkYXRlcyBpZiB3ZSd2ZSBhY3R1YWxseSByZW5kZXJlZCBjZWxscyxcbiAgICAvLyBhbmQgd2l0aCB0aGF0IHNpemUgZXN0aW1hdGUsIGFjY3VyYXRlbHkgY29tcHV0ZSBob3cgbWFueSBjZWxscyB3ZSBzaG91bGQgcmVuZGVyLlxuICAgIC8vIE90aGVyd2lzZSwgaXQgd291bGQganVzdCByZW5kZXIgYXMgbWFueSBjZWxscyBhcyBpdCBjYW4gKG9mIHplcm8gZGltZW5zaW9uKSxcbiAgICAvLyBlYWNoIHRpbWUgdGhyb3VnaCBhdHRlbXB0aW5nIHRvIHJlbmRlciBtb3JlIChsaW1pdGVkIGJ5IG1heFRvUmVuZGVyUGVyQmF0Y2gpLFxuICAgIC8vIHN0YXJ2aW5nIHRoZSByZW5kZXJlciBmcm9tIGFjdHVhbGx5IGxheWluZyBvdXQgdGhlIG9iamVjdHMgYW5kIGNvbXB1dGluZyBfYXZlcmFnZUNlbGxMZW5ndGguXG4gICAgLy8gSWYgdGhpcyBpcyB0cmlnZ2VyZWQgaW4gYW4gYGNvbXBvbmVudERpZFVwZGF0ZWAgZm9sbG93ZWQgYnkgYSBoaVByaSBjZWxsVG9SZW5kZXJVcGRhdGVcbiAgICAvLyBXZSBzaG91bGRuJ3QgZG8gYW5vdGhlciBoaXByaSBjZWxsVG9SZW5kZXJVcGRhdGVcbiAgICBpZiAoXG4gICAgICBoaVByaSAmJlxuICAgICAgKHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoIHx8IHRoaXMucHJvcHMuZ2V0SXRlbUxheW91dCkgJiZcbiAgICAgICF0aGlzLl9oaVByaUluUHJvZ3Jlc3NcbiAgICApIHtcbiAgICAgIHRoaXMuX2hpUHJpSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAvLyBEb24ndCB3b3JyeSBhYm91dCBpbnRlcmFjdGlvbnMgd2hlbiBzY3JvbGxpbmcgcXVpY2tseTsgZm9jdXMgb24gZmlsbGluZyBjb250ZW50IGFzIGZhc3RcbiAgICAgIC8vIGFzIHBvc3NpYmxlLlxuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIuZGlzcG9zZSh7YWJvcnQ6IHRydWV9KTtcbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIuc2NoZWR1bGUoKTtcbiAgICB9XG4gIH1cblxuICBfb25TY3JvbGxCZWdpbkRyYWcgPSAoZSk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLl9vblNjcm9sbEJlZ2luRHJhZyhlKTtcbiAgICB9KTtcbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgIHR1cGxlLnZpZXdhYmlsaXR5SGVscGVyLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5faGFzSW50ZXJhY3RlZCA9IHRydWU7XG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbEJlZ2luRHJhZyAmJiB0aGlzLnByb3BzLm9uU2Nyb2xsQmVnaW5EcmFnKGUpO1xuICB9O1xuXG4gIF9vblNjcm9sbEVuZERyYWcgPSAoZSk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLl9vblNjcm9sbEVuZERyYWcoZSk7XG4gICAgfSk7XG4gICAgY29uc3Qge3ZlbG9jaXR5fSA9IGUubmF0aXZlRXZlbnQ7XG4gICAgaWYgKHZlbG9jaXR5KSB7XG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZlbG9jaXR5ID0gdGhpcy5fc2VsZWN0T2Zmc2V0KHZlbG9jaXR5KTtcbiAgICB9XG4gICAgdGhpcy5fY29tcHV0ZUJsYW5rbmVzcygpO1xuICAgIHRoaXMucHJvcHMub25TY3JvbGxFbmREcmFnICYmIHRoaXMucHJvcHMub25TY3JvbGxFbmREcmFnKGUpO1xuICB9O1xuXG4gIF9vbk1vbWVudHVtU2Nyb2xsQmVnaW4gPSAoZSk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLl9vbk1vbWVudHVtU2Nyb2xsQmVnaW4oZSk7XG4gICAgfSk7XG4gICAgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4gJiYgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4oZSk7XG4gIH07XG5cbiAgX29uTW9tZW50dW1TY3JvbGxFbmQgPSAoZSk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLl9vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICAgIH0pO1xuICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmVsb2NpdHkgPSAwO1xuICAgIHRoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcbiAgICB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmQgJiYgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICB9O1xuXG4gIF91cGRhdGVDZWxsc1RvUmVuZGVyID0gKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGEsXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQ6IF9vbkVuZFJlYWNoZWRUaHJlc2hvbGQsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qgb25FbmRSZWFjaGVkVGhyZXNob2xkID0gb25FbmRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0KFxuICAgICAgX29uRW5kUmVhY2hlZFRocmVzaG9sZCxcbiAgICApO1xuICAgIGNvbnN0IGlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCA9IHRoaXMuX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCgpO1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXMoZGF0YSk7XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUgPT4ge1xuICAgICAgbGV0IG5ld1N0YXRlO1xuICAgICAgY29uc3Qge2NvbnRlbnRMZW5ndGgsIG9mZnNldCwgdmlzaWJsZUxlbmd0aH0gPSB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICAgICAgaWYgKCFpc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQpIHtcbiAgICAgICAgLy8gSWYgd2UgcnVuIHRoaXMgd2l0aCBib2d1cyBkYXRhLCB3ZSdsbCBmb3JjZS1yZW5kZXIgd2luZG93IHtmaXJzdDogMCwgbGFzdDogMH0sXG4gICAgICAgIC8vIGFuZCB3aXBlIG91dCB0aGUgaW5pdGlhbE51bVRvUmVuZGVyIHJlbmRlcmVkIGVsZW1lbnRzLlxuICAgICAgICAvLyBTbyBsZXQncyB3YWl0IHVudGlsIHRoZSBzY3JvbGwgdmlldyBtZXRyaWNzIGhhdmUgYmVlbiBzZXQgdXAuIEFuZCB1bnRpbCB0aGVuLFxuICAgICAgICAvLyB3ZSB3aWxsIHRydXN0IHRoZSBpbml0aWFsTnVtVG9SZW5kZXIgc3VnZ2VzdGlvblxuICAgICAgICBpZiAodmlzaWJsZUxlbmd0aCA+IDAgJiYgY29udGVudExlbmd0aCA+IDApIHtcbiAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgbm9uLXplcm8gaW5pdGlhbFNjcm9sbEluZGV4IGFuZCBydW4gdGhpcyBiZWZvcmUgd2UndmUgc2Nyb2xsZWQsXG4gICAgICAgICAgLy8gd2UnbGwgd2lwZSBvdXQgdGhlIGluaXRpYWxOdW1Ub1JlbmRlciByZW5kZXJlZCBlbGVtZW50cyBzdGFydGluZyBhdCBpbml0aWFsU2Nyb2xsSW5kZXguXG4gICAgICAgICAgLy8gU28gbGV0J3Mgd2FpdCB1bnRpbCB3ZSd2ZSBzY3JvbGxlZCB0aGUgdmlldyB0byB0aGUgcmlnaHQgcGxhY2UuIEFuZCB1bnRpbCB0aGVuLFxuICAgICAgICAgIC8vIHdlIHdpbGwgdHJ1c3QgdGhlIGluaXRpYWxTY3JvbGxJbmRleCBzdWdnZXN0aW9uLlxuICAgICAgICAgIGlmICghdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggfHwgdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQpIHtcbiAgICAgICAgICAgIG5ld1N0YXRlID0gY29tcHV0ZVdpbmRvd2VkUmVuZGVyTGltaXRzKFxuICAgICAgICAgICAgICB0aGlzLnByb3BzLmRhdGEsXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50LFxuICAgICAgICAgICAgICBtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0KHRoaXMucHJvcHMubWF4VG9SZW5kZXJQZXJCYXRjaCksXG4gICAgICAgICAgICAgIHdpbmRvd1NpemVPckRlZmF1bHQodGhpcy5wcm9wcy53aW5kb3dTaXplKSxcbiAgICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICAgIHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveCxcbiAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBkaXN0YW5jZUZyb21FbmQgPSBjb250ZW50TGVuZ3RoIC0gdmlzaWJsZUxlbmd0aCAtIG9mZnNldDtcbiAgICAgICAgY29uc3QgcmVuZGVyQWhlYWQgPVxuICAgICAgICAgIGRpc3RhbmNlRnJvbUVuZCA8IG9uRW5kUmVhY2hlZFRocmVzaG9sZCAqIHZpc2libGVMZW5ndGhcbiAgICAgICAgICAgID8gbWF4VG9SZW5kZXJQZXJCYXRjaE9yRGVmYXVsdCh0aGlzLnByb3BzLm1heFRvUmVuZGVyUGVyQmF0Y2gpXG4gICAgICAgICAgICA6IDA7XG4gICAgICAgIG5ld1N0YXRlID0ge1xuICAgICAgICAgIGZpcnN0OiAwLFxuICAgICAgICAgIGxhc3Q6IE1hdGgubWluKHN0YXRlLmxhc3QgKyByZW5kZXJBaGVhZCwgZ2V0SXRlbUNvdW50KGRhdGEpIC0gMSksXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAobmV3U3RhdGUgJiYgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5zaXplID4gMCkge1xuICAgICAgICBjb25zdCBuZXdGaXJzdCA9IG5ld1N0YXRlLmZpcnN0O1xuICAgICAgICBjb25zdCBuZXdMYXN0ID0gbmV3U3RhdGUubGFzdDtcbiAgICAgICAgLy8gSWYgc29tZSBjZWxsIGluIHRoZSBuZXcgc3RhdGUgaGFzIGEgY2hpbGQgbGlzdCBpbiBpdCwgd2Ugc2hvdWxkIG9ubHkgcmVuZGVyXG4gICAgICAgIC8vIHVwIHRocm91Z2ggdGhhdCBpdGVtLCBzbyB0aGF0IHdlIGdpdmUgdGhhdCBsaXN0IGEgY2hhbmNlIHRvIHJlbmRlci5cbiAgICAgICAgLy8gT3RoZXJ3aXNlIHRoZXJlJ3MgY2h1cm4gZnJvbSBtdWx0aXBsZSBjaGlsZCBsaXN0cyBtb3VudGluZyBhbmQgdW4tbW91bnRpbmdcbiAgICAgICAgLy8gdGhlaXIgaXRlbXMuXG4gICAgICAgIGZvciAobGV0IGlpID0gbmV3Rmlyc3Q7IGlpIDw9IG5ld0xhc3Q7IGlpKyspIHtcbiAgICAgICAgICBjb25zdCBjZWxsS2V5Rm9ySW5kZXggPSB0aGlzLl9pbmRpY2VzVG9LZXlzLmdldChpaSk7XG4gICAgICAgICAgY29uc3QgY2hpbGRMaXN0S2V5cyA9XG4gICAgICAgICAgICBjZWxsS2V5Rm9ySW5kZXggJiZcbiAgICAgICAgICAgIHRoaXMuX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzLmdldChjZWxsS2V5Rm9ySW5kZXgpO1xuICAgICAgICAgIGlmICghY2hpbGRMaXN0S2V5cykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBzb21lQ2hpbGRIYXNNb3JlID0gZmFsc2U7XG4gICAgICAgICAgLy8gRm9yIGVhY2ggY2VsbCwgbmVlZCB0byBjaGVjayB3aGV0aGVyIGFueSBjaGlsZCBsaXN0IGluIGl0IGhhcyBtb3JlIGVsZW1lbnRzIHRvIHJlbmRlclxuICAgICAgICAgIGZvciAobGV0IGNoaWxkS2V5IG9mIGNoaWxkTGlzdEtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkTGlzdCA9IHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZ2V0KGNoaWxkS2V5KTtcbiAgICAgICAgICAgIGlmIChjaGlsZExpc3QgJiYgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLmhhc01vcmUoKSkge1xuICAgICAgICAgICAgICBzb21lQ2hpbGRIYXNNb3JlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzb21lQ2hpbGRIYXNNb3JlKSB7XG4gICAgICAgICAgICBuZXdTdGF0ZS5sYXN0ID0gaWk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgbmV3U3RhdGUgIT0gbnVsbCAmJlxuICAgICAgICBuZXdTdGF0ZS5maXJzdCA9PT0gc3RhdGUuZmlyc3QgJiZcbiAgICAgICAgbmV3U3RhdGUubGFzdCA9PT0gc3RhdGUubGFzdFxuICAgICAgKSB7XG4gICAgICAgIG5ld1N0YXRlID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICB9KTtcbiAgfTtcblxuICBfY3JlYXRlVmlld1Rva2VuID0gKGluZGV4OiBudW1iZXIsIGlzVmlld2FibGU6IGJvb2xlYW4pID0+IHtcbiAgICBjb25zdCB7ZGF0YSwgZ2V0SXRlbX0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGl0ZW0gPSBnZXRJdGVtKGRhdGEsIGluZGV4KTtcbiAgICByZXR1cm4ge2luZGV4LCBpdGVtLCBrZXk6IHRoaXMuX2tleUV4dHJhY3RvcihpdGVtLCBpbmRleCksIGlzVmlld2FibGV9O1xuICB9O1xuXG4gIF9nZXRGcmFtZU1ldHJpY3NBcHByb3ggPSAoXG4gICAgaW5kZXg6IG51bWJlcixcbiAgKToge1xuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9mZnNldDogbnVtYmVyLFxuICAgIC4uLlxuICB9ID0+IHtcbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuX2dldEZyYW1lTWV0cmljcyhpbmRleCk7XG4gICAgaWYgKGZyYW1lICYmIGZyYW1lLmluZGV4ID09PSBpbmRleCkge1xuICAgICAgLy8gY2hlY2sgZm9yIGludmFsaWQgZnJhbWVzIGR1ZSB0byByb3cgcmUtb3JkZXJpbmdcbiAgICAgIHJldHVybiBmcmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qge2dldEl0ZW1MYXlvdXR9ID0gdGhpcy5wcm9wcztcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgIWdldEl0ZW1MYXlvdXQsXG4gICAgICAgICdTaG91bGQgbm90IGhhdmUgdG8gZXN0aW1hdGUgZnJhbWVzIHdoZW4gYSBtZWFzdXJlbWVudCBtZXRyaWNzIGZ1bmN0aW9uIGlzIHByb3ZpZGVkJyxcbiAgICAgICk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZW5ndGg6IHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoLFxuICAgICAgICBvZmZzZXQ6IHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoICogaW5kZXgsXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICBfZ2V0RnJhbWVNZXRyaWNzID0gKFxuICAgIGluZGV4OiBudW1iZXIsXG4gICk6ID97XG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBpbkxheW91dD86IGJvb2xlYW4sXG4gICAgLi4uXG4gIH0gPT4ge1xuICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtLCBnZXRJdGVtQ291bnQsIGdldEl0ZW1MYXlvdXR9ID0gdGhpcy5wcm9wcztcbiAgICBpbnZhcmlhbnQoXG4gICAgICBnZXRJdGVtQ291bnQoZGF0YSkgPiBpbmRleCxcbiAgICAgICdUcmllZCB0byBnZXQgZnJhbWUgZm9yIG91dCBvZiByYW5nZSBpbmRleCAnICsgaW5kZXgsXG4gICAgKTtcbiAgICBjb25zdCBpdGVtID0gZ2V0SXRlbShkYXRhLCBpbmRleCk7XG4gICAgbGV0IGZyYW1lID0gaXRlbSAmJiB0aGlzLl9mcmFtZXNbdGhpcy5fa2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4KV07XG4gICAgaWYgKCFmcmFtZSB8fCBmcmFtZS5pbmRleCAhPT0gaW5kZXgpIHtcbiAgICAgIGlmIChnZXRJdGVtTGF5b3V0KSB7XG4gICAgICAgIGZyYW1lID0gZ2V0SXRlbUxheW91dChkYXRhLCBpbmRleCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSAoPj0wLjYzLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudFxuICAgICAqIHN1cHByZXNzZXMgYW4gZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjYzIHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvclxuICAgICAqIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgIHJldHVybiBmcmFtZTtcbiAgfTtcblxuICBfdXBkYXRlVmlld2FibGVJdGVtcyhkYXRhOiBhbnkpIHtcbiAgICBjb25zdCB7Z2V0SXRlbUNvdW50fSA9IHRoaXMucHJvcHM7XG5cbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgIHR1cGxlLnZpZXdhYmlsaXR5SGVscGVyLm9uVXBkYXRlKFxuICAgICAgICBnZXRJdGVtQ291bnQoZGF0YSksXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0LFxuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGgsXG4gICAgICAgIHRoaXMuX2dldEZyYW1lTWV0cmljcyxcbiAgICAgICAgdGhpcy5fY3JlYXRlVmlld1Rva2VuLFxuICAgICAgICB0dXBsZS5vblZpZXdhYmxlSXRlbXNDaGFuZ2VkLFxuICAgICAgICB0aGlzLnN0YXRlLFxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxufVxuXG50eXBlIENlbGxSZW5kZXJlclByb3BzID0ge1xuICBDZWxsUmVuZGVyZXJDb21wb25lbnQ/OiA/UmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+LFxuICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50OiA/UmVhY3QuQ29tcG9uZW50VHlwZTxcbiAgICBhbnkgfCB7aGlnaGxpZ2h0ZWQ6IGJvb2xlYW4sIGxlYWRpbmdJdGVtOiA/SXRlbX0sXG4gID4sXG4gIGNlbGxLZXk6IHN0cmluZyxcbiAgZmlsbFJhdGVIZWxwZXI6IEZpbGxSYXRlSGVscGVyLFxuICBob3Jpem9udGFsOiA/Ym9vbGVhbixcbiAgaW5kZXg6IG51bWJlcixcbiAgaW52ZXJzaW9uU3R5bGU6IFZpZXdTdHlsZVByb3AsXG4gIGl0ZW06IEl0ZW0sXG4gIC8vIFRoaXMgaXMgZXh0cmFjdGVkIGJ5IFNjcm9sbFZpZXdTdGlja3lIZWFkZXJcbiAgb25MYXlvdXQ6IChldmVudDogT2JqZWN0KSA9PiB2b2lkLFxuICBvblVubW91bnQ6IChjZWxsS2V5OiBzdHJpbmcpID0+IHZvaWQsXG4gIG9uVXBkYXRlU2VwYXJhdG9yczogKGNlbGxLZXlzOiBBcnJheTw/c3RyaW5nPiwgcHJvcHM6IE9iamVjdCkgPT4gdm9pZCxcbiAgcGFyZW50UHJvcHM6IHtcbiAgICAvLyBlLmcuIGhlaWdodCwgeSxcbiAgICBnZXRJdGVtTGF5b3V0PzogKFxuICAgICAgZGF0YTogYW55LFxuICAgICAgaW5kZXg6IG51bWJlcixcbiAgICApID0+IHtcbiAgICAgIGxlbmd0aDogbnVtYmVyLFxuICAgICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgICBpbmRleDogbnVtYmVyLFxuICAgICAgLi4uXG4gICAgfSxcbiAgICByZW5kZXJJdGVtPzogP1JlbmRlckl0ZW1UeXBlPEl0ZW0+LFxuICAgIExpc3RJdGVtQ29tcG9uZW50PzogPyhSZWFjdC5Db21wb25lbnRUeXBlPGFueT4gfCBSZWFjdC5FbGVtZW50PGFueT4pLFxuICAgIC4uLlxuICB9LFxuICBwcmV2Q2VsbEtleTogP3N0cmluZyxcbiAgLi4uXG59O1xuXG50eXBlIENlbGxSZW5kZXJlclN0YXRlID0ge1xuICBzZXBhcmF0b3JQcm9wczogJFJlYWRPbmx5PHt8XG4gICAgaGlnaGxpZ2h0ZWQ6IGJvb2xlYW4sXG4gICAgbGVhZGluZ0l0ZW06ID9JdGVtLFxuICB8fT4sXG4gIC4uLlxufTtcblxuY2xhc3MgQ2VsbFJlbmRlcmVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFxuICBDZWxsUmVuZGVyZXJQcm9wcyxcbiAgQ2VsbFJlbmRlcmVyU3RhdGUsXG4+IHtcbiAgc3RhdGUgPSB7XG4gICAgc2VwYXJhdG9yUHJvcHM6IHtcbiAgICAgIGhpZ2hsaWdodGVkOiBmYWxzZSxcbiAgICAgIGxlYWRpbmdJdGVtOiB0aGlzLnByb3BzLml0ZW0sXG4gICAgfSxcbiAgfTtcblxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKFxuICAgIHByb3BzOiBDZWxsUmVuZGVyZXJQcm9wcyxcbiAgICBwcmV2U3RhdGU6IENlbGxSZW5kZXJlclN0YXRlLFxuICApOiA/Q2VsbFJlbmRlcmVyU3RhdGUge1xuICAgIHJldHVybiB7XG4gICAgICBzZXBhcmF0b3JQcm9wczoge1xuICAgICAgICAuLi5wcmV2U3RhdGUuc2VwYXJhdG9yUHJvcHMsXG4gICAgICAgIGxlYWRpbmdJdGVtOiBwcm9wcy5pdGVtLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgLy8gVE9ETzogY29uc2lkZXIgZmFjdG9yaW5nIHNlcGFyYXRvciBzdHVmZiBvdXQgb2YgVmlydHVhbGl6ZWRMaXN0IGludG8gRmxhdExpc3Qgc2luY2UgaXQncyBub3RcbiAgLy8gcmV1c2VkIGJ5IFNlY3Rpb25MaXN0IGFuZCB3ZSBjYW4ga2VlcCBWaXJ0dWFsaXplZExpc3Qgc2ltcGxlci5cbiAgX3NlcGFyYXRvcnMgPSB7XG4gICAgaGlnaGxpZ2h0OiAoKSA9PiB7XG4gICAgICBjb25zdCB7Y2VsbEtleSwgcHJldkNlbGxLZXl9ID0gdGhpcy5wcm9wcztcbiAgICAgIHRoaXMucHJvcHMub25VcGRhdGVTZXBhcmF0b3JzKFtjZWxsS2V5LCBwcmV2Q2VsbEtleV0sIHtcbiAgICAgICAgaGlnaGxpZ2h0ZWQ6IHRydWUsXG4gICAgICB9KTtcbiAgICB9LFxuICAgIHVuaGlnaGxpZ2h0OiAoKSA9PiB7XG4gICAgICBjb25zdCB7Y2VsbEtleSwgcHJldkNlbGxLZXl9ID0gdGhpcy5wcm9wcztcbiAgICAgIHRoaXMucHJvcHMub25VcGRhdGVTZXBhcmF0b3JzKFtjZWxsS2V5LCBwcmV2Q2VsbEtleV0sIHtcbiAgICAgICAgaGlnaGxpZ2h0ZWQ6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfSxcbiAgICB1cGRhdGVQcm9wczogKHNlbGVjdDogJ2xlYWRpbmcnIHwgJ3RyYWlsaW5nJywgbmV3UHJvcHM6IE9iamVjdCkgPT4ge1xuICAgICAgY29uc3Qge2NlbGxLZXksIHByZXZDZWxsS2V5fSA9IHRoaXMucHJvcHM7XG4gICAgICB0aGlzLnByb3BzLm9uVXBkYXRlU2VwYXJhdG9ycyhcbiAgICAgICAgW3NlbGVjdCA9PT0gJ2xlYWRpbmcnID8gcHJldkNlbGxLZXkgOiBjZWxsS2V5XSxcbiAgICAgICAgbmV3UHJvcHMsXG4gICAgICApO1xuICAgIH0sXG4gIH07XG5cbiAgdXBkYXRlU2VwYXJhdG9yUHJvcHMobmV3UHJvcHM6IE9iamVjdCkge1xuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUgPT4gKHtcbiAgICAgIHNlcGFyYXRvclByb3BzOiB7Li4uc3RhdGUuc2VwYXJhdG9yUHJvcHMsIC4uLm5ld1Byb3BzfSxcbiAgICB9KSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnByb3BzLm9uVW5tb3VudCh0aGlzLnByb3BzLmNlbGxLZXkpO1xuICB9XG5cbiAgX3JlbmRlckVsZW1lbnQocmVuZGVySXRlbSwgTGlzdEl0ZW1Db21wb25lbnQsIGl0ZW0sIGluZGV4KSB7XG4gICAgaWYgKHJlbmRlckl0ZW0gJiYgTGlzdEl0ZW1Db21wb25lbnQpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdDogQm90aCBMaXN0SXRlbUNvbXBvbmVudCBhbmQgcmVuZGVySXRlbSBwcm9wcyBhcmUgcHJlc2VudC4gTGlzdEl0ZW1Db21wb25lbnQgd2lsbCB0YWtlJyArXG4gICAgICAgICAgJyBwcmVjZWRlbmNlIG92ZXIgcmVuZGVySXRlbS4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoTGlzdEl0ZW1Db21wb25lbnQpIHtcbiAgICAgIC8qICRGbG93Rml4TWVbbm90LWEtY29tcG9uZW50XSAoPj0wLjEwOC4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzXG4gICAgICAgKiBjb21tZW50IHN1cHByZXNzZXMgYW4gZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjEwOCB3YXMgZGVwbG95ZWQuIFRvXG4gICAgICAgKiBzZWUgdGhlIGVycm9yLCBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgIC8qICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGUtYXJnXSAoPj0wLjEwOC4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKVxuICAgICAgICogVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW4gZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjEwOCB3YXMgZGVwbG95ZWQuXG4gICAgICAgKiBUbyBzZWUgdGhlIGVycm9yLCBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RJdGVtQ29tcG9uZW50LCB7XG4gICAgICAgIGl0ZW0sXG4gICAgICAgIGluZGV4LFxuICAgICAgICBzZXBhcmF0b3JzOiB0aGlzLl9zZXBhcmF0b3JzLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHJlbmRlckl0ZW0pIHtcbiAgICAgIHJldHVybiByZW5kZXJJdGVtKHtcbiAgICAgICAgaXRlbSxcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIHNlcGFyYXRvcnM6IHRoaXMuX3NlcGFyYXRvcnMsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICBmYWxzZSxcbiAgICAgICdWaXJ0dWFsaXplZExpc3Q6IEVpdGhlciBMaXN0SXRlbUNvbXBvbmVudCBvciByZW5kZXJJdGVtIHByb3BzIGFyZSByZXF1aXJlZCBidXQgbm9uZSB3ZXJlIGZvdW5kLicsXG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBDZWxsUmVuZGVyZXJDb21wb25lbnQsXG4gICAgICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50LFxuICAgICAgZmlsbFJhdGVIZWxwZXIsXG4gICAgICBob3Jpem9udGFsLFxuICAgICAgaXRlbSxcbiAgICAgIGluZGV4LFxuICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICBwYXJlbnRQcm9wcyxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7cmVuZGVySXRlbSwgZ2V0SXRlbUxheW91dCwgTGlzdEl0ZW1Db21wb25lbnR9ID0gcGFyZW50UHJvcHM7XG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX3JlbmRlckVsZW1lbnQoXG4gICAgICByZW5kZXJJdGVtLFxuICAgICAgTGlzdEl0ZW1Db21wb25lbnQsXG4gICAgICBpdGVtLFxuICAgICAgaW5kZXgsXG4gICAgKTtcblxuICAgIGNvbnN0IG9uTGF5b3V0ID1cbiAgICAgIC8qICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSAoPj0wLjY4LjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudFxuICAgICAgICogc3VwcHJlc3NlcyBhbiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuNjggd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlXG4gICAgICAgKiBlcnJvciBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgIGdldEl0ZW1MYXlvdXQgJiYgIXBhcmVudFByb3BzLmRlYnVnICYmICFmaWxsUmF0ZUhlbHBlci5lbmFibGVkKClcbiAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgOiB0aGlzLnByb3BzLm9uTGF5b3V0O1xuICAgIC8vIE5PVEU6IHRoYXQgd2hlbiB0aGlzIGlzIGEgc3RpY2t5IGhlYWRlciwgYG9uTGF5b3V0YCB3aWxsIGdldCBhdXRvbWF0aWNhbGx5IGV4dHJhY3RlZCBhbmRcbiAgICAvLyBjYWxsZWQgZXhwbGljaXRseSBieSBgU2Nyb2xsVmlld1N0aWNreUhlYWRlcmAuXG4gICAgY29uc3QgaXRlbVNlcGFyYXRvciA9IEl0ZW1TZXBhcmF0b3JDb21wb25lbnQgJiYgKFxuICAgICAgPEl0ZW1TZXBhcmF0b3JDb21wb25lbnQgey4uLnRoaXMuc3RhdGUuc2VwYXJhdG9yUHJvcHN9IC8+XG4gICAgKTtcbiAgICBjb25zdCBjZWxsU3R5bGUgPSBpbnZlcnNpb25TdHlsZVxuICAgICAgPyBob3Jpem9udGFsXG4gICAgICAgID8gW3N0eWxlcy5yb3dSZXZlcnNlLCBpbnZlcnNpb25TdHlsZV1cbiAgICAgICAgOiBbc3R5bGVzLmNvbHVtblJldmVyc2UsIGludmVyc2lvblN0eWxlXVxuICAgICAgOiBob3Jpem9udGFsXG4gICAgICA/IFtzdHlsZXMucm93LCBpbnZlcnNpb25TdHlsZV1cbiAgICAgIDogaW52ZXJzaW9uU3R5bGU7XG4gICAgY29uc3QgcmVzdWx0ID0gIUNlbGxSZW5kZXJlckNvbXBvbmVudCA/IChcbiAgICAgIC8qICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGUtYXJnXSAoPj0wLjg5LjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpICpcbiAgICAgICAgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW4gZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjg5IHdhcyBkZXBsb3llZC4gKlxuICAgICAgICBUbyBzZWUgdGhlIGVycm9yLCBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgIDxWaWV3IHN0eWxlPXtjZWxsU3R5bGV9IG9uTGF5b3V0PXtvbkxheW91dH0+XG4gICAgICAgIHtlbGVtZW50fVxuICAgICAgICB7aXRlbVNlcGFyYXRvcn1cbiAgICAgIDwvVmlldz5cbiAgICApIDogKFxuICAgICAgPENlbGxSZW5kZXJlckNvbXBvbmVudFxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgc3R5bGU9e2NlbGxTdHlsZX1cbiAgICAgICAgb25MYXlvdXQ9e29uTGF5b3V0fT5cbiAgICAgICAge2VsZW1lbnR9XG4gICAgICAgIHtpdGVtU2VwYXJhdG9yfVxuICAgICAgPC9DZWxsUmVuZGVyZXJDb21wb25lbnQ+XG4gICAgKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8VmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlciBjZWxsS2V5PXt0aGlzLnByb3BzLmNlbGxLZXl9PlxuICAgICAgICB7cmVzdWx0fVxuICAgICAgPC9WaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyPlxuICAgICk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVOZXN0ZWRMaXN0cyhjaGlsZExpc3Q6IHtcbiAgK2NlbGxLZXk6IHN0cmluZyxcbiAgK2tleTogc3RyaW5nLFxuICArcmVmOiBWaXJ0dWFsaXplZExpc3QsXG4gICtwYXJlbnREZWJ1Z0luZm86IExpc3REZWJ1Z0luZm8sXG4gICtob3Jpem9udGFsOiBib29sZWFuLFxuICAuLi5cbn0pIHtcbiAgbGV0IHRyYWNlID1cbiAgICAnVmlydHVhbGl6ZWRMaXN0IHRyYWNlOlxcbicgK1xuICAgIGAgIENoaWxkICgke2NoaWxkTGlzdC5ob3Jpem9udGFsID8gJ2hvcml6b250YWwnIDogJ3ZlcnRpY2FsJ30pOlxcbmAgK1xuICAgIGAgICAgbGlzdEtleTogJHtjaGlsZExpc3Qua2V5fVxcbmAgK1xuICAgIGAgICAgY2VsbEtleTogJHtjaGlsZExpc3QuY2VsbEtleX1gO1xuXG4gIGxldCBkZWJ1Z0luZm8gPSBjaGlsZExpc3QucGFyZW50RGVidWdJbmZvO1xuICB3aGlsZSAoZGVidWdJbmZvKSB7XG4gICAgdHJhY2UgKz1cbiAgICAgIGBcXG4gIFBhcmVudCAoJHtkZWJ1Z0luZm8uaG9yaXpvbnRhbCA/ICdob3Jpem9udGFsJyA6ICd2ZXJ0aWNhbCd9KTpcXG5gICtcbiAgICAgIGAgICAgbGlzdEtleTogJHtkZWJ1Z0luZm8ubGlzdEtleX1cXG5gICtcbiAgICAgIGAgICAgY2VsbEtleTogJHtkZWJ1Z0luZm8uY2VsbEtleX1gO1xuICAgIGRlYnVnSW5mbyA9IGRlYnVnSW5mby5wYXJlbnQ7XG4gIH1cbiAgcmV0dXJuIHRyYWNlO1xufVxuXG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gIHZlcnRpY2FsbHlJbnZlcnRlZDoge1xuICAgIHRyYW5zZm9ybTogW3tzY2FsZVk6IC0xfV0sXG4gIH0sXG4gIGhvcml6b250YWxseUludmVydGVkOiB7XG4gICAgdHJhbnNmb3JtOiBbe3NjYWxlWDogLTF9XSxcbiAgfSxcbiAgcm93OiB7XG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gIH0sXG4gIHJvd1JldmVyc2U6IHtcbiAgICBmbGV4RGlyZWN0aW9uOiAncm93LXJldmVyc2UnLFxuICB9LFxuICBjb2x1bW5SZXZlcnNlOiB7XG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbi1yZXZlcnNlJyxcbiAgfSxcbiAgZGVidWc6IHtcbiAgICBmbGV4OiAxLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlCYXNlOiB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgdG9wOiAwLFxuICAgIHJpZ2h0OiAwLFxuICB9LFxuICBkZWJ1Z092ZXJsYXk6IHtcbiAgICBib3R0b206IDAsXG4gICAgd2lkdGg6IDIwLFxuICAgIGJvcmRlckNvbG9yOiAnYmx1ZScsXG4gICAgYm9yZGVyV2lkdGg6IDEsXG4gIH0sXG4gIGRlYnVnT3ZlcmxheUZyYW1lOiB7XG4gICAgbGVmdDogMCxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICdvcmFuZ2UnLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlGcmFtZUxhc3Q6IHtcbiAgICBsZWZ0OiAwLFxuICAgIGJvcmRlckNvbG9yOiAnZ3JlZW4nLFxuICAgIGJvcmRlcldpZHRoOiAyLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlGcmFtZVZpczoge1xuICAgIGxlZnQ6IDAsXG4gICAgYm9yZGVyQ29sb3I6ICdyZWQnLFxuICAgIGJvcmRlcldpZHRoOiAyLFxuICB9LFxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gVmlydHVhbGl6ZWRMaXN0O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBdUJBOztBQUtBOztBQVFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBMUJBLElBQU1BLFdBQVcsR0FBR0MsT0FBTyw4QkFBM0I7O0FBQ0EsSUFBTUMsY0FBYyxHQUFHRCxPQUFPLG9CQUE5Qjs7QUFDQSxJQUFNRSxXQUFXLEdBQUdGLE9BQU8saUNBQTNCOztBQUNBLElBQU1HLGNBQWMsR0FBR0gsT0FBTywrQ0FBOUI7O0FBQ0EsSUFBTUksVUFBVSxHQUFHSixPQUFPLHVDQUExQjs7QUFDQSxJQUFNSyxVQUFVLEdBQUdMLE9BQU8sNEJBQTFCOztBQUNBLElBQU1NLElBQUksR0FBR04sT0FBTywyQkFBcEI7O0FBQ0EsSUFBTU8saUJBQWlCLEdBQUdQLE9BQU8sdUJBQWpDOztBQUVBLElBQU1RLFlBQVksR0FBR1IsT0FBTyw4QkFBNUI7O0FBQ0EsSUFBTVMsT0FBTyxHQUFHVCxPQUFPLHdCQUF2Qjs7QUFDQSxJQUFNVSxTQUFTLEdBQUdWLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQThSQSxJQUFJVyxnQkFBZ0IsR0FBRyxLQUF2QjtBQUNBLElBQUlDLHlCQUFpQyxHQUFHLEVBQXhDOztBQWFBLFNBQVNDLG1CQUFULENBQTZCQyxVQUE3QixFQUFt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