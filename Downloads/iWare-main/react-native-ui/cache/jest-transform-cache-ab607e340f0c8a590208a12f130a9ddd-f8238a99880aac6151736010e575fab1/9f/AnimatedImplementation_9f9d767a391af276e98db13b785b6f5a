8d95f648920c6e9b4f1ad7db686e2950
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _AnimatedColor = _interopRequireDefault(require("./nodes/AnimatedColor"));

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

var _require = require("./AnimatedEvent"),
    AnimatedEvent = _require.AnimatedEvent,
    attachNativeEvent = _require.attachNativeEvent;

var AnimatedAddition = require("./nodes/AnimatedAddition");

var AnimatedDiffClamp = require("./nodes/AnimatedDiffClamp");

var AnimatedDivision = require("./nodes/AnimatedDivision");

var AnimatedInterpolation = require("./nodes/AnimatedInterpolation");

var AnimatedModulo = require("./nodes/AnimatedModulo");

var AnimatedMultiplication = require("./nodes/AnimatedMultiplication");

var AnimatedNode = require("./nodes/AnimatedNode");

var AnimatedSubtraction = require("./nodes/AnimatedSubtraction");

var AnimatedTracking = require("./nodes/AnimatedTracking");

var AnimatedValue = require("./nodes/AnimatedValue");

var AnimatedValueXY = require("./nodes/AnimatedValueXY");

var DecayAnimation = require("./animations/DecayAnimation");

var SpringAnimation = require("./animations/SpringAnimation");

var TimingAnimation = require("./animations/TimingAnimation");

var createAnimatedComponent = require("./createAnimatedComponent");

var add = function add(a, b) {
  return new AnimatedAddition(a, b);
};

var subtract = function subtract(a, b) {
  return new AnimatedSubtraction(a, b);
};

var divide = function divide(a, b) {
  return new AnimatedDivision(a, b);
};

var multiply = function multiply(a, b) {
  return new AnimatedMultiplication(a, b);
};

var modulo = function modulo(a, modulus) {
  return new AnimatedModulo(a, modulus);
};

var diffClamp = function diffClamp(a, min, max) {
  return new AnimatedDiffClamp(a, min, max);
};

var _combineCallbacks = function _combineCallbacks(callback, config) {
  if (callback && config.onComplete) {
    return function () {
      config.onComplete && config.onComplete.apply(config, arguments);
      callback && callback.apply(void 0, arguments);
    };
  } else {
    return callback || config.onComplete;
  }
};

var maybeVectorAnim = function maybeVectorAnim(value, config, anim) {
  if (value instanceof AnimatedValueXY) {
    var configX = _objectSpread({}, config);

    var configY = _objectSpread({}, config);

    for (var key in config) {
      var _config$key = config[key],
          x = _config$key.x,
          y = _config$key.y;

      if (x !== undefined && y !== undefined) {
        configX[key] = x;
        configY[key] = y;
      }
    }

    var aX = anim(value.x, configX);
    var aY = anim(value.y, configY);
    return parallel([aX, aY], {
      stopTogether: false
    });
  } else if (value instanceof _AnimatedColor.default) {
    var configR = _objectSpread({}, config);

    var configG = _objectSpread({}, config);

    var configB = _objectSpread({}, config);

    var configA = _objectSpread({}, config);

    for (var _key in config) {
      var _config$_key = config[_key],
          r = _config$_key.r,
          g = _config$_key.g,
          b = _config$_key.b,
          a = _config$_key.a;

      if (r !== undefined && g !== undefined && b !== undefined && a !== undefined) {
        configR[_key] = r;
        configG[_key] = g;
        configB[_key] = b;
        configA[_key] = a;
      }
    }

    var aR = anim(value.r, configR);
    var aG = anim(value.g, configG);
    var aB = anim(value.b, configB);
    var aA = anim(value.a, configA);
    return parallel([aR, aG, aB, aA], {
      stopTogether: false
    });
  }

  return null;
};

var spring = function spring(value, config) {
  var _start = function start(animatedValue, configuration, callback) {
    callback = _combineCallbacks(callback, configuration);
    var singleValue = animatedValue;
    var singleConfig = configuration;
    singleValue.stopTracking();

    if (configuration.toValue instanceof AnimatedNode) {
      singleValue.track(new AnimatedTracking(singleValue, configuration.toValue, SpringAnimation, singleConfig, callback));
    } else {
      singleValue.animate(new SpringAnimation(singleConfig), callback);
    }
  };

  return maybeVectorAnim(value, config, spring) || {
    start: function start(callback) {
      _start(value, config, callback);
    },
    stop: function stop() {
      value.stopAnimation();
    },
    reset: function reset() {
      value.resetAnimation();
    },
    _startNativeLoop: function _startNativeLoop(iterations) {
      var singleConfig = _objectSpread(_objectSpread({}, config), {}, {
        iterations: iterations
      });

      _start(value, singleConfig);
    },
    _isUsingNativeDriver: function _isUsingNativeDriver() {
      return config.useNativeDriver || false;
    }
  };
};

var timing = function timing(value, config) {
  var _start2 = function start(animatedValue, configuration, callback) {
    callback = _combineCallbacks(callback, configuration);
    var singleValue = animatedValue;
    var singleConfig = configuration;
    singleValue.stopTracking();

    if (configuration.toValue instanceof AnimatedNode) {
      singleValue.track(new AnimatedTracking(singleValue, configuration.toValue, TimingAnimation, singleConfig, callback));
    } else {
      singleValue.animate(new TimingAnimation(singleConfig), callback);
    }
  };

  return maybeVectorAnim(value, config, timing) || {
    start: function start(callback) {
      _start2(value, config, callback);
    },
    stop: function stop() {
      value.stopAnimation();
    },
    reset: function reset() {
      value.resetAnimation();
    },
    _startNativeLoop: function _startNativeLoop(iterations) {
      var singleConfig = _objectSpread(_objectSpread({}, config), {}, {
        iterations: iterations
      });

      _start2(value, singleConfig);
    },
    _isUsingNativeDriver: function _isUsingNativeDriver() {
      return config.useNativeDriver || false;
    }
  };
};

var decay = function decay(value, config) {
  var _start3 = function start(animatedValue, configuration, callback) {
    callback = _combineCallbacks(callback, configuration);
    var singleValue = animatedValue;
    var singleConfig = configuration;
    singleValue.stopTracking();
    singleValue.animate(new DecayAnimation(singleConfig), callback);
  };

  return maybeVectorAnim(value, config, decay) || {
    start: function start(callback) {
      _start3(value, config, callback);
    },
    stop: function stop() {
      value.stopAnimation();
    },
    reset: function reset() {
      value.resetAnimation();
    },
    _startNativeLoop: function _startNativeLoop(iterations) {
      var singleConfig = _objectSpread(_objectSpread({}, config), {}, {
        iterations: iterations
      });

      _start3(value, singleConfig);
    },
    _isUsingNativeDriver: function _isUsingNativeDriver() {
      return config.useNativeDriver || false;
    }
  };
};

var sequence = function sequence(animations) {
  var current = 0;
  return {
    start: function start(callback) {
      var onComplete = function onComplete(result) {
        if (!result.finished) {
          callback && callback(result);
          return;
        }

        current++;

        if (current === animations.length) {
          callback && callback(result);
          return;
        }

        animations[current].start(onComplete);
      };

      if (animations.length === 0) {
        callback && callback({
          finished: true
        });
      } else {
        animations[current].start(onComplete);
      }
    },
    stop: function stop() {
      if (current < animations.length) {
        animations[current].stop();
      }
    },
    reset: function reset() {
      animations.forEach(function (animation, idx) {
        if (idx <= current) {
          animation.reset();
        }
      });
      current = 0;
    },
    _startNativeLoop: function _startNativeLoop() {
      throw new Error('Loops run using the native driver cannot contain Animated.sequence animations');
    },
    _isUsingNativeDriver: function _isUsingNativeDriver() {
      return false;
    }
  };
};

var parallel = function parallel(animations, config) {
  var doneCount = 0;
  var hasEnded = {};
  var stopTogether = !(config && config.stopTogether === false);
  var result = {
    start: function start(callback) {
      if (doneCount === animations.length) {
        callback && callback({
          finished: true
        });
        return;
      }

      animations.forEach(function (animation, idx) {
        var cb = function cb(endResult) {
          hasEnded[idx] = true;
          doneCount++;

          if (doneCount === animations.length) {
            doneCount = 0;
            callback && callback(endResult);
            return;
          }

          if (!endResult.finished && stopTogether) {
            result.stop();
          }
        };

        if (!animation) {
          cb({
            finished: true
          });
        } else {
          animation.start(cb);
        }
      });
    },
    stop: function stop() {
      animations.forEach(function (animation, idx) {
        !hasEnded[idx] && animation.stop();
        hasEnded[idx] = true;
      });
    },
    reset: function reset() {
      animations.forEach(function (animation, idx) {
        animation.reset();
        hasEnded[idx] = false;
        doneCount = 0;
      });
    },
    _startNativeLoop: function _startNativeLoop() {
      throw new Error('Loops run using the native driver cannot contain Animated.parallel animations');
    },
    _isUsingNativeDriver: function _isUsingNativeDriver() {
      return false;
    }
  };
  return result;
};

var delay = function delay(time) {
  return timing(new AnimatedValue(0), {
    toValue: 0,
    delay: time,
    duration: 0,
    useNativeDriver: false
  });
};

var stagger = function stagger(time, animations) {
  return parallel(animations.map(function (animation, i) {
    return sequence([delay(time * i), animation]);
  }));
};

var loop = function loop(animation) {
  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      _ref$iterations = _ref.iterations,
      iterations = _ref$iterations === void 0 ? -1 : _ref$iterations,
      _ref$resetBeforeItera = _ref.resetBeforeIteration,
      resetBeforeIteration = _ref$resetBeforeItera === void 0 ? true : _ref$resetBeforeItera;

  var isFinished = false;
  var iterationsSoFar = 0;
  return {
    start: function start(callback) {
      var restart = function restart() {
        var result = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {
          finished: true
        };

        if (isFinished || iterationsSoFar === iterations || result.finished === false) {
          callback && callback(result);
        } else {
          iterationsSoFar++;
          resetBeforeIteration && animation.reset();
          animation.start(restart);
        }
      };

      if (!animation || iterations === 0) {
        callback && callback({
          finished: true
        });
      } else {
        if (animation._isUsingNativeDriver()) {
          animation._startNativeLoop(iterations);
        } else {
          restart();
        }
      }
    },
    stop: function stop() {
      isFinished = true;
      animation.stop();
    },
    reset: function reset() {
      iterationsSoFar = 0;
      isFinished = false;
      animation.reset();
    },
    _startNativeLoop: function _startNativeLoop() {
      throw new Error('Loops run using the native driver cannot contain Animated.loop animations');
    },
    _isUsingNativeDriver: function _isUsingNativeDriver() {
      return animation._isUsingNativeDriver();
    }
  };
};

function forkEvent(event, listener) {
  if (!event) {
    return listener;
  } else if (event instanceof AnimatedEvent) {
    event.__addListener(listener);

    return event;
  } else {
    return function () {
      typeof event === 'function' && event.apply(void 0, arguments);
      listener.apply(void 0, arguments);
    };
  }
}

function unforkEvent(event, listener) {
  if (event && event instanceof AnimatedEvent) {
    event.__removeListener(listener);
  }
}

var event = function event(argMapping, config) {
  var animatedEvent = new AnimatedEvent(argMapping, config);

  if (animatedEvent.__isNative) {
    return animatedEvent;
  } else {
    return animatedEvent.__getHandler();
  }
};

module.exports = {
  Value: AnimatedValue,
  ValueXY: AnimatedValueXY,
  Color: _AnimatedColor.default,
  Interpolation: AnimatedInterpolation,
  Node: AnimatedNode,
  decay: decay,
  timing: timing,
  spring: spring,
  add: add,
  subtract: subtract,
  divide: divide,
  multiply: multiply,
  modulo: modulo,
  diffClamp: diffClamp,
  delay: delay,
  sequence: sequence,
  parallel: parallel,
  stagger: stagger,
  loop: loop,
  event: event,
  createAnimatedComponent: createAnimatedComponent,
  attachNativeEvent: attachNativeEvent,
  forkEvent: forkEvent,
  unforkEvent: unforkEvent,
  Event: AnimatedEvent
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiQW5pbWF0ZWRFdmVudCIsImF0dGFjaE5hdGl2ZUV2ZW50IiwiQW5pbWF0ZWRBZGRpdGlvbiIsIkFuaW1hdGVkRGlmZkNsYW1wIiwiQW5pbWF0ZWREaXZpc2lvbiIsIkFuaW1hdGVkSW50ZXJwb2xhdGlvbiIsIkFuaW1hdGVkTW9kdWxvIiwiQW5pbWF0ZWRNdWx0aXBsaWNhdGlvbiIsIkFuaW1hdGVkTm9kZSIsIkFuaW1hdGVkU3VidHJhY3Rpb24iLCJBbmltYXRlZFRyYWNraW5nIiwiQW5pbWF0ZWRWYWx1ZSIsIkFuaW1hdGVkVmFsdWVYWSIsIkRlY2F5QW5pbWF0aW9uIiwiU3ByaW5nQW5pbWF0aW9uIiwiVGltaW5nQW5pbWF0aW9uIiwiY3JlYXRlQW5pbWF0ZWRDb21wb25lbnQiLCJhZGQiLCJhIiwiYiIsInN1YnRyYWN0IiwiZGl2aWRlIiwibXVsdGlwbHkiLCJtb2R1bG8iLCJtb2R1bHVzIiwiZGlmZkNsYW1wIiwibWluIiwibWF4IiwiX2NvbWJpbmVDYWxsYmFja3MiLCJjYWxsYmFjayIsImNvbmZpZyIsIm9uQ29tcGxldGUiLCJtYXliZVZlY3RvckFuaW0iLCJ2YWx1ZSIsImFuaW0iLCJjb25maWdYIiwiY29uZmlnWSIsImtleSIsIngiLCJ5IiwidW5kZWZpbmVkIiwiYVgiLCJhWSIsInBhcmFsbGVsIiwic3RvcFRvZ2V0aGVyIiwiQW5pbWF0ZWRDb2xvciIsImNvbmZpZ1IiLCJjb25maWdHIiwiY29uZmlnQiIsImNvbmZpZ0EiLCJyIiwiZyIsImFSIiwiYUciLCJhQiIsImFBIiwic3ByaW5nIiwic3RhcnQiLCJhbmltYXRlZFZhbHVlIiwiY29uZmlndXJhdGlvbiIsInNpbmdsZVZhbHVlIiwic2luZ2xlQ29uZmlnIiwic3RvcFRyYWNraW5nIiwidG9WYWx1ZSIsInRyYWNrIiwiYW5pbWF0ZSIsInN0b3AiLCJzdG9wQW5pbWF0aW9uIiwicmVzZXQiLCJyZXNldEFuaW1hdGlvbiIsIl9zdGFydE5hdGl2ZUxvb3AiLCJpdGVyYXRpb25zIiwiX2lzVXNpbmdOYXRpdmVEcml2ZXIiLCJ1c2VOYXRpdmVEcml2ZXIiLCJ0aW1pbmciLCJkZWNheSIsInNlcXVlbmNlIiwiYW5pbWF0aW9ucyIsImN1cnJlbnQiLCJyZXN1bHQiLCJmaW5pc2hlZCIsImxlbmd0aCIsImZvckVhY2giLCJhbmltYXRpb24iLCJpZHgiLCJFcnJvciIsImRvbmVDb3VudCIsImhhc0VuZGVkIiwiY2IiLCJlbmRSZXN1bHQiLCJkZWxheSIsInRpbWUiLCJkdXJhdGlvbiIsInN0YWdnZXIiLCJtYXAiLCJpIiwibG9vcCIsInJlc2V0QmVmb3JlSXRlcmF0aW9uIiwiaXNGaW5pc2hlZCIsIml0ZXJhdGlvbnNTb0ZhciIsInJlc3RhcnQiLCJmb3JrRXZlbnQiLCJldmVudCIsImxpc3RlbmVyIiwiX19hZGRMaXN0ZW5lciIsInVuZm9ya0V2ZW50IiwiX19yZW1vdmVMaXN0ZW5lciIsImFyZ01hcHBpbmciLCJhbmltYXRlZEV2ZW50IiwiX19pc05hdGl2ZSIsIl9fZ2V0SGFuZGxlciIsIm1vZHVsZSIsImV4cG9ydHMiLCJWYWx1ZSIsIlZhbHVlWFkiLCJDb2xvciIsIkludGVycG9sYXRpb24iLCJOb2RlIiwiRXZlbnQiXSwic291cmNlcyI6WyJBbmltYXRlZEltcGxlbWVudGF0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuY29uc3Qge0FuaW1hdGVkRXZlbnQsIGF0dGFjaE5hdGl2ZUV2ZW50fSA9IHJlcXVpcmUoJy4vQW5pbWF0ZWRFdmVudCcpO1xuY29uc3QgQW5pbWF0ZWRBZGRpdGlvbiA9IHJlcXVpcmUoJy4vbm9kZXMvQW5pbWF0ZWRBZGRpdGlvbicpO1xuY29uc3QgQW5pbWF0ZWREaWZmQ2xhbXAgPSByZXF1aXJlKCcuL25vZGVzL0FuaW1hdGVkRGlmZkNsYW1wJyk7XG5jb25zdCBBbmltYXRlZERpdmlzaW9uID0gcmVxdWlyZSgnLi9ub2Rlcy9BbmltYXRlZERpdmlzaW9uJyk7XG5jb25zdCBBbmltYXRlZEludGVycG9sYXRpb24gPSByZXF1aXJlKCcuL25vZGVzL0FuaW1hdGVkSW50ZXJwb2xhdGlvbicpO1xuY29uc3QgQW5pbWF0ZWRNb2R1bG8gPSByZXF1aXJlKCcuL25vZGVzL0FuaW1hdGVkTW9kdWxvJyk7XG5jb25zdCBBbmltYXRlZE11bHRpcGxpY2F0aW9uID0gcmVxdWlyZSgnLi9ub2Rlcy9BbmltYXRlZE11bHRpcGxpY2F0aW9uJyk7XG5jb25zdCBBbmltYXRlZE5vZGUgPSByZXF1aXJlKCcuL25vZGVzL0FuaW1hdGVkTm9kZScpO1xuY29uc3QgQW5pbWF0ZWRTdWJ0cmFjdGlvbiA9IHJlcXVpcmUoJy4vbm9kZXMvQW5pbWF0ZWRTdWJ0cmFjdGlvbicpO1xuY29uc3QgQW5pbWF0ZWRUcmFja2luZyA9IHJlcXVpcmUoJy4vbm9kZXMvQW5pbWF0ZWRUcmFja2luZycpO1xuY29uc3QgQW5pbWF0ZWRWYWx1ZSA9IHJlcXVpcmUoJy4vbm9kZXMvQW5pbWF0ZWRWYWx1ZScpO1xuY29uc3QgQW5pbWF0ZWRWYWx1ZVhZID0gcmVxdWlyZSgnLi9ub2Rlcy9BbmltYXRlZFZhbHVlWFknKTtcbmNvbnN0IERlY2F5QW5pbWF0aW9uID0gcmVxdWlyZSgnLi9hbmltYXRpb25zL0RlY2F5QW5pbWF0aW9uJyk7XG5jb25zdCBTcHJpbmdBbmltYXRpb24gPSByZXF1aXJlKCcuL2FuaW1hdGlvbnMvU3ByaW5nQW5pbWF0aW9uJyk7XG5jb25zdCBUaW1pbmdBbmltYXRpb24gPSByZXF1aXJlKCcuL2FuaW1hdGlvbnMvVGltaW5nQW5pbWF0aW9uJyk7XG5cbmNvbnN0IGNyZWF0ZUFuaW1hdGVkQ29tcG9uZW50ID0gcmVxdWlyZSgnLi9jcmVhdGVBbmltYXRlZENvbXBvbmVudCcpO1xuXG5pbXBvcnQgdHlwZSB7XG4gIEFuaW1hdGlvbkNvbmZpZyxcbiAgRW5kQ2FsbGJhY2ssXG4gIEVuZFJlc3VsdCxcbn0gZnJvbSAnLi9hbmltYXRpb25zL0FuaW1hdGlvbic7XG5pbXBvcnQgdHlwZSB7VGltaW5nQW5pbWF0aW9uQ29uZmlnfSBmcm9tICcuL2FuaW1hdGlvbnMvVGltaW5nQW5pbWF0aW9uJztcbmltcG9ydCB0eXBlIHtEZWNheUFuaW1hdGlvbkNvbmZpZ30gZnJvbSAnLi9hbmltYXRpb25zL0RlY2F5QW5pbWF0aW9uJztcbmltcG9ydCB0eXBlIHtTcHJpbmdBbmltYXRpb25Db25maWd9IGZyb20gJy4vYW5pbWF0aW9ucy9TcHJpbmdBbmltYXRpb24nO1xuaW1wb3J0IHR5cGUge01hcHBpbmcsIEV2ZW50Q29uZmlnfSBmcm9tICcuL0FuaW1hdGVkRXZlbnQnO1xuXG5pbXBvcnQgQW5pbWF0ZWRDb2xvciBmcm9tICcuL25vZGVzL0FuaW1hdGVkQ29sb3InO1xuXG5leHBvcnQgdHlwZSBDb21wb3NpdGVBbmltYXRpb24gPSB7XG4gIHN0YXJ0OiAoY2FsbGJhY2s/OiA/RW5kQ2FsbGJhY2spID0+IHZvaWQsXG4gIHN0b3A6ICgpID0+IHZvaWQsXG4gIHJlc2V0OiAoKSA9PiB2b2lkLFxuICBfc3RhcnROYXRpdmVMb29wOiAoaXRlcmF0aW9ucz86IG51bWJlcikgPT4gdm9pZCxcbiAgX2lzVXNpbmdOYXRpdmVEcml2ZXI6ICgpID0+IGJvb2xlYW4sXG4gIC4uLlxufTtcblxuY29uc3QgYWRkID0gZnVuY3Rpb24gKFxuICBhOiBBbmltYXRlZE5vZGUgfCBudW1iZXIsXG4gIGI6IEFuaW1hdGVkTm9kZSB8IG51bWJlcixcbik6IEFuaW1hdGVkQWRkaXRpb24ge1xuICByZXR1cm4gbmV3IEFuaW1hdGVkQWRkaXRpb24oYSwgYik7XG59O1xuXG5jb25zdCBzdWJ0cmFjdCA9IGZ1bmN0aW9uIChcbiAgYTogQW5pbWF0ZWROb2RlIHwgbnVtYmVyLFxuICBiOiBBbmltYXRlZE5vZGUgfCBudW1iZXIsXG4pOiBBbmltYXRlZFN1YnRyYWN0aW9uIHtcbiAgcmV0dXJuIG5ldyBBbmltYXRlZFN1YnRyYWN0aW9uKGEsIGIpO1xufTtcblxuY29uc3QgZGl2aWRlID0gZnVuY3Rpb24gKFxuICBhOiBBbmltYXRlZE5vZGUgfCBudW1iZXIsXG4gIGI6IEFuaW1hdGVkTm9kZSB8IG51bWJlcixcbik6IEFuaW1hdGVkRGl2aXNpb24ge1xuICByZXR1cm4gbmV3IEFuaW1hdGVkRGl2aXNpb24oYSwgYik7XG59O1xuXG5jb25zdCBtdWx0aXBseSA9IGZ1bmN0aW9uIChcbiAgYTogQW5pbWF0ZWROb2RlIHwgbnVtYmVyLFxuICBiOiBBbmltYXRlZE5vZGUgfCBudW1iZXIsXG4pOiBBbmltYXRlZE11bHRpcGxpY2F0aW9uIHtcbiAgcmV0dXJuIG5ldyBBbmltYXRlZE11bHRpcGxpY2F0aW9uKGEsIGIpO1xufTtcblxuY29uc3QgbW9kdWxvID0gZnVuY3Rpb24gKGE6IEFuaW1hdGVkTm9kZSwgbW9kdWx1czogbnVtYmVyKTogQW5pbWF0ZWRNb2R1bG8ge1xuICByZXR1cm4gbmV3IEFuaW1hdGVkTW9kdWxvKGEsIG1vZHVsdXMpO1xufTtcblxuY29uc3QgZGlmZkNsYW1wID0gZnVuY3Rpb24gKFxuICBhOiBBbmltYXRlZE5vZGUsXG4gIG1pbjogbnVtYmVyLFxuICBtYXg6IG51bWJlcixcbik6IEFuaW1hdGVkRGlmZkNsYW1wIHtcbiAgcmV0dXJuIG5ldyBBbmltYXRlZERpZmZDbGFtcChhLCBtaW4sIG1heCk7XG59O1xuXG5jb25zdCBfY29tYmluZUNhbGxiYWNrcyA9IGZ1bmN0aW9uIChcbiAgY2FsbGJhY2s6ID9FbmRDYWxsYmFjayxcbiAgY29uZmlnOiB7Li4uQW5pbWF0aW9uQ29uZmlnLCAuLi59LFxuKSB7XG4gIGlmIChjYWxsYmFjayAmJiBjb25maWcub25Db21wbGV0ZSkge1xuICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgY29uZmlnLm9uQ29tcGxldGUgJiYgY29uZmlnLm9uQ29tcGxldGUoLi4uYXJncyk7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayguLi5hcmdzKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjYWxsYmFjayB8fCBjb25maWcub25Db21wbGV0ZTtcbiAgfVxufTtcblxuY29uc3QgbWF5YmVWZWN0b3JBbmltID0gZnVuY3Rpb24gKFxuICB2YWx1ZTogQW5pbWF0ZWRWYWx1ZSB8IEFuaW1hdGVkVmFsdWVYWSB8IEFuaW1hdGVkQ29sb3IsXG4gIGNvbmZpZzogT2JqZWN0LFxuICBhbmltOiAodmFsdWU6IEFuaW1hdGVkVmFsdWUsIGNvbmZpZzogT2JqZWN0KSA9PiBDb21wb3NpdGVBbmltYXRpb24sXG4pOiA/Q29tcG9zaXRlQW5pbWF0aW9uIHtcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQW5pbWF0ZWRWYWx1ZVhZKSB7XG4gICAgY29uc3QgY29uZmlnWCA9IHsuLi5jb25maWd9O1xuICAgIGNvbnN0IGNvbmZpZ1kgPSB7Li4uY29uZmlnfTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBjb25maWcpIHtcbiAgICAgIGNvbnN0IHt4LCB5fSA9IGNvbmZpZ1trZXldO1xuICAgICAgaWYgKHggIT09IHVuZGVmaW5lZCAmJiB5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uZmlnWFtrZXldID0geDtcbiAgICAgICAgY29uZmlnWVtrZXldID0geTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYVggPSBhbmltKCh2YWx1ZTogQW5pbWF0ZWRWYWx1ZVhZKS54LCBjb25maWdYKTtcbiAgICBjb25zdCBhWSA9IGFuaW0oKHZhbHVlOiBBbmltYXRlZFZhbHVlWFkpLnksIGNvbmZpZ1kpO1xuICAgIC8vIFdlIHVzZSBgc3RvcFRvZ2V0aGVyOiBmYWxzZWAgaGVyZSBiZWNhdXNlIG90aGVyd2lzZSB0cmFja2luZyB3aWxsIGJyZWFrXG4gICAgLy8gYmVjYXVzZSB0aGUgc2Vjb25kIGFuaW1hdGlvbiB3aWxsIGdldCBzdG9wcGVkIGJlZm9yZSBpdCBjYW4gdXBkYXRlLlxuICAgIHJldHVybiBwYXJhbGxlbChbYVgsIGFZXSwge3N0b3BUb2dldGhlcjogZmFsc2V9KTtcbiAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFuaW1hdGVkQ29sb3IpIHtcbiAgICBjb25zdCBjb25maWdSID0gey4uLmNvbmZpZ307XG4gICAgY29uc3QgY29uZmlnRyA9IHsuLi5jb25maWd9O1xuICAgIGNvbnN0IGNvbmZpZ0IgPSB7Li4uY29uZmlnfTtcbiAgICBjb25zdCBjb25maWdBID0gey4uLmNvbmZpZ307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gY29uZmlnKSB7XG4gICAgICBjb25zdCB7ciwgZywgYiwgYX0gPSBjb25maWdba2V5XTtcbiAgICAgIGlmIChcbiAgICAgICAgciAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIGcgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBiICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgYSAhPT0gdW5kZWZpbmVkXG4gICAgICApIHtcbiAgICAgICAgY29uZmlnUltrZXldID0gcjtcbiAgICAgICAgY29uZmlnR1trZXldID0gZztcbiAgICAgICAgY29uZmlnQltrZXldID0gYjtcbiAgICAgICAgY29uZmlnQVtrZXldID0gYTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYVIgPSBhbmltKCh2YWx1ZTogQW5pbWF0ZWRDb2xvcikuciwgY29uZmlnUik7XG4gICAgY29uc3QgYUcgPSBhbmltKCh2YWx1ZTogQW5pbWF0ZWRDb2xvcikuZywgY29uZmlnRyk7XG4gICAgY29uc3QgYUIgPSBhbmltKCh2YWx1ZTogQW5pbWF0ZWRDb2xvcikuYiwgY29uZmlnQik7XG4gICAgY29uc3QgYUEgPSBhbmltKCh2YWx1ZTogQW5pbWF0ZWRDb2xvcikuYSwgY29uZmlnQSk7XG4gICAgLy8gV2UgdXNlIGBzdG9wVG9nZXRoZXI6IGZhbHNlYCBoZXJlIGJlY2F1c2Ugb3RoZXJ3aXNlIHRyYWNraW5nIHdpbGwgYnJlYWtcbiAgICAvLyBiZWNhdXNlIHRoZSBzZWNvbmQgYW5pbWF0aW9uIHdpbGwgZ2V0IHN0b3BwZWQgYmVmb3JlIGl0IGNhbiB1cGRhdGUuXG4gICAgcmV0dXJuIHBhcmFsbGVsKFthUiwgYUcsIGFCLCBhQV0sIHtzdG9wVG9nZXRoZXI6IGZhbHNlfSk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5jb25zdCBzcHJpbmcgPSBmdW5jdGlvbiAoXG4gIHZhbHVlOiBBbmltYXRlZFZhbHVlIHwgQW5pbWF0ZWRWYWx1ZVhZIHwgQW5pbWF0ZWRDb2xvcixcbiAgY29uZmlnOiBTcHJpbmdBbmltYXRpb25Db25maWcsXG4pOiBDb21wb3NpdGVBbmltYXRpb24ge1xuICBjb25zdCBzdGFydCA9IGZ1bmN0aW9uIChcbiAgICBhbmltYXRlZFZhbHVlOiBBbmltYXRlZFZhbHVlIHwgQW5pbWF0ZWRWYWx1ZVhZIHwgQW5pbWF0ZWRDb2xvcixcbiAgICBjb25maWd1cmF0aW9uOiBTcHJpbmdBbmltYXRpb25Db25maWcsXG4gICAgY2FsbGJhY2s/OiA/RW5kQ2FsbGJhY2ssXG4gICk6IHZvaWQge1xuICAgIGNhbGxiYWNrID0gX2NvbWJpbmVDYWxsYmFja3MoY2FsbGJhY2ssIGNvbmZpZ3VyYXRpb24pO1xuICAgIGNvbnN0IHNpbmdsZVZhbHVlOiBhbnkgPSBhbmltYXRlZFZhbHVlO1xuICAgIGNvbnN0IHNpbmdsZUNvbmZpZzogYW55ID0gY29uZmlndXJhdGlvbjtcbiAgICBzaW5nbGVWYWx1ZS5zdG9wVHJhY2tpbmcoKTtcbiAgICBpZiAoY29uZmlndXJhdGlvbi50b1ZhbHVlIGluc3RhbmNlb2YgQW5pbWF0ZWROb2RlKSB7XG4gICAgICBzaW5nbGVWYWx1ZS50cmFjayhcbiAgICAgICAgbmV3IEFuaW1hdGVkVHJhY2tpbmcoXG4gICAgICAgICAgc2luZ2xlVmFsdWUsXG4gICAgICAgICAgY29uZmlndXJhdGlvbi50b1ZhbHVlLFxuICAgICAgICAgIFNwcmluZ0FuaW1hdGlvbixcbiAgICAgICAgICBzaW5nbGVDb25maWcsXG4gICAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaW5nbGVWYWx1ZS5hbmltYXRlKG5ldyBTcHJpbmdBbmltYXRpb24oc2luZ2xlQ29uZmlnKSwgY2FsbGJhY2spO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIChcbiAgICBtYXliZVZlY3RvckFuaW0odmFsdWUsIGNvbmZpZywgc3ByaW5nKSB8fCB7XG4gICAgICBzdGFydDogZnVuY3Rpb24gKGNhbGxiYWNrPzogP0VuZENhbGxiYWNrKTogdm9pZCB7XG4gICAgICAgIHN0YXJ0KHZhbHVlLCBjb25maWcsIGNhbGxiYWNrKTtcbiAgICAgIH0sXG5cbiAgICAgIHN0b3A6IGZ1bmN0aW9uICgpOiB2b2lkIHtcbiAgICAgICAgdmFsdWUuc3RvcEFuaW1hdGlvbigpO1xuICAgICAgfSxcblxuICAgICAgcmVzZXQ6IGZ1bmN0aW9uICgpOiB2b2lkIHtcbiAgICAgICAgdmFsdWUucmVzZXRBbmltYXRpb24oKTtcbiAgICAgIH0sXG5cbiAgICAgIF9zdGFydE5hdGl2ZUxvb3A6IGZ1bmN0aW9uIChpdGVyYXRpb25zPzogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHNpbmdsZUNvbmZpZyA9IHsuLi5jb25maWcsIGl0ZXJhdGlvbnN9O1xuICAgICAgICBzdGFydCh2YWx1ZSwgc2luZ2xlQ29uZmlnKTtcbiAgICAgIH0sXG5cbiAgICAgIF9pc1VzaW5nTmF0aXZlRHJpdmVyOiBmdW5jdGlvbiAoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBjb25maWcudXNlTmF0aXZlRHJpdmVyIHx8IGZhbHNlO1xuICAgICAgfSxcbiAgICB9XG4gICk7XG59O1xuXG5jb25zdCB0aW1pbmcgPSBmdW5jdGlvbiAoXG4gIHZhbHVlOiBBbmltYXRlZFZhbHVlIHwgQW5pbWF0ZWRWYWx1ZVhZIHwgQW5pbWF0ZWRDb2xvcixcbiAgY29uZmlnOiBUaW1pbmdBbmltYXRpb25Db25maWcsXG4pOiBDb21wb3NpdGVBbmltYXRpb24ge1xuICBjb25zdCBzdGFydCA9IGZ1bmN0aW9uIChcbiAgICBhbmltYXRlZFZhbHVlOiBBbmltYXRlZFZhbHVlIHwgQW5pbWF0ZWRWYWx1ZVhZIHwgQW5pbWF0ZWRDb2xvcixcbiAgICBjb25maWd1cmF0aW9uOiBUaW1pbmdBbmltYXRpb25Db25maWcsXG4gICAgY2FsbGJhY2s/OiA/RW5kQ2FsbGJhY2ssXG4gICk6IHZvaWQge1xuICAgIGNhbGxiYWNrID0gX2NvbWJpbmVDYWxsYmFja3MoY2FsbGJhY2ssIGNvbmZpZ3VyYXRpb24pO1xuICAgIGNvbnN0IHNpbmdsZVZhbHVlOiBhbnkgPSBhbmltYXRlZFZhbHVlO1xuICAgIGNvbnN0IHNpbmdsZUNvbmZpZzogYW55ID0gY29uZmlndXJhdGlvbjtcbiAgICBzaW5nbGVWYWx1ZS5zdG9wVHJhY2tpbmcoKTtcbiAgICBpZiAoY29uZmlndXJhdGlvbi50b1ZhbHVlIGluc3RhbmNlb2YgQW5pbWF0ZWROb2RlKSB7XG4gICAgICBzaW5nbGVWYWx1ZS50cmFjayhcbiAgICAgICAgbmV3IEFuaW1hdGVkVHJhY2tpbmcoXG4gICAgICAgICAgc2luZ2xlVmFsdWUsXG4gICAgICAgICAgY29uZmlndXJhdGlvbi50b1ZhbHVlLFxuICAgICAgICAgIFRpbWluZ0FuaW1hdGlvbixcbiAgICAgICAgICBzaW5nbGVDb25maWcsXG4gICAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaW5nbGVWYWx1ZS5hbmltYXRlKG5ldyBUaW1pbmdBbmltYXRpb24oc2luZ2xlQ29uZmlnKSwgY2FsbGJhY2spO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIG1heWJlVmVjdG9yQW5pbSh2YWx1ZSwgY29uZmlnLCB0aW1pbmcpIHx8IHtcbiAgICAgIHN0YXJ0OiBmdW5jdGlvbiAoY2FsbGJhY2s/OiA/RW5kQ2FsbGJhY2spOiB2b2lkIHtcbiAgICAgICAgc3RhcnQodmFsdWUsIGNvbmZpZywgY2FsbGJhY2spO1xuICAgICAgfSxcblxuICAgICAgc3RvcDogZnVuY3Rpb24gKCk6IHZvaWQge1xuICAgICAgICB2YWx1ZS5zdG9wQW5pbWF0aW9uKCk7XG4gICAgICB9LFxuXG4gICAgICByZXNldDogZnVuY3Rpb24gKCk6IHZvaWQge1xuICAgICAgICB2YWx1ZS5yZXNldEFuaW1hdGlvbigpO1xuICAgICAgfSxcblxuICAgICAgX3N0YXJ0TmF0aXZlTG9vcDogZnVuY3Rpb24gKGl0ZXJhdGlvbnM/OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgc2luZ2xlQ29uZmlnID0gey4uLmNvbmZpZywgaXRlcmF0aW9uc307XG4gICAgICAgIHN0YXJ0KHZhbHVlLCBzaW5nbGVDb25maWcpO1xuICAgICAgfSxcblxuICAgICAgX2lzVXNpbmdOYXRpdmVEcml2ZXI6IGZ1bmN0aW9uICgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZy51c2VOYXRpdmVEcml2ZXIgfHwgZmFsc2U7XG4gICAgICB9LFxuICAgIH1cbiAgKTtcbn07XG5cbmNvbnN0IGRlY2F5ID0gZnVuY3Rpb24gKFxuICB2YWx1ZTogQW5pbWF0ZWRWYWx1ZSB8IEFuaW1hdGVkVmFsdWVYWSB8IEFuaW1hdGVkQ29sb3IsXG4gIGNvbmZpZzogRGVjYXlBbmltYXRpb25Db25maWcsXG4pOiBDb21wb3NpdGVBbmltYXRpb24ge1xuICBjb25zdCBzdGFydCA9IGZ1bmN0aW9uIChcbiAgICBhbmltYXRlZFZhbHVlOiBBbmltYXRlZFZhbHVlIHwgQW5pbWF0ZWRWYWx1ZVhZIHwgQW5pbWF0ZWRDb2xvcixcbiAgICBjb25maWd1cmF0aW9uOiBEZWNheUFuaW1hdGlvbkNvbmZpZyxcbiAgICBjYWxsYmFjaz86ID9FbmRDYWxsYmFjayxcbiAgKTogdm9pZCB7XG4gICAgY2FsbGJhY2sgPSBfY29tYmluZUNhbGxiYWNrcyhjYWxsYmFjaywgY29uZmlndXJhdGlvbik7XG4gICAgY29uc3Qgc2luZ2xlVmFsdWU6IGFueSA9IGFuaW1hdGVkVmFsdWU7XG4gICAgY29uc3Qgc2luZ2xlQ29uZmlnOiBhbnkgPSBjb25maWd1cmF0aW9uO1xuICAgIHNpbmdsZVZhbHVlLnN0b3BUcmFja2luZygpO1xuICAgIHNpbmdsZVZhbHVlLmFuaW1hdGUobmV3IERlY2F5QW5pbWF0aW9uKHNpbmdsZUNvbmZpZyksIGNhbGxiYWNrKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIG1heWJlVmVjdG9yQW5pbSh2YWx1ZSwgY29uZmlnLCBkZWNheSkgfHwge1xuICAgICAgc3RhcnQ6IGZ1bmN0aW9uIChjYWxsYmFjaz86ID9FbmRDYWxsYmFjayk6IHZvaWQge1xuICAgICAgICBzdGFydCh2YWx1ZSwgY29uZmlnLCBjYWxsYmFjayk7XG4gICAgICB9LFxuXG4gICAgICBzdG9wOiBmdW5jdGlvbiAoKTogdm9pZCB7XG4gICAgICAgIHZhbHVlLnN0b3BBbmltYXRpb24oKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlc2V0OiBmdW5jdGlvbiAoKTogdm9pZCB7XG4gICAgICAgIHZhbHVlLnJlc2V0QW5pbWF0aW9uKCk7XG4gICAgICB9LFxuXG4gICAgICBfc3RhcnROYXRpdmVMb29wOiBmdW5jdGlvbiAoaXRlcmF0aW9ucz86IG51bWJlcik6IHZvaWQge1xuICAgICAgICBjb25zdCBzaW5nbGVDb25maWcgPSB7Li4uY29uZmlnLCBpdGVyYXRpb25zfTtcbiAgICAgICAgc3RhcnQodmFsdWUsIHNpbmdsZUNvbmZpZyk7XG4gICAgICB9LFxuXG4gICAgICBfaXNVc2luZ05hdGl2ZURyaXZlcjogZnVuY3Rpb24gKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gY29uZmlnLnVzZU5hdGl2ZURyaXZlciB8fCBmYWxzZTtcbiAgICAgIH0sXG4gICAgfVxuICApO1xufTtcblxuY29uc3Qgc2VxdWVuY2UgPSBmdW5jdGlvbiAoXG4gIGFuaW1hdGlvbnM6IEFycmF5PENvbXBvc2l0ZUFuaW1hdGlvbj4sXG4pOiBDb21wb3NpdGVBbmltYXRpb24ge1xuICBsZXQgY3VycmVudCA9IDA7XG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IGZ1bmN0aW9uIChjYWxsYmFjaz86ID9FbmRDYWxsYmFjaykge1xuICAgICAgY29uc3Qgb25Db21wbGV0ZSA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgaWYgKCFyZXN1bHQuZmluaXNoZWQpIHtcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXN1bHQpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnQrKztcblxuICAgICAgICBpZiAoY3VycmVudCA9PT0gYW5pbWF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXN1bHQpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGFuaW1hdGlvbnNbY3VycmVudF0uc3RhcnQob25Db21wbGV0ZSk7XG4gICAgICB9O1xuXG4gICAgICBpZiAoYW5pbWF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soe2ZpbmlzaGVkOiB0cnVlfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbmltYXRpb25zW2N1cnJlbnRdLnN0YXJ0KG9uQ29tcGxldGUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoY3VycmVudCA8IGFuaW1hdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGFuaW1hdGlvbnNbY3VycmVudF0uc3RvcCgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICByZXNldDogZnVuY3Rpb24gKCkge1xuICAgICAgYW5pbWF0aW9ucy5mb3JFYWNoKChhbmltYXRpb24sIGlkeCkgPT4ge1xuICAgICAgICBpZiAoaWR4IDw9IGN1cnJlbnQpIHtcbiAgICAgICAgICBhbmltYXRpb24ucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjdXJyZW50ID0gMDtcbiAgICB9LFxuXG4gICAgX3N0YXJ0TmF0aXZlTG9vcDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnTG9vcHMgcnVuIHVzaW5nIHRoZSBuYXRpdmUgZHJpdmVyIGNhbm5vdCBjb250YWluIEFuaW1hdGVkLnNlcXVlbmNlIGFuaW1hdGlvbnMnLFxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgX2lzVXNpbmdOYXRpdmVEcml2ZXI6IGZ1bmN0aW9uICgpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICB9O1xufTtcblxudHlwZSBQYXJhbGxlbENvbmZpZyA9IHtcbiAgLy8gSWYgb25lIGlzIHN0b3BwZWQsIHN0b3AgYWxsLiAgZGVmYXVsdDogdHJ1ZVxuICBzdG9wVG9nZXRoZXI/OiBib29sZWFuLFxuICAuLi5cbn07XG5jb25zdCBwYXJhbGxlbCA9IGZ1bmN0aW9uIChcbiAgYW5pbWF0aW9uczogQXJyYXk8Q29tcG9zaXRlQW5pbWF0aW9uPixcbiAgY29uZmlnPzogP1BhcmFsbGVsQ29uZmlnLFxuKTogQ29tcG9zaXRlQW5pbWF0aW9uIHtcbiAgbGV0IGRvbmVDb3VudCA9IDA7XG4gIC8vIE1ha2Ugc3VyZSB3ZSBvbmx5IGNhbGwgc3RvcCgpIGF0IG1vc3Qgb25jZSBmb3IgZWFjaCBhbmltYXRpb25cbiAgY29uc3QgaGFzRW5kZWQgPSB7fTtcbiAgY29uc3Qgc3RvcFRvZ2V0aGVyID0gIShjb25maWcgJiYgY29uZmlnLnN0b3BUb2dldGhlciA9PT0gZmFsc2UpO1xuXG4gIGNvbnN0IHJlc3VsdCA9IHtcbiAgICBzdGFydDogZnVuY3Rpb24gKGNhbGxiYWNrPzogP0VuZENhbGxiYWNrKSB7XG4gICAgICBpZiAoZG9uZUNvdW50ID09PSBhbmltYXRpb25zLmxlbmd0aCkge1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayh7ZmluaXNoZWQ6IHRydWV9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhbmltYXRpb25zLmZvckVhY2goKGFuaW1hdGlvbiwgaWR4KSA9PiB7XG4gICAgICAgIGNvbnN0IGNiID0gZnVuY3Rpb24gKGVuZFJlc3VsdCkge1xuICAgICAgICAgIGhhc0VuZGVkW2lkeF0gPSB0cnVlO1xuICAgICAgICAgIGRvbmVDb3VudCsrO1xuICAgICAgICAgIGlmIChkb25lQ291bnQgPT09IGFuaW1hdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBkb25lQ291bnQgPSAwO1xuICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZW5kUmVzdWx0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWVuZFJlc3VsdC5maW5pc2hlZCAmJiBzdG9wVG9nZXRoZXIpIHtcbiAgICAgICAgICAgIHJlc3VsdC5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICghYW5pbWF0aW9uKSB7XG4gICAgICAgICAgY2Ioe2ZpbmlzaGVkOiB0cnVlfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYW5pbWF0aW9uLnN0YXJ0KGNiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uICgpOiB2b2lkIHtcbiAgICAgIGFuaW1hdGlvbnMuZm9yRWFjaCgoYW5pbWF0aW9uLCBpZHgpID0+IHtcbiAgICAgICAgIWhhc0VuZGVkW2lkeF0gJiYgYW5pbWF0aW9uLnN0b3AoKTtcbiAgICAgICAgaGFzRW5kZWRbaWR4XSA9IHRydWU7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uICgpOiB2b2lkIHtcbiAgICAgIGFuaW1hdGlvbnMuZm9yRWFjaCgoYW5pbWF0aW9uLCBpZHgpID0+IHtcbiAgICAgICAgYW5pbWF0aW9uLnJlc2V0KCk7XG4gICAgICAgIGhhc0VuZGVkW2lkeF0gPSBmYWxzZTtcbiAgICAgICAgZG9uZUNvdW50ID0gMDtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBfc3RhcnROYXRpdmVMb29wOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdMb29wcyBydW4gdXNpbmcgdGhlIG5hdGl2ZSBkcml2ZXIgY2Fubm90IGNvbnRhaW4gQW5pbWF0ZWQucGFyYWxsZWwgYW5pbWF0aW9ucycsXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBfaXNVc2luZ05hdGl2ZURyaXZlcjogZnVuY3Rpb24gKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gIH07XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmNvbnN0IGRlbGF5ID0gZnVuY3Rpb24gKHRpbWU6IG51bWJlcik6IENvbXBvc2l0ZUFuaW1hdGlvbiB7XG4gIC8vIFdvdWxkIGJlIG5pY2UgdG8gbWFrZSBhIHNwZWNpYWxpemVkIGltcGxlbWVudGF0aW9uXG4gIHJldHVybiB0aW1pbmcobmV3IEFuaW1hdGVkVmFsdWUoMCksIHtcbiAgICB0b1ZhbHVlOiAwLFxuICAgIGRlbGF5OiB0aW1lLFxuICAgIGR1cmF0aW9uOiAwLFxuICAgIHVzZU5hdGl2ZURyaXZlcjogZmFsc2UsXG4gIH0pO1xufTtcblxuY29uc3Qgc3RhZ2dlciA9IGZ1bmN0aW9uIChcbiAgdGltZTogbnVtYmVyLFxuICBhbmltYXRpb25zOiBBcnJheTxDb21wb3NpdGVBbmltYXRpb24+LFxuKTogQ29tcG9zaXRlQW5pbWF0aW9uIHtcbiAgcmV0dXJuIHBhcmFsbGVsKFxuICAgIGFuaW1hdGlvbnMubWFwKChhbmltYXRpb24sIGkpID0+IHtcbiAgICAgIHJldHVybiBzZXF1ZW5jZShbZGVsYXkodGltZSAqIGkpLCBhbmltYXRpb25dKTtcbiAgICB9KSxcbiAgKTtcbn07XG5cbnR5cGUgTG9vcEFuaW1hdGlvbkNvbmZpZyA9IHtcbiAgaXRlcmF0aW9uczogbnVtYmVyLFxuICByZXNldEJlZm9yZUl0ZXJhdGlvbj86IGJvb2xlYW4sXG4gIC4uLlxufTtcblxuY29uc3QgbG9vcCA9IGZ1bmN0aW9uIChcbiAgYW5pbWF0aW9uOiBDb21wb3NpdGVBbmltYXRpb24sXG4gIHtpdGVyYXRpb25zID0gLTEsIHJlc2V0QmVmb3JlSXRlcmF0aW9uID0gdHJ1ZX06IExvb3BBbmltYXRpb25Db25maWcgPSB7fSxcbik6IENvbXBvc2l0ZUFuaW1hdGlvbiB7XG4gIGxldCBpc0ZpbmlzaGVkID0gZmFsc2U7XG4gIGxldCBpdGVyYXRpb25zU29GYXIgPSAwO1xuICByZXR1cm4ge1xuICAgIHN0YXJ0OiBmdW5jdGlvbiAoY2FsbGJhY2s/OiA/RW5kQ2FsbGJhY2spIHtcbiAgICAgIGNvbnN0IHJlc3RhcnQgPSBmdW5jdGlvbiAocmVzdWx0OiBFbmRSZXN1bHQgPSB7ZmluaXNoZWQ6IHRydWV9KTogdm9pZCB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBpc0ZpbmlzaGVkIHx8XG4gICAgICAgICAgaXRlcmF0aW9uc1NvRmFyID09PSBpdGVyYXRpb25zIHx8XG4gICAgICAgICAgcmVzdWx0LmZpbmlzaGVkID09PSBmYWxzZVxuICAgICAgICApIHtcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXN1bHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZXJhdGlvbnNTb0ZhcisrO1xuICAgICAgICAgIHJlc2V0QmVmb3JlSXRlcmF0aW9uICYmIGFuaW1hdGlvbi5yZXNldCgpO1xuICAgICAgICAgIGFuaW1hdGlvbi5zdGFydChyZXN0YXJ0KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmICghYW5pbWF0aW9uIHx8IGl0ZXJhdGlvbnMgPT09IDApIHtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soe2ZpbmlzaGVkOiB0cnVlfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYW5pbWF0aW9uLl9pc1VzaW5nTmF0aXZlRHJpdmVyKCkpIHtcbiAgICAgICAgICBhbmltYXRpb24uX3N0YXJ0TmF0aXZlTG9vcChpdGVyYXRpb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN0YXJ0KCk7IC8vIFN0YXJ0IGxvb3BpbmcgcmVjdXJzaXZlbHkgb24gdGhlIGpzIHRocmVhZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uICgpOiB2b2lkIHtcbiAgICAgIGlzRmluaXNoZWQgPSB0cnVlO1xuICAgICAgYW5pbWF0aW9uLnN0b3AoKTtcbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uICgpOiB2b2lkIHtcbiAgICAgIGl0ZXJhdGlvbnNTb0ZhciA9IDA7XG4gICAgICBpc0ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICBhbmltYXRpb24ucmVzZXQoKTtcbiAgICB9LFxuXG4gICAgX3N0YXJ0TmF0aXZlTG9vcDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnTG9vcHMgcnVuIHVzaW5nIHRoZSBuYXRpdmUgZHJpdmVyIGNhbm5vdCBjb250YWluIEFuaW1hdGVkLmxvb3AgYW5pbWF0aW9ucycsXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBfaXNVc2luZ05hdGl2ZURyaXZlcjogZnVuY3Rpb24gKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIGFuaW1hdGlvbi5faXNVc2luZ05hdGl2ZURyaXZlcigpO1xuICAgIH0sXG4gIH07XG59O1xuXG5mdW5jdGlvbiBmb3JrRXZlbnQoXG4gIGV2ZW50OiA/QW5pbWF0ZWRFdmVudCB8ID9GdW5jdGlvbixcbiAgbGlzdGVuZXI6IEZ1bmN0aW9uLFxuKTogQW5pbWF0ZWRFdmVudCB8IEZ1bmN0aW9uIHtcbiAgaWYgKCFldmVudCkge1xuICAgIHJldHVybiBsaXN0ZW5lcjtcbiAgfSBlbHNlIGlmIChldmVudCBpbnN0YW5jZW9mIEFuaW1hdGVkRXZlbnQpIHtcbiAgICBldmVudC5fX2FkZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICByZXR1cm4gZXZlbnQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICB0eXBlb2YgZXZlbnQgPT09ICdmdW5jdGlvbicgJiYgZXZlbnQoLi4uYXJncyk7XG4gICAgICBsaXN0ZW5lciguLi5hcmdzKTtcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIHVuZm9ya0V2ZW50KFxuICBldmVudDogP0FuaW1hdGVkRXZlbnQgfCA/RnVuY3Rpb24sXG4gIGxpc3RlbmVyOiBGdW5jdGlvbixcbik6IHZvaWQge1xuICBpZiAoZXZlbnQgJiYgZXZlbnQgaW5zdGFuY2VvZiBBbmltYXRlZEV2ZW50KSB7XG4gICAgZXZlbnQuX19yZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIH1cbn1cblxuY29uc3QgZXZlbnQgPSBmdW5jdGlvbiAoXG4gIGFyZ01hcHBpbmc6ICRSZWFkT25seUFycmF5PD9NYXBwaW5nPixcbiAgY29uZmlnOiBFdmVudENvbmZpZyxcbik6IGFueSB7XG4gIGNvbnN0IGFuaW1hdGVkRXZlbnQgPSBuZXcgQW5pbWF0ZWRFdmVudChhcmdNYXBwaW5nLCBjb25maWcpO1xuICBpZiAoYW5pbWF0ZWRFdmVudC5fX2lzTmF0aXZlKSB7XG4gICAgcmV0dXJuIGFuaW1hdGVkRXZlbnQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFuaW1hdGVkRXZlbnQuX19nZXRIYW5kbGVyKCk7XG4gIH1cbn07XG5cbi8qKlxuICogVGhlIGBBbmltYXRlZGAgbGlicmFyeSBpcyBkZXNpZ25lZCB0byBtYWtlIGFuaW1hdGlvbnMgZmx1aWQsIHBvd2VyZnVsLCBhbmRcbiAqIGVhc3kgdG8gYnVpbGQgYW5kIG1haW50YWluLiBgQW5pbWF0ZWRgIGZvY3VzZXMgb24gZGVjbGFyYXRpdmUgcmVsYXRpb25zaGlwc1xuICogYmV0d2VlbiBpbnB1dHMgYW5kIG91dHB1dHMsIHdpdGggY29uZmlndXJhYmxlIHRyYW5zZm9ybXMgaW4gYmV0d2VlbiwgYW5kXG4gKiBzaW1wbGUgYHN0YXJ0YC9gc3RvcGAgbWV0aG9kcyB0byBjb250cm9sIHRpbWUtYmFzZWQgYW5pbWF0aW9uIGV4ZWN1dGlvbi5cbiAqIElmIGFkZGl0aW9uYWwgdHJhbnNmb3JtcyBhcmUgYWRkZWQsIGJlIHN1cmUgdG8gaW5jbHVkZSB0aGVtIGluXG4gKiBBbmltYXRlZE1vY2suanMgYXMgd2VsbC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLyoqXG4gICAqIFN0YW5kYXJkIHZhbHVlIGNsYXNzIGZvciBkcml2aW5nIGFuaW1hdGlvbnMuICBUeXBpY2FsbHkgaW5pdGlhbGl6ZWQgd2l0aFxuICAgKiBgbmV3IEFuaW1hdGVkLlZhbHVlKDApO2BcbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWQjdmFsdWVcbiAgICovXG4gIFZhbHVlOiBBbmltYXRlZFZhbHVlLFxuICAvKipcbiAgICogMkQgdmFsdWUgY2xhc3MgZm9yIGRyaXZpbmcgMkQgYW5pbWF0aW9ucywgc3VjaCBhcyBwYW4gZ2VzdHVyZXMuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWV4eVxuICAgKi9cbiAgVmFsdWVYWTogQW5pbWF0ZWRWYWx1ZVhZLFxuICAvKipcbiAgICogVmFsdWUgY2xhc3MgZm9yIGRyaXZpbmcgY29sb3IgYW5pbWF0aW9ucy5cbiAgICovXG4gIENvbG9yOiBBbmltYXRlZENvbG9yLFxuICAvKipcbiAgICogRXhwb3J0ZWQgdG8gdXNlIHRoZSBJbnRlcnBvbGF0aW9uIHR5cGUgaW4gZmxvdy5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWQjaW50ZXJwb2xhdGlvblxuICAgKi9cbiAgSW50ZXJwb2xhdGlvbjogQW5pbWF0ZWRJbnRlcnBvbGF0aW9uLFxuICAvKipcbiAgICogRXhwb3J0ZWQgZm9yIGVhc2Ugb2YgdHlwZSBjaGVja2luZy4gQWxsIGFuaW1hdGVkIHZhbHVlcyBkZXJpdmUgZnJvbSB0aGlzXG4gICAqIGNsYXNzLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZCNub2RlXG4gICAqL1xuICBOb2RlOiBBbmltYXRlZE5vZGUsXG5cbiAgLyoqXG4gICAqIEFuaW1hdGVzIGEgdmFsdWUgZnJvbSBhbiBpbml0aWFsIHZlbG9jaXR5IHRvIHplcm8gYmFzZWQgb24gYSBkZWNheVxuICAgKiBjb2VmZmljaWVudC5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWQjZGVjYXlcbiAgICovXG4gIGRlY2F5LFxuICAvKipcbiAgICogQW5pbWF0ZXMgYSB2YWx1ZSBhbG9uZyBhIHRpbWVkIGVhc2luZyBjdXJ2ZS4gVGhlIEVhc2luZyBtb2R1bGUgaGFzIHRvbnMgb2ZcbiAgICogcHJlZGVmaW5lZCBjdXJ2ZXMsIG9yIHlvdSBjYW4gdXNlIHlvdXIgb3duIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZCN0aW1pbmdcbiAgICovXG4gIHRpbWluZyxcbiAgLyoqXG4gICAqIEFuaW1hdGVzIGEgdmFsdWUgYWNjb3JkaW5nIHRvIGFuIGFuYWx5dGljYWwgc3ByaW5nIG1vZGVsIGJhc2VkIG9uXG4gICAqIGRhbXBlZCBoYXJtb25pYyBvc2NpbGxhdGlvbi5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWQjc3ByaW5nXG4gICAqL1xuICBzcHJpbmcsXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgQW5pbWF0ZWQgdmFsdWUgY29tcG9zZWQgZnJvbSB0d28gQW5pbWF0ZWQgdmFsdWVzIGFkZGVkXG4gICAqIHRvZ2V0aGVyLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZCNhZGRcbiAgICovXG4gIGFkZCxcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBBbmltYXRlZCB2YWx1ZSBjb21wb3NlZCBieSBzdWJ0cmFjdGluZyB0aGUgc2Vjb25kIEFuaW1hdGVkXG4gICAqIHZhbHVlIGZyb20gdGhlIGZpcnN0IEFuaW1hdGVkIHZhbHVlLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZCNzdWJ0cmFjdFxuICAgKi9cbiAgc3VidHJhY3QsXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgQW5pbWF0ZWQgdmFsdWUgY29tcG9zZWQgYnkgZGl2aWRpbmcgdGhlIGZpcnN0IEFuaW1hdGVkIHZhbHVlXG4gICAqIGJ5IHRoZSBzZWNvbmQgQW5pbWF0ZWQgdmFsdWUuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkI2RpdmlkZVxuICAgKi9cbiAgZGl2aWRlLFxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IEFuaW1hdGVkIHZhbHVlIGNvbXBvc2VkIGZyb20gdHdvIEFuaW1hdGVkIHZhbHVlcyBtdWx0aXBsaWVkXG4gICAqIHRvZ2V0aGVyLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZCNtdWx0aXBseVxuICAgKi9cbiAgbXVsdGlwbHksXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgQW5pbWF0ZWQgdmFsdWUgdGhhdCBpcyB0aGUgKG5vbi1uZWdhdGl2ZSkgbW9kdWxvIG9mIHRoZVxuICAgKiBwcm92aWRlZCBBbmltYXRlZCB2YWx1ZS5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWQjbW9kdWxvXG4gICAqL1xuICBtb2R1bG8sXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBBbmltYXRlZCB2YWx1ZSB0aGF0IGlzIGxpbWl0ZWQgYmV0d2VlbiAyIHZhbHVlcy4gSXQgdXNlcyB0aGVcbiAgICogZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBsYXN0IHZhbHVlIHNvIGV2ZW4gaWYgdGhlIHZhbHVlIGlzIGZhciBmcm9tIHRoZVxuICAgKiBib3VuZHMgaXQgd2lsbCBzdGFydCBjaGFuZ2luZyB3aGVuIHRoZSB2YWx1ZSBzdGFydHMgZ2V0dGluZyBjbG9zZXIgYWdhaW4uXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkI2RpZmZjbGFtcFxuICAgKi9cbiAgZGlmZkNsYW1wLFxuXG4gIC8qKlxuICAgKiBTdGFydHMgYW4gYW5pbWF0aW9uIGFmdGVyIHRoZSBnaXZlbiBkZWxheS5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWQjZGVsYXlcbiAgICovXG4gIGRlbGF5LFxuICAvKipcbiAgICogU3RhcnRzIGFuIGFycmF5IG9mIGFuaW1hdGlvbnMgaW4gb3JkZXIsIHdhaXRpbmcgZm9yIGVhY2ggdG8gY29tcGxldGVcbiAgICogYmVmb3JlIHN0YXJ0aW5nIHRoZSBuZXh0LiBJZiB0aGUgY3VycmVudCBydW5uaW5nIGFuaW1hdGlvbiBpcyBzdG9wcGVkLCBub1xuICAgKiBmb2xsb3dpbmcgYW5pbWF0aW9ucyB3aWxsIGJlIHN0YXJ0ZWQuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkI3NlcXVlbmNlXG4gICAqL1xuICBzZXF1ZW5jZSxcbiAgLyoqXG4gICAqIFN0YXJ0cyBhbiBhcnJheSBvZiBhbmltYXRpb25zIGFsbCBhdCB0aGUgc2FtZSB0aW1lLiBCeSBkZWZhdWx0LCBpZiBvbmVcbiAgICogb2YgdGhlIGFuaW1hdGlvbnMgaXMgc3RvcHBlZCwgdGhleSB3aWxsIGFsbCBiZSBzdG9wcGVkLiBZb3UgY2FuIG92ZXJyaWRlXG4gICAqIHRoaXMgd2l0aCB0aGUgYHN0b3BUb2dldGhlcmAgZmxhZy5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWQjcGFyYWxsZWxcbiAgICovXG4gIHBhcmFsbGVsLFxuICAvKipcbiAgICogQXJyYXkgb2YgYW5pbWF0aW9ucyBtYXkgcnVuIGluIHBhcmFsbGVsIChvdmVybGFwKSwgYnV0IGFyZSBzdGFydGVkIGluXG4gICAqIHNlcXVlbmNlIHdpdGggc3VjY2Vzc2l2ZSBkZWxheXMuICBOaWNlIGZvciBkb2luZyB0cmFpbGluZyBlZmZlY3RzLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZCNzdGFnZ2VyXG4gICAqL1xuICBzdGFnZ2VyLFxuICAvKipcbiAgICogTG9vcHMgYSBnaXZlbiBhbmltYXRpb24gY29udGludW91c2x5LCBzbyB0aGF0IGVhY2ggdGltZSBpdCByZWFjaGVzIHRoZVxuICAgKiBlbmQsIGl0IHJlc2V0cyBhbmQgYmVnaW5zIGFnYWluIGZyb20gdGhlIHN0YXJ0LlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZCNsb29wXG4gICAqL1xuICBsb29wLFxuXG4gIC8qKlxuICAgKiBUYWtlcyBhbiBhcnJheSBvZiBtYXBwaW5ncyBhbmQgZXh0cmFjdHMgdmFsdWVzIGZyb20gZWFjaCBhcmcgYWNjb3JkaW5nbHksXG4gICAqIHRoZW4gY2FsbHMgYHNldFZhbHVlYCBvbiB0aGUgbWFwcGVkIG91dHB1dHMuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkI2V2ZW50XG4gICAqL1xuICBldmVudCxcblxuICAvKipcbiAgICogTWFrZSBhbnkgUmVhY3QgY29tcG9uZW50IEFuaW1hdGFibGUuICBVc2VkIHRvIGNyZWF0ZSBgQW5pbWF0ZWQuVmlld2AsIGV0Yy5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWQjY3JlYXRlYW5pbWF0ZWRjb21wb25lbnRcbiAgICovXG4gIGNyZWF0ZUFuaW1hdGVkQ29tcG9uZW50LFxuXG4gIC8qKlxuICAgKiBJbXBlcmF0aXZlIEFQSSB0byBhdHRhY2ggYW4gYW5pbWF0ZWQgdmFsdWUgdG8gYW4gZXZlbnQgb24gYSB2aWV3LiBQcmVmZXJcbiAgICogdXNpbmcgYEFuaW1hdGVkLmV2ZW50YCB3aXRoIGB1c2VOYXRpdmVEcml2ZTogdHJ1ZWAgaWYgcG9zc2libGUuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkI2F0dGFjaG5hdGl2ZWV2ZW50XG4gICAqL1xuICBhdHRhY2hOYXRpdmVFdmVudCxcblxuICAvKipcbiAgICogQWR2YW5jZWQgaW1wZXJhdGl2ZSBBUEkgZm9yIHNub29waW5nIG9uIGFuaW1hdGVkIGV2ZW50cyB0aGF0IGFyZSBwYXNzZWQgaW5cbiAgICogdGhyb3VnaCBwcm9wcy4gVXNlIHZhbHVlcyBkaXJlY3RseSB3aGVyZSBwb3NzaWJsZS5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWQjZm9ya2V2ZW50XG4gICAqL1xuICBmb3JrRXZlbnQsXG4gIHVuZm9ya0V2ZW50LFxuXG4gIC8qKlxuICAgKiBFeHBvc2UgRXZlbnQgY2xhc3MsIHNvIGl0IGNhbiBiZSB1c2VkIGFzIGEgdHlwZSBmb3IgdHlwZSBjaGVja2Vycy5cbiAgICovXG4gIEV2ZW50OiBBbmltYXRlZEV2ZW50LFxufTtcbiJdLCJtYXBwaW5ncyI6IkFBVUE7Ozs7OztBQThCQTs7Ozs7O0FBNUJBLGVBQTJDQSxPQUFPLG1CQUFsRDtBQUFBLElBQU9DLGFBQVAsWUFBT0EsYUFBUDtBQUFBLElBQXNCQyxpQkFBdEIsWUFBc0JBLGlCQUF0Qjs7QUFDQSxJQUFNQyxnQkFBZ0IsR0FBR0gsT0FBTyw0QkFBaEM7O0FBQ0EsSUFBTUksaUJBQWlCLEdBQUdKLE9BQU8sNkJBQWpDOztBQUNBLElBQU1LLGdCQUFnQixHQUFHTCxPQUFPLDRCQUFoQzs7QUFD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